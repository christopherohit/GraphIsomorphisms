/**
 * Datascript v0.15.5
 *
 * Copyright 2014-2015 Nikita Prokopov
 *
 * Licensed under Eclipse Public License;
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://github.com/tonsky/datascript/blob/master/LICENSE
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

(function (definition) {
    // This file will function properly as a <script> tag, or a module
    // using CommonJS and NodeJS or RequireJS module formats. In
    // Common/Node/RequireJS, the module exports the mori API and when
    // executed as a simple <script>, it creates a mori global
    // instead.

    // Wrapper gratefully adapted from:
    // https://github.com/kriskowal/q/blob/v1/q.js
    // https://github.com/swannodette/mori/blob/master/support/wrapper.js

    // CommonJS
    if (typeof exports === "object") {
        module.exports = definition();

    // RequireJS
    } else if (typeof define === "function" && define.amd) {
        define(definition);

    // <script>
    } else {
        datascript = definition();
    }
})(function () {
    return function () {
if(typeof Math.imul == "undefined" || (Math.imul(0xffffffff,5) == 0)) {
    Math.imul = function (a, b) {
        var ah  = (a >>> 16) & 0xffff;
        var al = a & 0xffff;
        var bh  = (b >>> 16) & 0xffff;
        var bl = b & 0xffff;
        // the shift by 0 fixes the sign on the high part
        // the final |0 converts the unsigned value into a signed value
        return ((al * bl) + (((ah * bl + al * bh) << 16) >>> 0)|0);
    }
}


var g,aa=this;
function ba(b){var a=typeof b;if("object"==a)if(b){if(b instanceof Array)return"array";if(b instanceof Object)return a;var c=Object.prototype.toString.call(b);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof b.length&&"undefined"!=typeof b.splice&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof b.call&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
a&&"undefined"==typeof b.call)return"object";return a}var ca="closure_uid_"+(1E9*Math.random()>>>0),da=0;function fa(b,a){var c=b.split("."),d=aa;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===a?d=d[e]?d[e]:d[e]={}:d[e]=a};function ga(b,a){for(var c in b)a.call(void 0,b[c],c,b)};function ha(b,a){null!=b&&this.append.apply(this,arguments)}g=ha.prototype;g.Hb="";g.set=function(b){this.Hb=""+b};g.append=function(b,a,c){this.Hb+=b;if(null!=a)for(var d=1;d<arguments.length;d++)this.Hb+=arguments[d];return this};g.clear=function(){this.Hb=""};g.toString=function(){return this.Hb};function ia(b,a){b.sort(a||ja)}function ka(b,a){for(var c=0;c<b.length;c++)b[c]={index:c,value:b[c]};var d=a||ja;ia(b,function(a,b){return d(a.value,b.value)||a.index-b.index});for(c=0;c<b.length;c++)b[c]=b[c].value}function ja(b,a){return b>a?1:b<a?-1:0};var la;if("undefined"===typeof ma)var ma=function(){throw Error("No *print-fn* fn set for evaluation environment");};if("undefined"===typeof oa)var oa=function(){throw Error("No *print-err-fn* fn set for evaluation environment");};var pa=!0,qa=null;if("undefined"===typeof ra)var ra=null;function sa(){return new p(null,5,[ta,!0,ua,!0,va,!1,wa,!1,xa,null],null)}
function ya(){pa=!1;ma=function(){function b(b){var d=null;if(0<arguments.length){for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new za(e,0)}return a.call(this,d)}function a(a){return console.log.apply(console,Aa?Ba(a):Ca.call(null,a))}b.A=0;b.H=function(b){b=q(b);return a(b)};b.h=a;return b}();oa=function(){function b(b){var d=null;if(0<arguments.length){for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new za(e,0)}return a.call(this,d)}
function a(a){return console.error.apply(console,Aa?Ba(a):Ca.call(null,a))}b.A=0;b.H=function(b){b=q(b);return a(b)};b.h=a;return b}()}function r(b){return null!=b&&!1!==b}function Da(b){return null==b}function Ea(b){return b instanceof Array}function Fa(b){return null==b?!0:!1===b?!0:!1}function Ga(b,a){return b[ba(null==a?null:a)]?!0:b._?!0:!1}function Ia(b){return null==b?null:b.constructor}
function Ja(b,a){var c=Ia(a),c=r(r(c)?c.Hc:c)?c.hc:ba(a);return Error(["No protocol method ",b," defined for type ",c,": ",a].join(""))}function Ma(b){var a=b.hc;return r(a)?a:""+t(b)}var Na="undefined"!==typeof Symbol&&"function"===ba(Symbol)?Symbol.iterator:"@@iterator";
function Oa(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 1:return Array(arguments[0]);case 2:return Array(arguments[1]);default:throw Error([t("Invalid arity: "),t(a.length)].join(""));}}function Qa(b){return Array(b)}function Ra(b){for(var a=b.length,c=Array(a),d=0;;)if(d<a)c[d]=b[d],d+=1;else break;return c}
function Ca(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 1:return Ba(arguments[0]);case 2:return Ba(arguments[1]);default:throw Error([t("Invalid arity: "),t(a.length)].join(""));}}function Aa(b){return Ba(b)}function Ba(b){function a(a,b){a.push(b);return a}var c=[];return v?v(a,c,b):Sa.call(null,a,c,b)}function Ta(){}
var Ua=function Ua(a){if(null!=a&&null!=a.P)return a.P(a);var c=Ua[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=Ua._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ja("ICounted.-count",a);},Wa=function Wa(a){if(null!=a&&null!=a.ea)return a.ea(a);var c=Wa[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=Wa._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ja("IEmptyableCollection.-empty",a);};function Za(){}
var $a=function $a(a,c){if(null!=a&&null!=a.R)return a.R(a,c);var d=$a[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=$a._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ja("ICollection.-conj",a);};function ab(){}
var w=function w(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return w.b(arguments[0],arguments[1]);case 3:return w.f(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};
w.b=function(b,a){if(null!=b&&null!=b.L)return b.L(b,a);var c=w[ba(null==b?null:b)];if(null!=c)return c.b?c.b(b,a):c.call(null,b,a);c=w._;if(null!=c)return c.b?c.b(b,a):c.call(null,b,a);throw Ja("IIndexed.-nth",b);};w.f=function(b,a,c){if(null!=b&&null!=b.Aa)return b.Aa(b,a,c);var d=w[ba(null==b?null:b)];if(null!=d)return d.f?d.f(b,a,c):d.call(null,b,a,c);d=w._;if(null!=d)return d.f?d.f(b,a,c):d.call(null,b,a,c);throw Ja("IIndexed.-nth",b);};w.A=3;function bb(){}
var cb=function cb(a){if(null!=a&&null!=a.ka)return a.ka(a);var c=cb[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=cb._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ja("ISeq.-first",a);},db=function db(a){if(null!=a&&null!=a.oa)return a.oa(a);var c=db[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=db._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ja("ISeq.-rest",a);};function eb(){}function fb(){}
var gb=function gb(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return gb.b(arguments[0],arguments[1]);case 3:return gb.f(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};
gb.b=function(b,a){if(null!=b&&null!=b.G)return b.G(b,a);var c=gb[ba(null==b?null:b)];if(null!=c)return c.b?c.b(b,a):c.call(null,b,a);c=gb._;if(null!=c)return c.b?c.b(b,a):c.call(null,b,a);throw Ja("ILookup.-lookup",b);};gb.f=function(b,a,c){if(null!=b&&null!=b.F)return b.F(b,a,c);var d=gb[ba(null==b?null:b)];if(null!=d)return d.f?d.f(b,a,c):d.call(null,b,a,c);d=gb._;if(null!=d)return d.f?d.f(b,a,c):d.call(null,b,a,c);throw Ja("ILookup.-lookup",b);};gb.A=3;
var hb=function hb(a,c){if(null!=a&&null!=a.Rb)return a.Rb(a,c);var d=hb[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=hb._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ja("IAssociative.-contains-key?",a);},jb=function jb(a,c,d){if(null!=a&&null!=a.T)return a.T(a,c,d);var e=jb[ba(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);e=jb._;if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw Ja("IAssociative.-assoc",a);};function kb(){}
var mb=function mb(a,c){if(null!=a&&null!=a.Y)return a.Y(a,c);var d=mb[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=mb._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ja("IMap.-dissoc",a);};function nb(){}
var ob=function ob(a){if(null!=a&&null!=a.mc)return a.mc(a);var c=ob[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=ob._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ja("IMapEntry.-key",a);},pb=function pb(a){if(null!=a&&null!=a.nc)return a.nc(a);var c=pb[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=pb._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ja("IMapEntry.-val",a);};function qb(){}
var rb=function rb(a,c){if(null!=a&&null!=a.Gc)return a.Gc(a,c);var d=rb[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=rb._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ja("ISet.-disjoin",a);},sb=function sb(a){if(null!=a&&null!=a.Ib)return a.Ib(a);var c=sb[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=sb._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ja("IStack.-peek",a);};function tb(){}
var ub=function ub(a,c,d){if(null!=a&&null!=a.Ub)return a.Ub(a,c,d);var e=ub[ba(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);e=ub._;if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw Ja("IVector.-assoc-n",a);};function wb(){}var xb=function xb(a){if(null!=a&&null!=a.dc)return a.dc(a);var c=xb[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=xb._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ja("IDeref.-deref",a);};function yb(){}
var zb=function zb(a){if(null!=a&&null!=a.N)return a.N(a);var c=zb[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=zb._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ja("IMeta.-meta",a);};function Cb(){}var Db=function Db(a,c){if(null!=a&&null!=a.O)return a.O(a,c);var d=Db[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=Db._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ja("IWithMeta.-with-meta",a);};function Eb(){}
var Fb=function Fb(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return Fb.b(arguments[0],arguments[1]);case 3:return Fb.f(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};
Fb.b=function(b,a){if(null!=b&&null!=b.la)return b.la(b,a);var c=Fb[ba(null==b?null:b)];if(null!=c)return c.b?c.b(b,a):c.call(null,b,a);c=Fb._;if(null!=c)return c.b?c.b(b,a):c.call(null,b,a);throw Ja("IReduce.-reduce",b);};Fb.f=function(b,a,c){if(null!=b&&null!=b.ma)return b.ma(b,a,c);var d=Fb[ba(null==b?null:b)];if(null!=d)return d.f?d.f(b,a,c):d.call(null,b,a,c);d=Fb._;if(null!=d)return d.f?d.f(b,a,c):d.call(null,b,a,c);throw Ja("IReduce.-reduce",b);};Fb.A=3;
var Hb=function Hb(a,c,d){if(null!=a&&null!=a.fc)return a.fc(a,c,d);var e=Hb[ba(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);e=Hb._;if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw Ja("IKVReduce.-kv-reduce",a);},Ib=function Ib(a,c){if(null!=a&&null!=a.w)return a.w(a,c);var d=Ib[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=Ib._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ja("IEquiv.-equiv",a);},Kb=function Kb(a){if(null!=a&&null!=
a.K)return a.K(a);var c=Kb[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=Kb._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ja("IHash.-hash",a);};function Lb(){}var Mb=function Mb(a){if(null!=a&&null!=a.M)return a.M(a);var c=Mb[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=Mb._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ja("ISeqable.-seq",a);};function Nb(){}function Ob(){}function Pb(){}function Qb(){}
var Rb=function Rb(a){if(null!=a&&null!=a.$a)return a.$a(a);var c=Rb[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=Rb._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ja("IReversible.-rseq",a);},Sb=function Sb(a,c){if(null!=a&&null!=a.rd)return a.rd(0,c);var d=Sb[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=Sb._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ja("IWriter.-write",a);},Tb=function Tb(a,c,d){if(null!=a&&null!=a.I)return a.I(a,c,d);
var e=Tb[ba(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);e=Tb._;if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw Ja("IPrintWithWriter.-pr-writer",a);},Ub=function Ub(a,c,d){if(null!=a&&null!=a.qd)return a.qd(0,c,d);var e=Ub[ba(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);e=Ub._;if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw Ja("IWatchable.-notify-watches",a);},Vb=function Vb(a){if(null!=a&&null!=a.ec)return a.ec(a);var c=Vb[ba(null==
a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=Vb._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ja("IEditableCollection.-as-transient",a);},Wb=function Wb(a,c){if(null!=a&&null!=a.Tb)return a.Tb(a,c);var d=Wb[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=Wb._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ja("ITransientCollection.-conj!",a);},Yb=function Yb(a){if(null!=a&&null!=a.gc)return a.gc(a);var c=Yb[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):
c.call(null,a);c=Yb._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ja("ITransientCollection.-persistent!",a);},Zb=function Zb(a,c,d){if(null!=a&&null!=a.oc)return a.oc(a,c,d);var e=Zb[ba(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);e=Zb._;if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw Ja("ITransientAssociative.-assoc!",a);},$b=function $b(a,c,d){if(null!=a&&null!=a.od)return a.od(0,c,d);var e=$b[ba(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,
a,c,d);e=$b._;if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw Ja("ITransientVector.-assoc-n!",a);};function ac(){}
var bc=function bc(a,c){if(null!=a&&null!=a.Sb)return a.Sb(a,c);var d=bc[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=bc._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ja("IComparable.-compare",a);},cc=function cc(a){if(null!=a&&null!=a.ld)return a.ld();var c=cc[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=cc._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ja("IChunk.-drop-first",a);},z=function z(a){if(null!=a&&null!=a.Bc)return a.Bc(a);
var c=z[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=z._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ja("IChunkedSeq.-chunked-first",a);},B=function B(a){if(null!=a&&null!=a.Cc)return a.Cc(a);var c=B[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=B._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ja("IChunkedSeq.-chunked-rest",a);},dc=function dc(a){if(null!=a&&null!=a.Ac)return a.Ac(a);var c=dc[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,
a);c=dc._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ja("IChunkedNext.-chunked-next",a);},ec=function ec(a,c){if(null!=a&&null!=a.Nd)return a.Nd(a,c);var d=ec[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=ec._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ja("IReset.-reset!",a);},gc=function gc(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return gc.b(arguments[0],arguments[1]);case 3:return gc.f(arguments[0],
arguments[1],arguments[2]);case 4:return gc.S(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return gc.W(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};gc.b=function(b,a){if(null!=b&&null!=b.Pd)return b.Pd(b,a);var c=gc[ba(null==b?null:b)];if(null!=c)return c.b?c.b(b,a):c.call(null,b,a);c=gc._;if(null!=c)return c.b?c.b(b,a):c.call(null,b,a);throw Ja("ISwap.-swap!",b);};
gc.f=function(b,a,c){if(null!=b&&null!=b.Qd)return b.Qd(b,a,c);var d=gc[ba(null==b?null:b)];if(null!=d)return d.f?d.f(b,a,c):d.call(null,b,a,c);d=gc._;if(null!=d)return d.f?d.f(b,a,c):d.call(null,b,a,c);throw Ja("ISwap.-swap!",b);};gc.S=function(b,a,c,d){if(null!=b&&null!=b.Rd)return b.Rd(b,a,c,d);var e=gc[ba(null==b?null:b)];if(null!=e)return e.S?e.S(b,a,c,d):e.call(null,b,a,c,d);e=gc._;if(null!=e)return e.S?e.S(b,a,c,d):e.call(null,b,a,c,d);throw Ja("ISwap.-swap!",b);};
gc.W=function(b,a,c,d,e){if(null!=b&&null!=b.Sd)return b.Sd(b,a,c,d,e);var f=gc[ba(null==b?null:b)];if(null!=f)return f.W?f.W(b,a,c,d,e):f.call(null,b,a,c,d,e);f=gc._;if(null!=f)return f.W?f.W(b,a,c,d,e):f.call(null,b,a,c,d,e);throw Ja("ISwap.-swap!",b);};gc.A=5;
var hc=function hc(a,c){if(null!=a&&null!=a.pd)return a.pd(0,c);var d=hc[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=hc._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ja("IVolatile.-vreset!",a);},ic=function ic(a){if(null!=a&&null!=a.U)return a.U(a);var c=ic[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=ic._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ja("IIterable.-iterator",a);};function jc(b){this.de=b;this.m=1073741824;this.C=0}
jc.prototype.rd=function(b,a){return this.de.append(a)};function kc(b){var a=new ha;b.I(null,new jc(a),sa());return""+t(a)}var lc="undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(b,a){return Math.imul(b,a)}:function(b,a){var c=b&65535,d=a&65535;return c*d+((b>>>16&65535)*d+c*(a>>>16&65535)<<16>>>0)|0};function mc(b){b=lc(b|0,-862048943);return lc(b<<15|b>>>-15,461845907)}function nc(b,a){var c=(b|0)^(a|0);return lc(c<<13|c>>>-13,5)+-430675100|0}
function oc(b,a){var c=(b|0)^a,c=lc(c^c>>>16,-2048144789),c=lc(c^c>>>13,-1028477387);return c^c>>>16}function rc(b){var a;a:{a=1;for(var c=0;;)if(a<b.length){var d=a+2,c=nc(c,mc(b.charCodeAt(a-1)|b.charCodeAt(a)<<16));a=d}else{a=c;break a}}a=1===(b.length&1)?a^mc(b.charCodeAt(b.length-1)):a;return oc(a,lc(2,b.length))}var sc={},tc=0;
function vc(b){255<tc&&(sc={},tc=0);var a=sc[b];if("number"!==typeof a){a:if(null!=b)if(a=b.length,0<a)for(var c=0,d=0;;)if(c<a)var e=c+1,d=lc(31,d)+b.charCodeAt(c),c=e;else{a=d;break a}else a=0;else a=0;sc[b]=a;tc+=1}return b=a}function wc(b){null!=b&&(b.m&4194304||b.md)?b=b.K(null):"number"===typeof b?b=Math.floor(b)%2147483647:!0===b?b=1:!1===b?b=0:"string"===typeof b?(b=vc(b),0!==b&&(b=mc(b),b=nc(0,b),b=oc(b,4))):b=b instanceof Date?b.valueOf():null==b?0:Kb(b);return b}
function xc(b,a){return b^a+2654435769+(b<<6)+(b>>2)}function yc(b){return b instanceof C}function zc(b,a){if(b.gb===a.gb)return 0;var c=Fa(b.Ba);if(r(c?a.Ba:c))return-1;if(r(b.Ba)){if(Fa(a.Ba))return 1;c=ja(b.Ba,a.Ba);return 0===c?ja(b.name,a.name):c}return ja(b.name,a.name)}function C(b,a,c,d,e){this.Ba=b;this.name=a;this.gb=c;this.cc=d;this.Ca=e;this.m=2154168321;this.C=4096}g=C.prototype;g.toString=function(){return this.gb};g.equiv=function(b){return this.w(null,b)};
g.w=function(b,a){return a instanceof C?this.gb===a.gb:!1};g.call=function(){function b(a,b,c){return Ac?Ac(b,this,c):Bc.call(null,b,this,c)}function a(a,b){return Cc?Cc(b,this):Bc.call(null,b,this)}var c=null,c=function(c,e,f){switch(arguments.length){case 2:return a.call(this,0,e);case 3:return b.call(this,0,e,f)}throw Error("Invalid arity: "+arguments.length);};c.b=a;c.f=b;return c}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Ra(a)))};
g.c=function(b){return Cc?Cc(b,this):Bc.call(null,b,this)};g.b=function(b,a){return Ac?Ac(b,this,a):Bc.call(null,b,this,a)};g.N=function(){return this.Ca};g.O=function(b,a){return new C(this.Ba,this.name,this.gb,this.cc,a)};g.K=function(){var b=this.cc;return null!=b?b:this.cc=b=xc(rc(this.name),vc(this.Ba))};g.I=function(b,a){return Sb(a,this.gb)};
var Dc=function Dc(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return Dc.c(arguments[0]);case 2:return Dc.b(arguments[0],arguments[1]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};Dc.c=function(b){if(b instanceof C)return b;var a=b.indexOf("/");return-1===a?Dc.b(null,b):Dc.b(b.substring(0,a),b.substring(a+1,b.length))};Dc.b=function(b,a){var c=null!=b?[t(b),t("/"),t(a)].join(""):a;return new C(b,a,c,null,null)};
Dc.A=2;function q(b){if(null==b)return null;if(null!=b&&(b.m&8388608||b.Fc))return b.M(null);if(Ea(b)||"string"===typeof b)return 0===b.length?null:new za(b,0);if(Ga(Lb,b))return Mb(b);throw Error([t(b),t(" is not ISeqable")].join(""));}function E(b){if(null==b)return null;if(null!=b&&(b.m&64||b.Ia))return b.ka(null);b=q(b);return null==b?null:cb(b)}function Ec(b){return null!=b?null!=b&&(b.m&64||b.Ia)?b.oa(null):(b=q(b))?db(b):Fc:Fc}
function F(b){return null==b?null:null!=b&&(b.m&128||b.Ec)?b.va(null):q(Ec(b))}var G=function G(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return G.c(arguments[0]);case 2:return G.b(arguments[0],arguments[1]);default:return G.h(arguments[0],arguments[1],new za(c.slice(2),0))}};G.c=function(){return!0};G.b=function(b,a){return null==b?null==a:b===a||Ib(b,a)};
G.h=function(b,a,c){for(;;)if(G.b(b,a))if(F(c))b=a,a=E(c),c=F(c);else return G.b(a,E(c));else return!1};G.H=function(b){var a=E(b),c=F(b);b=E(c);c=F(c);return G.h(a,b,c)};G.A=2;function Gc(b){this.aa=b}Gc.prototype.next=function(){if(null!=this.aa){var b=E(this.aa);this.aa=F(this.aa);return{value:b,done:!1}}return{value:null,done:!0}};function Hc(b){return new Gc(q(b))}function Ic(b,a){var c=mc(b),c=nc(0,c);return oc(c,a)}
function Jc(b){var a=0,c=1;for(b=q(b);;)if(null!=b)a+=1,c=lc(31,c)+wc(E(b))|0,b=F(b);else return Ic(c,a)}var Kc=Ic(1,0);function Lc(b){var a=0,c=0;for(b=q(b);;)if(null!=b)a+=1,c=c+wc(E(b))|0,b=F(b);else return Ic(c,a)}var Mc=Ic(0,0);Ta["null"]=!0;Ua["null"]=function(){return 0};Date.prototype.w=function(b,a){return a instanceof Date&&this.valueOf()===a.valueOf()};Date.prototype.lc=!0;
Date.prototype.Sb=function(b,a){if(a instanceof Date)return ja(this.valueOf(),a.valueOf());throw Error([t("Cannot compare "),t(this),t(" to "),t(a)].join(""));};Ib.number=function(b,a){return b===a};yb["function"]=!0;zb["function"]=function(){return null};Kb._=function(b){return b[ca]||(b[ca]=++da)};function Nc(b){return b+1}function Oc(b){this.J=b;this.m=32768;this.C=0}Oc.prototype.dc=function(){return this.J};function Pc(b){return new Oc(b)}function Qc(b){return b instanceof Oc}
function H(b){return xb(b)}function Rc(b,a){var c=Ua(b);if(0===c)return a.s?a.s():a.call(null);for(var d=w.b(b,0),e=1;;)if(e<c){var f=w.b(b,e),d=a.b?a.b(d,f):a.call(null,d,f);if(Qc(d))return xb(d);e+=1}else return d}function Sc(b,a,c){var d=Ua(b),e=c;for(c=0;;)if(c<d){var f=w.b(b,c),e=a.b?a.b(e,f):a.call(null,e,f);if(Qc(e))return xb(e);c+=1}else return e}
function Tc(b,a){var c=b.length;if(0===b.length)return a.s?a.s():a.call(null);for(var d=b[0],e=1;;)if(e<c){var f=b[e],d=a.b?a.b(d,f):a.call(null,d,f);if(Qc(d))return xb(d);e+=1}else return d}function Uc(b,a,c){var d=b.length,e=c;for(c=0;;)if(c<d){var f=b[c],e=a.b?a.b(e,f):a.call(null,e,f);if(Qc(e))return xb(e);c+=1}else return e}function Vc(b,a,c,d){for(var e=b.length;;)if(d<e){var f=b[d];c=a.b?a.b(c,f):a.call(null,c,f);if(Qc(c))return xb(c);d+=1}else return c}
function Wc(b){return null!=b?b.m&2||b.Mc?!0:b.m?!1:Ga(Ta,b):Ga(Ta,b)}function Xc(b){return null!=b?b.m&16||b.nd?!0:b.m?!1:Ga(ab,b):Ga(ab,b)}function Yc(b,a){this.l=b;this.D=a}Yc.prototype.pa=function(){return this.D<this.l.length};Yc.prototype.next=function(){var b=this.l[this.D];this.D+=1;return b};function za(b,a){this.l=b;this.D=a;this.m=166199550;this.C=8192}g=za.prototype;g.toString=function(){return kc(this)};g.equiv=function(b){return this.w(null,b)};
g.L=function(b,a){var c=a+this.D;return c<this.l.length?this.l[c]:null};g.Aa=function(b,a,c){b=a+this.D;return b<this.l.length?this.l[b]:c};g.U=function(){return new Yc(this.l,this.D)};g.va=function(){return this.D+1<this.l.length?new za(this.l,this.D+1):null};g.P=function(){var b=this.l.length-this.D;return 0>b?0:b};g.$a=function(){var b=Ua(this);return 0<b?new Zc(this,b-1,null):null};g.K=function(){return Jc(this)};g.w=function(b,a){return $c.b?$c.b(this,a):$c.call(null,this,a)};g.ea=function(){return Fc};
g.la=function(b,a){return Vc(this.l,a,this.l[this.D],this.D+1)};g.ma=function(b,a,c){return Vc(this.l,a,c,this.D)};g.ka=function(){return this.l[this.D]};g.oa=function(){return this.D+1<this.l.length?new za(this.l,this.D+1):Fc};g.M=function(){return this.D<this.l.length?this:null};g.R=function(b,a){return bd.b?bd.b(a,this):bd.call(null,a,this)};za.prototype[Na]=function(){return Hc(this)};function cd(b,a){return a<b.length?new za(b,a):null}
function J(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 1:return cd(arguments[0],0);case 2:return cd(arguments[0],arguments[1]);default:throw Error([t("Invalid arity: "),t(a.length)].join(""));}}function Zc(b,a,c){this.zc=b;this.D=a;this.B=c;this.m=32374990;this.C=8192}g=Zc.prototype;g.toString=function(){return kc(this)};g.equiv=function(b){return this.w(null,b)};g.N=function(){return this.B};
g.va=function(){return 0<this.D?new Zc(this.zc,this.D-1,null):null};g.P=function(){return this.D+1};g.K=function(){return Jc(this)};g.w=function(b,a){return $c.b?$c.b(this,a):$c.call(null,this,a)};g.ea=function(){var b=this.B;return dd.b?dd.b(Fc,b):dd.call(null,Fc,b)};g.la=function(b,a){return ed?ed(a,this):fd.call(null,a,this)};g.ma=function(b,a,c){return gd?gd(a,c,this):fd.call(null,a,c,this)};g.ka=function(){return w.b(this.zc,this.D)};
g.oa=function(){return 0<this.D?new Zc(this.zc,this.D-1,null):Fc};g.M=function(){return this};g.O=function(b,a){return new Zc(this.zc,this.D,a)};g.R=function(b,a){return bd.b?bd.b(a,this):bd.call(null,a,this)};Zc.prototype[Na]=function(){return Hc(this)};function hd(b){return E(F(b))}function jd(b){return E(E(b))}function md(b){for(;;){var a=F(b);if(null!=a)b=a;else return E(b)}}Ib._=function(b,a){return b===a};
var nd=function nd(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return nd.s();case 1:return nd.c(arguments[0]);case 2:return nd.b(arguments[0],arguments[1]);default:return nd.h(arguments[0],arguments[1],new za(c.slice(2),0))}};nd.s=function(){return K};nd.c=function(b){return b};nd.b=function(b,a){return null!=b?$a(b,a):$a(Fc,a)};nd.h=function(b,a,c){for(;;)if(r(c))b=nd.b(b,a),a=E(c),c=F(c);else return nd.b(b,a)};
nd.H=function(b){var a=E(b),c=F(b);b=E(c);c=F(c);return nd.h(a,b,c)};nd.A=2;function od(b){return null==b?null:Wa(b)}function M(b){if(null!=b)if(null!=b&&(b.m&2||b.Mc))b=b.P(null);else if(Ea(b))b=b.length;else if("string"===typeof b)b=b.length;else if(null!=b&&(b.m&8388608||b.Fc))a:{b=q(b);for(var a=0;;){if(Wc(b)){b=a+Ua(b);break a}b=F(b);a+=1}}else b=Ua(b);else b=0;return b}
function qd(b,a){for(var c=null;;){if(null==b)return c;if(0===a)return q(b)?E(b):c;if(Xc(b))return w.f(b,a,c);if(q(b)){var d=F(b),e=a-1;b=d;a=e}else return c}}
function rd(b,a){if("number"!==typeof a)throw Error("index argument to nth must be a number");if(null==b)return b;if(null!=b&&(b.m&16||b.nd))return b.L(null,a);if(Ea(b))return a<b.length?b[a]:null;if("string"===typeof b)return a<b.length?b.charAt(a):null;if(null!=b&&(b.m&64||b.Ia)){var c;a:{c=b;for(var d=a;;){if(null==c)throw Error("Index out of bounds");if(0===d){if(q(c)){c=E(c);break a}throw Error("Index out of bounds");}if(Xc(c)){c=w.b(c,d);break a}if(q(c))c=F(c),--d;else throw Error("Index out of bounds");
}}return c}if(Ga(ab,b))return w.b(b,a);throw Error([t("nth not supported on this type "),t(Ma(Ia(b)))].join(""));}
function N(b,a){if("number"!==typeof a)throw Error("index argument to nth must be a number.");if(null==b)return null;if(null!=b&&(b.m&16||b.nd))return b.Aa(null,a,null);if(Ea(b))return a<b.length?b[a]:null;if("string"===typeof b)return a<b.length?b.charAt(a):null;if(null!=b&&(b.m&64||b.Ia))return qd(b,a);if(Ga(ab,b))return w.b(b,a);throw Error([t("nth not supported on this type "),t(Ma(Ia(b)))].join(""));}
function Bc(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 2:return Cc(arguments[0],arguments[1]);case 3:return Ac(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(a.length)].join(""));}}function Cc(b,a){return null==b?null:null!=b&&(b.m&256||b.Nc)?b.G(null,a):Ea(b)?a<b.length?b[a|0]:null:"string"===typeof b?a<b.length?b[a|0]:null:Ga(fb,b)?gb.b(b,a):null}
function Ac(b,a,c){return null!=b?null!=b&&(b.m&256||b.Nc)?b.F(null,a,c):Ea(b)?a<b.length?b[a]:c:"string"===typeof b?a<b.length?b[a]:c:Ga(fb,b)?gb.f(b,a,c):c:c}var O=function O(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 3:return O.f(arguments[0],arguments[1],arguments[2]);default:return O.h(arguments[0],arguments[1],arguments[2],new za(c.slice(3),0))}};O.f=function(b,a,c){return null!=b?jb(b,a,c):sd([a],[c])};
O.h=function(b,a,c,d){for(;;)if(b=O.f(b,a,c),r(d))a=E(d),c=hd(d),d=F(F(d));else return b};O.H=function(b){var a=E(b),c=F(b);b=E(c);var d=F(c),c=E(d),d=F(d);return O.h(a,b,c,d)};O.A=3;var td=function td(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return td.c(arguments[0]);case 2:return td.b(arguments[0],arguments[1]);default:return td.h(arguments[0],arguments[1],new za(c.slice(2),0))}};td.c=function(b){return b};
td.b=function(b,a){return null==b?null:mb(b,a)};td.h=function(b,a,c){for(;;){if(null==b)return null;b=td.b(b,a);if(r(c))a=E(c),c=F(c);else return b}};td.H=function(b){var a=E(b),c=F(b);b=E(c);c=F(c);return td.h(a,b,c)};td.A=2;function ud(b,a){this.o=b;this.B=a;this.m=393217;this.C=0}g=ud.prototype;g.N=function(){return this.B};g.O=function(b,a){return new ud(this.o,a)};
g.call=function(){function b(a,b,c,d,e,f,h,k,m,l,n,u,y,A,D,x,L,I,Q,pd,La,af){a=this;return vd.Dc?vd.Dc(a.o,b,c,d,e,f,h,k,m,l,n,u,y,A,D,x,L,I,Q,pd,La,af):vd.call(null,a.o,b,c,d,e,f,h,k,m,l,n,u,y,A,D,x,L,I,Q,pd,La,af)}function a(a,b,c,d,e,f,h,k,m,l,n,u,y,A,D,x,L,I,Q,pd,La){a=this;return a.o.wb?a.o.wb(b,c,d,e,f,h,k,m,l,n,u,y,A,D,x,L,I,Q,pd,La):a.o.call(null,b,c,d,e,f,h,k,m,l,n,u,y,A,D,x,L,I,Q,pd,La)}function c(a,b,c,d,e,f,h,k,m,l,n,u,y,A,D,x,L,I,Q,pd){a=this;return a.o.vb?a.o.vb(b,c,d,e,f,h,k,m,l,n,
u,y,A,D,x,L,I,Q,pd):a.o.call(null,b,c,d,e,f,h,k,m,l,n,u,y,A,D,x,L,I,Q,pd)}function d(a,b,c,d,e,f,h,k,m,l,n,u,y,A,D,x,L,I,Q){a=this;return a.o.ub?a.o.ub(b,c,d,e,f,h,k,m,l,n,u,y,A,D,x,L,I,Q):a.o.call(null,b,c,d,e,f,h,k,m,l,n,u,y,A,D,x,L,I,Q)}function e(a,b,c,d,e,f,h,k,m,l,n,u,y,A,D,x,L,I){a=this;return a.o.tb?a.o.tb(b,c,d,e,f,h,k,m,l,n,u,y,A,D,x,L,I):a.o.call(null,b,c,d,e,f,h,k,m,l,n,u,y,A,D,x,L,I)}function f(a,b,c,d,e,f,h,k,m,l,n,u,y,A,D,x,L){a=this;return a.o.sb?a.o.sb(b,c,d,e,f,h,k,m,l,n,u,y,A,D,
x,L):a.o.call(null,b,c,d,e,f,h,k,m,l,n,u,y,A,D,x,L)}function h(a,b,c,d,e,f,h,k,m,l,n,u,y,A,D,x){a=this;return a.o.rb?a.o.rb(b,c,d,e,f,h,k,m,l,n,u,y,A,D,x):a.o.call(null,b,c,d,e,f,h,k,m,l,n,u,y,A,D,x)}function k(a,b,c,d,e,f,h,k,m,l,n,u,y,A,D){a=this;return a.o.qb?a.o.qb(b,c,d,e,f,h,k,m,l,n,u,y,A,D):a.o.call(null,b,c,d,e,f,h,k,m,l,n,u,y,A,D)}function l(a,b,c,d,e,f,h,k,m,l,n,u,y,A){a=this;return a.o.pb?a.o.pb(b,c,d,e,f,h,k,m,l,n,u,y,A):a.o.call(null,b,c,d,e,f,h,k,m,l,n,u,y,A)}function m(a,b,c,d,e,f,
h,k,m,l,n,u,y){a=this;return a.o.ob?a.o.ob(b,c,d,e,f,h,k,m,l,n,u,y):a.o.call(null,b,c,d,e,f,h,k,m,l,n,u,y)}function n(a,b,c,d,e,f,h,k,m,l,n,u){a=this;return a.o.nb?a.o.nb(b,c,d,e,f,h,k,m,l,n,u):a.o.call(null,b,c,d,e,f,h,k,m,l,n,u)}function u(a,b,c,d,e,f,h,k,m,l,n){a=this;return a.o.mb?a.o.mb(b,c,d,e,f,h,k,m,l,n):a.o.call(null,b,c,d,e,f,h,k,m,l,n)}function y(a,b,c,d,e,f,h,k,m,l){a=this;return a.o.zb?a.o.zb(b,c,d,e,f,h,k,m,l):a.o.call(null,b,c,d,e,f,h,k,m,l)}function A(a,b,c,d,e,f,h,k,m){a=this;return a.o.yb?
a.o.yb(b,c,d,e,f,h,k,m):a.o.call(null,b,c,d,e,f,h,k,m)}function D(a,b,c,d,e,f,h,k){a=this;return a.o.xb?a.o.xb(b,c,d,e,f,h,k):a.o.call(null,b,c,d,e,f,h,k)}function x(a,b,c,d,e,f,h){a=this;return a.o.sa?a.o.sa(b,c,d,e,f,h):a.o.call(null,b,c,d,e,f,h)}function L(a,b,c,d,e,f){a=this;return a.o.W?a.o.W(b,c,d,e,f):a.o.call(null,b,c,d,e,f)}function I(a,b,c,d,e){a=this;return a.o.S?a.o.S(b,c,d,e):a.o.call(null,b,c,d,e)}function Q(a,b,c,d){a=this;return a.o.f?a.o.f(b,c,d):a.o.call(null,b,c,d)}function Va(a,
b,c){a=this;return a.o.b?a.o.b(b,c):a.o.call(null,b,c)}function La(a,b){a=this;return a.o.c?a.o.c(b):a.o.call(null,b)}function lb(a){a=this;return a.o.s?a.o.s():a.o.call(null)}var na=null,na=function(na,Ka,Pa,ea,Xa,Ha,Ya,ib,vb,Ab,Bb,fc,Xb,qc,Jb,uc,ad,De,Sd,pd,Xj,af){switch(arguments.length){case 1:return lb.call(this,na);case 2:return La.call(this,na,Ka);case 3:return Va.call(this,na,Ka,Pa);case 4:return Q.call(this,na,Ka,Pa,ea);case 5:return I.call(this,na,Ka,Pa,ea,Xa);case 6:return L.call(this,
na,Ka,Pa,ea,Xa,Ha);case 7:return x.call(this,na,Ka,Pa,ea,Xa,Ha,Ya);case 8:return D.call(this,na,Ka,Pa,ea,Xa,Ha,Ya,ib);case 9:return A.call(this,na,Ka,Pa,ea,Xa,Ha,Ya,ib,vb);case 10:return y.call(this,na,Ka,Pa,ea,Xa,Ha,Ya,ib,vb,Ab);case 11:return u.call(this,na,Ka,Pa,ea,Xa,Ha,Ya,ib,vb,Ab,Bb);case 12:return n.call(this,na,Ka,Pa,ea,Xa,Ha,Ya,ib,vb,Ab,Bb,fc);case 13:return m.call(this,na,Ka,Pa,ea,Xa,Ha,Ya,ib,vb,Ab,Bb,fc,Xb);case 14:return l.call(this,na,Ka,Pa,ea,Xa,Ha,Ya,ib,vb,Ab,Bb,fc,Xb,qc);case 15:return k.call(this,
na,Ka,Pa,ea,Xa,Ha,Ya,ib,vb,Ab,Bb,fc,Xb,qc,Jb);case 16:return h.call(this,na,Ka,Pa,ea,Xa,Ha,Ya,ib,vb,Ab,Bb,fc,Xb,qc,Jb,uc);case 17:return f.call(this,na,Ka,Pa,ea,Xa,Ha,Ya,ib,vb,Ab,Bb,fc,Xb,qc,Jb,uc,ad);case 18:return e.call(this,na,Ka,Pa,ea,Xa,Ha,Ya,ib,vb,Ab,Bb,fc,Xb,qc,Jb,uc,ad,De);case 19:return d.call(this,na,Ka,Pa,ea,Xa,Ha,Ya,ib,vb,Ab,Bb,fc,Xb,qc,Jb,uc,ad,De,Sd);case 20:return c.call(this,na,Ka,Pa,ea,Xa,Ha,Ya,ib,vb,Ab,Bb,fc,Xb,qc,Jb,uc,ad,De,Sd,pd);case 21:return a.call(this,na,Ka,Pa,ea,Xa,Ha,
Ya,ib,vb,Ab,Bb,fc,Xb,qc,Jb,uc,ad,De,Sd,pd,Xj);case 22:return b.call(this,na,Ka,Pa,ea,Xa,Ha,Ya,ib,vb,Ab,Bb,fc,Xb,qc,Jb,uc,ad,De,Sd,pd,Xj,af)}throw Error("Invalid arity: "+arguments.length);};na.c=lb;na.b=La;na.f=Va;na.S=Q;na.W=I;na.sa=L;na.xb=x;na.yb=D;na.zb=A;na.mb=y;na.nb=u;na.ob=n;na.pb=m;na.qb=l;na.rb=k;na.sb=h;na.tb=f;na.ub=e;na.vb=d;na.wb=c;na.Hd=a;na.Dc=b;return na}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Ra(a)))};g.s=function(){return this.o.s?this.o.s():this.o.call(null)};
g.c=function(b){return this.o.c?this.o.c(b):this.o.call(null,b)};g.b=function(b,a){return this.o.b?this.o.b(b,a):this.o.call(null,b,a)};g.f=function(b,a,c){return this.o.f?this.o.f(b,a,c):this.o.call(null,b,a,c)};g.S=function(b,a,c,d){return this.o.S?this.o.S(b,a,c,d):this.o.call(null,b,a,c,d)};g.W=function(b,a,c,d,e){return this.o.W?this.o.W(b,a,c,d,e):this.o.call(null,b,a,c,d,e)};g.sa=function(b,a,c,d,e,f){return this.o.sa?this.o.sa(b,a,c,d,e,f):this.o.call(null,b,a,c,d,e,f)};
g.xb=function(b,a,c,d,e,f,h){return this.o.xb?this.o.xb(b,a,c,d,e,f,h):this.o.call(null,b,a,c,d,e,f,h)};g.yb=function(b,a,c,d,e,f,h,k){return this.o.yb?this.o.yb(b,a,c,d,e,f,h,k):this.o.call(null,b,a,c,d,e,f,h,k)};g.zb=function(b,a,c,d,e,f,h,k,l){return this.o.zb?this.o.zb(b,a,c,d,e,f,h,k,l):this.o.call(null,b,a,c,d,e,f,h,k,l)};g.mb=function(b,a,c,d,e,f,h,k,l,m){return this.o.mb?this.o.mb(b,a,c,d,e,f,h,k,l,m):this.o.call(null,b,a,c,d,e,f,h,k,l,m)};
g.nb=function(b,a,c,d,e,f,h,k,l,m,n){return this.o.nb?this.o.nb(b,a,c,d,e,f,h,k,l,m,n):this.o.call(null,b,a,c,d,e,f,h,k,l,m,n)};g.ob=function(b,a,c,d,e,f,h,k,l,m,n,u){return this.o.ob?this.o.ob(b,a,c,d,e,f,h,k,l,m,n,u):this.o.call(null,b,a,c,d,e,f,h,k,l,m,n,u)};g.pb=function(b,a,c,d,e,f,h,k,l,m,n,u,y){return this.o.pb?this.o.pb(b,a,c,d,e,f,h,k,l,m,n,u,y):this.o.call(null,b,a,c,d,e,f,h,k,l,m,n,u,y)};
g.qb=function(b,a,c,d,e,f,h,k,l,m,n,u,y,A){return this.o.qb?this.o.qb(b,a,c,d,e,f,h,k,l,m,n,u,y,A):this.o.call(null,b,a,c,d,e,f,h,k,l,m,n,u,y,A)};g.rb=function(b,a,c,d,e,f,h,k,l,m,n,u,y,A,D){return this.o.rb?this.o.rb(b,a,c,d,e,f,h,k,l,m,n,u,y,A,D):this.o.call(null,b,a,c,d,e,f,h,k,l,m,n,u,y,A,D)};g.sb=function(b,a,c,d,e,f,h,k,l,m,n,u,y,A,D,x){return this.o.sb?this.o.sb(b,a,c,d,e,f,h,k,l,m,n,u,y,A,D,x):this.o.call(null,b,a,c,d,e,f,h,k,l,m,n,u,y,A,D,x)};
g.tb=function(b,a,c,d,e,f,h,k,l,m,n,u,y,A,D,x,L){return this.o.tb?this.o.tb(b,a,c,d,e,f,h,k,l,m,n,u,y,A,D,x,L):this.o.call(null,b,a,c,d,e,f,h,k,l,m,n,u,y,A,D,x,L)};g.ub=function(b,a,c,d,e,f,h,k,l,m,n,u,y,A,D,x,L,I){return this.o.ub?this.o.ub(b,a,c,d,e,f,h,k,l,m,n,u,y,A,D,x,L,I):this.o.call(null,b,a,c,d,e,f,h,k,l,m,n,u,y,A,D,x,L,I)};
g.vb=function(b,a,c,d,e,f,h,k,l,m,n,u,y,A,D,x,L,I,Q){return this.o.vb?this.o.vb(b,a,c,d,e,f,h,k,l,m,n,u,y,A,D,x,L,I,Q):this.o.call(null,b,a,c,d,e,f,h,k,l,m,n,u,y,A,D,x,L,I,Q)};g.wb=function(b,a,c,d,e,f,h,k,l,m,n,u,y,A,D,x,L,I,Q,Va){return this.o.wb?this.o.wb(b,a,c,d,e,f,h,k,l,m,n,u,y,A,D,x,L,I,Q,Va):this.o.call(null,b,a,c,d,e,f,h,k,l,m,n,u,y,A,D,x,L,I,Q,Va)};
g.Hd=function(b,a,c,d,e,f,h,k,l,m,n,u,y,A,D,x,L,I,Q,Va,La){return vd.Dc?vd.Dc(this.o,b,a,c,d,e,f,h,k,l,m,n,u,y,A,D,x,L,I,Q,Va,La):vd.call(null,this.o,b,a,c,d,e,f,h,k,l,m,n,u,y,A,D,x,L,I,Q,Va,La)};function dd(b,a){return"function"==ba(b)?new ud(b,a):null==b?null:Db(b,a)}function wd(b){var a=null!=b;return(a?null!=b?b.m&131072||b.Kd||(b.m?0:Ga(yb,b)):Ga(yb,b):a)?zb(b):null}
var zd=function zd(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return zd.c(arguments[0]);case 2:return zd.b(arguments[0],arguments[1]);default:return zd.h(arguments[0],arguments[1],new za(c.slice(2),0))}};zd.c=function(b){return b};zd.b=function(b,a){return null==b?null:rb(b,a)};zd.h=function(b,a,c){for(;;){if(null==b)return null;b=zd.b(b,a);if(r(c))a=E(c),c=F(c);else return b}};
zd.H=function(b){var a=E(b),c=F(b);b=E(c);c=F(c);return zd.h(a,b,c)};zd.A=2;function Ad(b){return null==b||Fa(q(b))}function Bd(b){return null==b?!1:null!=b?b.m&8||b.fe?!0:b.m?!1:Ga(Za,b):Ga(Za,b)}function Cd(b){return null==b?!1:null!=b?b.m&4096||b.le?!0:b.m?!1:Ga(qb,b):Ga(qb,b)}function Dd(b){return null!=b?b.m&16777216||b.ke?!0:b.m?!1:Ga(Nb,b):Ga(Nb,b)}function Ed(b){return null==b?!1:null!=b?b.m&1024||b.Id?!0:b.m?!1:Ga(kb,b):Ga(kb,b)}
function Fd(b){return null!=b?b.m&67108864||b.je?!0:b.m?!1:Ga(Pb,b):Ga(Pb,b)}function Gd(b){return null!=b?b.m&16384||b.me?!0:b.m?!1:Ga(tb,b):Ga(tb,b)}function P(b){return null!=b?b.C&512||b.ee?!0:!1:!1}function Hd(b){var a=[];ga(b,function(a,b){return function(a,c){return b.push(c)}}(b,a));return a}function Id(b,a,c,d,e){for(;0!==e;)c[d]=b[a],d+=1,--e,a+=1}var Jd={};function Ld(b){return null==b?!1:null!=b?b.m&64||b.Ia?!0:b.m?!1:Ga(bb,b):Ga(bb,b)}
function Md(b){return null!=b?b.m&8388608||b.Fc?!0:b.m?!1:Ga(Lb,b):Ga(Lb,b)}function Pd(b){return null==b?!1:!1===b?!1:!0}function Qd(b,a){return Ac(b,a,Jd)===Jd?!1:!0}var Rd=function Rd(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return Rd.c(arguments[0]);case 2:return Rd.b(arguments[0],arguments[1]);default:return Rd.h(arguments[0],arguments[1],new za(c.slice(2),0))}};Rd.c=function(){return!0};Rd.b=function(b,a){return!G.b(b,a)};
Rd.h=function(b,a,c){if(G.b(b,a))return!1;a:if(b=[b,a],a=b.length,a<=Td)for(var d=0,e=Vb(Ud);;)if(d<a)var f=d+1,e=Zb(e,b[d],null),d=f;else{b=new Vd(null,Yb(e),null);break a}else for(d=0,e=Vb(Wd);;)if(d<a)f=d+1,e=Wb(e,b[d]),d=f;else{b=Yb(e);break a}for(a=c;;)if(d=E(a),c=F(a),r(a)){if(Qd(b,d))return!1;b=nd.b(b,d);a=c}else return!0};Rd.H=function(b){var a=E(b),c=F(b);b=E(c);c=F(c);return Rd.h(a,b,c)};Rd.A=2;
function Xd(b,a){if(b===a)return 0;if(null==b)return-1;if(null==a)return 1;if("number"===typeof b){if("number"===typeof a)return ja(b,a);throw Error([t("Cannot compare "),t(b),t(" to "),t(a)].join(""));}if(null!=b?b.C&2048||b.lc||(b.C?0:Ga(ac,b)):Ga(ac,b))return bc(b,a);if("string"!==typeof b&&!Ea(b)&&!0!==b&&!1!==b||Ia(b)!==Ia(a))throw Error([t("Cannot compare "),t(b),t(" to "),t(a)].join(""));return ja(b,a)}
function Zd(b,a){var c=M(b),d=M(a);if(c<d)c=-1;else if(c>d)c=1;else if(0===c)c=0;else a:for(d=0;;){var e=Xd(rd(b,d),rd(a,d));if(0===e&&d+1<c)d+=1;else{c=e;break a}}return c}function $d(b){return G.b(b,Xd)?Xd:function(a,c){var d=b.b?b.b(a,c):b.call(null,a,c);return"number"===typeof d?d:r(d)?-1:r(b.b?b.b(c,a):b.call(null,c,a))?1:0}}function ae(b,a){if(q(a)){var c=be.c?be.c(a):be.call(null,a),d=$d(b);ka(c,d);return q(c)}return Fc}
function fd(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 2:return ed(arguments[0],arguments[1]);case 3:return gd(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(a.length)].join(""));}}function ed(b,a){var c=q(a);if(c){var d=E(c),c=F(c);return v?v(b,d,c):Sa.call(null,b,d,c)}return b.s?b.s():b.call(null)}
function gd(b,a,c){for(c=q(c);;)if(c){var d=E(c);a=b.b?b.b(a,d):b.call(null,a,d);if(Qc(a))return xb(a);c=F(c)}else return a}function fe(b){b=be.c?be.c(b):be.call(null,b);for(var a=Math.random,c=b.length-1;0<c;c--){var d=Math.floor(a()*(c+1)),e=b[c];b[c]=b[d];b[d]=e}return ge.c?ge.c(b):ge.call(null,b)}
function Sa(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 2:return he(arguments[0],arguments[1]);case 3:return v(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(a.length)].join(""));}}function he(b,a){return null!=a&&(a.m&524288||a.Md)?a.la(null,b):Ea(a)?Tc(a,b):"string"===typeof a?Tc(a,b):Ga(Eb,a)?Fb.b(a,b):ed(b,a)}
function v(b,a,c){return null!=c&&(c.m&524288||c.Md)?c.ma(null,b,a):Ea(c)?Uc(c,b,a):"string"===typeof c?Uc(c,b,a):Ga(Eb,c)?Fb.f(c,b,a):gd(b,a,c)}function ie(b,a,c){return null!=c?Hb(c,b,a):a}function je(b){return b}function ke(b,a,c,d){b=b.c?b.c(a):b.call(null,a);c=v(b,c,d);return b.c?b.c(c):b.call(null,c)}
var le=function le(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return le.s();case 1:return le.c(arguments[0]);case 2:return le.b(arguments[0],arguments[1]);default:return le.h(arguments[0],arguments[1],new za(c.slice(2),0))}};le.s=function(){return 0};le.c=function(b){return b};le.b=function(b,a){return b+a};le.h=function(b,a,c){return v(le,b+a,c)};le.H=function(b){var a=E(b),c=F(b);b=E(c);c=F(c);return le.h(a,b,c)};le.A=2;
var me=function me(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return me.c(arguments[0]);case 2:return me.b(arguments[0],arguments[1]);default:return me.h(arguments[0],arguments[1],new za(c.slice(2),0))}};me.c=function(b){return-b};me.b=function(b,a){return b-a};me.h=function(b,a,c){return v(me,b-a,c)};me.H=function(b){var a=E(b),c=F(b);b=E(c);c=F(c);return me.h(a,b,c)};me.A=2;
var ne=function ne(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return ne.s();case 1:return ne.c(arguments[0]);case 2:return ne.b(arguments[0],arguments[1]);default:return ne.h(arguments[0],arguments[1],new za(c.slice(2),0))}};ne.s=function(){return 1};ne.c=function(b){return b};ne.b=function(b,a){return b*a};ne.h=function(b,a,c){return v(ne,b*a,c)};ne.H=function(b){var a=E(b),c=F(b);b=E(c);c=F(c);return ne.h(a,b,c)};ne.A=2;
var oe=function oe(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return oe.c(arguments[0]);case 2:return oe.b(arguments[0],arguments[1]);default:return oe.h(arguments[0],arguments[1],new za(c.slice(2),0))}};oe.c=function(b){return 1/b};oe.b=function(b,a){return b/a};oe.h=function(b,a,c){return v(oe,b/a,c)};oe.H=function(b){var a=E(b),c=F(b);b=E(c);c=F(c);return oe.h(a,b,c)};oe.A=2;
var pe=function pe(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return pe.c(arguments[0]);case 2:return pe.b(arguments[0],arguments[1]);default:return pe.h(arguments[0],arguments[1],new za(c.slice(2),0))}};pe.c=function(){return!0};pe.b=function(b,a){return b<a};pe.h=function(b,a,c){for(;;)if(b<a)if(F(c))b=a,a=E(c),c=F(c);else return a<E(c);else return!1};pe.H=function(b){var a=E(b),c=F(b);b=E(c);c=F(c);return pe.h(a,b,c)};pe.A=2;
var qe=function qe(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return qe.c(arguments[0]);case 2:return qe.b(arguments[0],arguments[1]);default:return qe.h(arguments[0],arguments[1],new za(c.slice(2),0))}};qe.c=function(){return!0};qe.b=function(b,a){return b<=a};qe.h=function(b,a,c){for(;;)if(b<=a)if(F(c))b=a,a=E(c),c=F(c);else return a<=E(c);else return!1};qe.H=function(b){var a=E(b),c=F(b);b=E(c);c=F(c);return qe.h(a,b,c)};qe.A=2;
var re=function re(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return re.c(arguments[0]);case 2:return re.b(arguments[0],arguments[1]);default:return re.h(arguments[0],arguments[1],new za(c.slice(2),0))}};re.c=function(){return!0};re.b=function(b,a){return b>a};re.h=function(b,a,c){for(;;)if(b>a)if(F(c))b=a,a=E(c),c=F(c);else return a>E(c);else return!1};re.H=function(b){var a=E(b),c=F(b);b=E(c);c=F(c);return re.h(a,b,c)};re.A=2;
var se=function se(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return se.c(arguments[0]);case 2:return se.b(arguments[0],arguments[1]);default:return se.h(arguments[0],arguments[1],new za(c.slice(2),0))}};se.c=function(){return!0};se.b=function(b,a){return b>=a};se.h=function(b,a,c){for(;;)if(b>=a)if(F(c))b=a,a=E(c),c=F(c);else return a>=E(c);else return!1};se.H=function(b){var a=E(b),c=F(b);b=E(c);c=F(c);return se.h(a,b,c)};se.A=2;
function te(b){return b-1}var ue=function ue(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return ue.c(arguments[0]);case 2:return ue.b(arguments[0],arguments[1]);default:return ue.h(arguments[0],arguments[1],new za(c.slice(2),0))}};ue.c=function(b){return b};ue.b=function(b,a){return b>a?b:a};ue.h=function(b,a,c){return v(ue,b>a?b:a,c)};ue.H=function(b){var a=E(b),c=F(b);b=E(c);c=F(c);return ue.h(a,b,c)};ue.A=2;
var ve=function ve(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return ve.c(arguments[0]);case 2:return ve.b(arguments[0],arguments[1]);default:return ve.h(arguments[0],arguments[1],new za(c.slice(2),0))}};ve.c=function(b){return b};ve.b=function(b,a){return b<a?b:a};ve.h=function(b,a,c){return v(ve,b<a?b:a,c)};ve.H=function(b){var a=E(b),c=F(b);b=E(c);c=F(c);return ve.h(a,b,c)};ve.A=2;
function we(b){return 0<=b?Math.floor(b):Math.ceil(b)}function xe(b,a){return(b%a+a)%a}function ye(b,a){return we((b-b%a)/a)}function ze(b){b-=b>>1&1431655765;b=(b&858993459)+(b>>2&858993459);return 16843009*(b+(b>>4)&252645135)>>24}var Ce=function Ce(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return Ce.c(arguments[0]);case 2:return Ce.b(arguments[0],arguments[1]);default:return Ce.h(arguments[0],arguments[1],new za(c.slice(2),0))}};
Ce.c=function(){return!0};Ce.b=function(b,a){return Ib(b,a)};Ce.h=function(b,a,c){for(;;)if(b===a)if(F(c))b=a,a=E(c),c=F(c);else return a===E(c);else return!1};Ce.H=function(b){var a=E(b),c=F(b);b=E(c);c=F(c);return Ce.h(a,b,c)};Ce.A=2;function Ee(b,a){for(var c=a,d=q(b);;)if(d&&0<c)--c,d=F(d);else return d}
var t=function t(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return t.s();case 1:return t.c(arguments[0]);default:return t.h(arguments[0],new za(c.slice(1),0))}};t.s=function(){return""};t.c=function(b){return null==b?"":""+b};t.h=function(b,a){for(var c=new ha(""+t(b)),d=a;;)if(r(d))c=c.append(""+t(E(d))),d=F(d);else return c.toString()};t.H=function(b){var a=E(b);b=F(b);return t.h(a,b)};t.A=1;
var Fe=function Fe(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return Fe.b(arguments[0],arguments[1]);case 3:return Fe.f(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};Fe.b=function(b,a){return b.substring(a)};Fe.f=function(b,a,c){return b.substring(a,c)};Fe.A=3;
function $c(b,a){var c;if(Dd(a))if(Wc(b)&&Wc(a)&&M(b)!==M(a))c=!1;else a:{c=q(b);for(var d=q(a);;){if(null==c){c=null==d;break a}if(null!=d&&G.b(E(c),E(d)))c=F(c),d=F(d);else{c=!1;break a}}}else c=null;return Pd(c)}function Ge(b){var a=0;for(b=q(b);;)if(b){var c=E(b),a=(a+(wc(He.c?He.c(c):He.call(null,c))^wc(Ie.c?Ie.c(c):Ie.call(null,c))))%4503599627370496;b=F(b)}else return a}function Je(b,a,c,d,e){this.B=b;this.first=a;this.Db=c;this.count=d;this.j=e;this.m=65937646;this.C=8192}g=Je.prototype;
g.toString=function(){return kc(this)};g.equiv=function(b){return this.w(null,b)};g.N=function(){return this.B};g.va=function(){return 1===this.count?null:this.Db};g.P=function(){return this.count};g.Ib=function(){return this.first};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Jc(this)};g.w=function(b,a){return $c(this,a)};g.ea=function(){return Db(Fc,this.B)};g.la=function(b,a){return ed(a,this)};g.ma=function(b,a,c){return gd(a,c,this)};g.ka=function(){return this.first};
g.oa=function(){return 1===this.count?Fc:this.Db};g.M=function(){return this};g.O=function(b,a){return new Je(a,this.first,this.Db,this.count,this.j)};g.R=function(b,a){return new Je(this.B,a,this,this.count+1,null)};function Ke(b){return null!=b?b.m&33554432||b.ie?!0:b.m?!1:Ga(Ob,b):Ga(Ob,b)}Je.prototype[Na]=function(){return Hc(this)};function Le(b){this.B=b;this.m=65937614;this.C=8192}g=Le.prototype;g.toString=function(){return kc(this)};g.equiv=function(b){return this.w(null,b)};g.N=function(){return this.B};
g.va=function(){return null};g.P=function(){return 0};g.Ib=function(){return null};g.K=function(){return Kc};g.w=function(b,a){return Ke(a)||Dd(a)?null==q(a):!1};g.ea=function(){return this};g.la=function(b,a){return ed(a,this)};g.ma=function(b,a,c){return gd(a,c,this)};g.ka=function(){return null};g.oa=function(){return Fc};g.M=function(){return null};g.O=function(b,a){return new Le(a)};g.R=function(b,a){return new Je(this.B,a,null,1,null)};var Fc=new Le(null);Le.prototype[Na]=function(){return Hc(this)};
function Me(b){return(null!=b?b.m&134217728||b.Od||(b.m?0:Ga(Qb,b)):Ga(Qb,b))?Rb(b):v(nd,Fc,b)}var Ne=function Ne(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Ne.h(0<c.length?new za(c.slice(0),0):null)};Ne.h=function(b){var a;if(b instanceof za&&0===b.D)a=b.l;else a:for(a=[];;)if(null!=b)a.push(b.ka(null)),b=b.va(null);else break a;b=a.length;for(var c=Fc;;)if(0<b){var d=b-1,c=c.R(null,a[b-1]);b=d}else return c};Ne.A=0;Ne.H=function(b){return Ne.h(q(b))};
function Oe(b,a,c,d){this.B=b;this.first=a;this.Db=c;this.j=d;this.m=65929452;this.C=8192}g=Oe.prototype;g.toString=function(){return kc(this)};g.equiv=function(b){return this.w(null,b)};g.N=function(){return this.B};g.va=function(){return null==this.Db?null:q(this.Db)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Jc(this)};g.w=function(b,a){return $c(this,a)};g.ea=function(){return dd(Fc,this.B)};g.la=function(b,a){return ed(a,this)};g.ma=function(b,a,c){return gd(a,c,this)};g.ka=function(){return this.first};
g.oa=function(){return null==this.Db?Fc:this.Db};g.M=function(){return this};g.O=function(b,a){return new Oe(a,this.first,this.Db,this.j)};g.R=function(b,a){return new Oe(null,a,this,null)};Oe.prototype[Na]=function(){return Hc(this)};function bd(b,a){var c=null==a;return(c?c:null!=a&&(a.m&64||a.Ia))?new Oe(null,b,a,null):new Oe(null,b,q(a),null)}
function Pe(b,a){if(b.V===a.V)return 0;var c=Fa(b.Ba);if(r(c?a.Ba:c))return-1;if(r(b.Ba)){if(Fa(a.Ba))return 1;c=ja(b.Ba,a.Ba);return 0===c?ja(b.name,a.name):c}return ja(b.name,a.name)}function R(b,a,c,d){this.Ba=b;this.name=a;this.V=c;this.cc=d;this.m=2153775105;this.C=4096}g=R.prototype;g.toString=function(){return[t(":"),t(this.V)].join("")};g.equiv=function(b){return this.w(null,b)};g.w=function(b,a){return a instanceof R?this.V===a.V:!1};
g.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return Cc(b,this);case 3:return Ac(b,this,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return Cc(b,this)};b.f=function(a,b,d){return Ac(b,this,d)};return b}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Ra(a)))};g.c=function(b){return Cc(b,this)};g.b=function(b,a){return Ac(b,this,a)};
g.K=function(){var b=this.cc;return null!=b?b:this.cc=b=xc(rc(this.name),vc(this.Ba))+2654435769|0};g.I=function(b,a){return Sb(a,[t(":"),t(this.V)].join(""))};function S(b,a){return b===a?!0:b instanceof R&&a instanceof R?b.V===a.V:!1}function Qe(b){if(null!=b&&(b.C&4096||b.Ld))return b.Ba;throw Error([t("Doesn't support namespace: "),t(b)].join(""));}
var Re=function Re(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return Re.c(arguments[0]);case 2:return Re.b(arguments[0],arguments[1]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};Re.c=function(b){if(b instanceof R)return b;if(b instanceof C)return new R(Qe(b),Se.c?Se.c(b):Se.call(null,b),b.gb,null);if("string"===typeof b){var a=b.split("/");return 2===a.length?new R(a[0],a[1],b,null):new R(null,a[0],b,null)}return null};
Re.b=function(b,a){return new R(b,a,[t(r(b)?[t(b),t("/")].join(""):null),t(a)].join(""),null)};Re.A=2;function Te(b,a,c,d){this.B=b;this.$=a;this.aa=c;this.j=d;this.m=32374988;this.C=1}g=Te.prototype;g.toString=function(){return kc(this)};g.equiv=function(b){return this.w(null,b)};function Ue(b){null!=b.$&&(b.aa=b.$.s?b.$.s():b.$.call(null),b.$=null);return b.aa}g.N=function(){return this.B};g.va=function(){Mb(this);return null==this.aa?null:F(this.aa)};
g.K=function(){var b=this.j;return null!=b?b:this.j=b=Jc(this)};g.w=function(b,a){return $c(this,a)};g.ea=function(){return dd(Fc,this.B)};g.la=function(b,a){return ed(a,this)};g.ma=function(b,a,c){return gd(a,c,this)};g.ka=function(){Mb(this);return null==this.aa?null:E(this.aa)};g.oa=function(){Mb(this);return null!=this.aa?Ec(this.aa):Fc};g.M=function(){Ue(this);if(null==this.aa)return null;for(var b=this.aa;;)if(b instanceof Te)b=Ue(b);else return this.aa=b,q(this.aa)};
g.O=function(b,a){return new Te(a,this.$,this.aa,this.j)};g.R=function(b,a){return bd(a,this)};Te.prototype[Na]=function(){return Hc(this)};function Ve(b,a){this.Lc=b;this.end=a;this.m=2;this.C=0}Ve.prototype.add=function(b){this.Lc[this.end]=b;return this.end+=1};Ve.prototype.lb=function(){var b=new We(this.Lc,0,this.end);this.Lc=null;return b};Ve.prototype.P=function(){return this.end};function Xe(b){return new Ve(Array(b),0)}
function We(b,a,c){this.l=b;this.ua=a;this.end=c;this.m=524306;this.C=0}g=We.prototype;g.P=function(){return this.end-this.ua};g.L=function(b,a){return this.l[this.ua+a]};g.Aa=function(b,a,c){return 0<=a&&a<this.end-this.ua?this.l[this.ua+a]:c};g.ld=function(){if(this.ua===this.end)throw Error("-drop-first of empty chunk");return new We(this.l,this.ua+1,this.end)};g.la=function(b,a){return Vc(this.l,a,this.l[this.ua],this.ua+1)};g.ma=function(b,a,c){return Vc(this.l,a,c,this.ua)};
function Ye(b,a,c,d){this.lb=b;this.eb=a;this.B=c;this.j=d;this.m=31850732;this.C=1536}g=Ye.prototype;g.toString=function(){return kc(this)};g.equiv=function(b){return this.w(null,b)};g.N=function(){return this.B};g.va=function(){if(1<Ua(this.lb))return new Ye(cc(this.lb),this.eb,this.B,null);var b=Mb(this.eb);return null==b?null:b};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Jc(this)};g.w=function(b,a){return $c(this,a)};g.ea=function(){return dd(Fc,this.B)};
g.ka=function(){return w.b(this.lb,0)};g.oa=function(){return 1<Ua(this.lb)?new Ye(cc(this.lb),this.eb,this.B,null):null==this.eb?Fc:this.eb};g.M=function(){return this};g.Bc=function(){return this.lb};g.Cc=function(){return null==this.eb?Fc:this.eb};g.O=function(b,a){return new Ye(this.lb,this.eb,a,this.j)};g.R=function(b,a){return bd(a,this)};g.Ac=function(){return null==this.eb?null:this.eb};Ye.prototype[Na]=function(){return Hc(this)};
function Ze(b,a){return 0===Ua(b)?a:new Ye(b,a,null,null)}function $e(b,a){b.add(a)}function bf(b){return b.lb()}function be(b){for(var a=[];;)if(q(b))a.push(E(b)),b=F(b);else return a}function cf(b,a){if(Wc(b))return M(b);for(var c=b,d=a,e=0;;)if(0<d&&q(c))c=F(c),--d,e+=1;else return e}
var df=function df(a){return null==a?null:null==F(a)?q(E(a)):bd(E(a),df(F(a)))},T=function T(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return T.s();case 1:return T.c(arguments[0]);case 2:return T.b(arguments[0],arguments[1]);default:return T.h(arguments[0],arguments[1],new za(c.slice(2),0))}};T.s=function(){return new Te(null,function(){return null},null,null)};T.c=function(b){return new Te(null,function(){return b},null,null)};
T.b=function(b,a){return new Te(null,function(){var c=q(b);return c?P(c)?Ze(z(c),T.b(B(c),a)):bd(E(c),T.b(Ec(c),a)):a},null,null)};T.h=function(b,a,c){return function e(a,b){return new Te(null,function(){var c=q(a);return c?P(c)?Ze(z(c),e(B(c),b)):bd(E(c),e(Ec(c),b)):r(b)?e(E(b),F(b)):null},null,null)}(T.b(b,a),c)};T.H=function(b){var a=E(b),c=F(b);b=E(c);c=F(c);return T.h(a,b,c)};T.A=2;function ef(b){return q(b)}function ff(b){return Vb(b)}function gf(b){return Yb(b)}
var hf=function hf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return hf.s();case 1:return hf.c(arguments[0]);case 2:return hf.b(arguments[0],arguments[1]);default:return hf.h(arguments[0],arguments[1],new za(c.slice(2),0))}};hf.s=function(){return Vb(K)};hf.c=function(b){return b};hf.b=function(b,a){return Wb(b,a)};hf.h=function(b,a,c){for(;;)if(b=Wb(b,a),r(c))a=E(c),c=F(c);else return b};
hf.H=function(b){var a=E(b),c=F(b);b=E(c);c=F(c);return hf.h(a,b,c)};hf.A=2;var jf=function jf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 3:return jf.f(arguments[0],arguments[1],arguments[2]);default:return jf.h(arguments[0],arguments[1],arguments[2],new za(c.slice(3),0))}};jf.f=function(b,a,c){return Zb(b,a,c)};jf.h=function(b,a,c,d){for(;;)if(b=Zb(b,a,c),r(d))a=E(d),c=hd(d),d=F(F(d));else return b};
jf.H=function(b){var a=E(b),c=F(b);b=E(c);var d=F(c),c=E(d),d=F(d);return jf.h(a,b,c,d)};jf.A=3;
function kf(b,a,c){var d=q(c);if(0===a)return b.s?b.s():b.call(null);c=cb(d);var e=db(d);if(1===a)return b.c?b.c(c):b.c?b.c(c):b.call(null,c);var d=cb(e),f=db(e);if(2===a)return b.b?b.b(c,d):b.b?b.b(c,d):b.call(null,c,d);var e=cb(f),h=db(f);if(3===a)return b.f?b.f(c,d,e):b.f?b.f(c,d,e):b.call(null,c,d,e);var f=cb(h),k=db(h);if(4===a)return b.S?b.S(c,d,e,f):b.S?b.S(c,d,e,f):b.call(null,c,d,e,f);var h=cb(k),l=db(k);if(5===a)return b.W?b.W(c,d,e,f,h):b.W?b.W(c,d,e,f,h):b.call(null,c,d,e,f,h);var k=cb(l),
m=db(l);if(6===a)return b.sa?b.sa(c,d,e,f,h,k):b.sa?b.sa(c,d,e,f,h,k):b.call(null,c,d,e,f,h,k);var l=cb(m),n=db(m);if(7===a)return b.xb?b.xb(c,d,e,f,h,k,l):b.xb?b.xb(c,d,e,f,h,k,l):b.call(null,c,d,e,f,h,k,l);var m=cb(n),u=db(n);if(8===a)return b.yb?b.yb(c,d,e,f,h,k,l,m):b.yb?b.yb(c,d,e,f,h,k,l,m):b.call(null,c,d,e,f,h,k,l,m);var n=cb(u),y=db(u);if(9===a)return b.zb?b.zb(c,d,e,f,h,k,l,m,n):b.zb?b.zb(c,d,e,f,h,k,l,m,n):b.call(null,c,d,e,f,h,k,l,m,n);var u=cb(y),A=db(y);if(10===a)return b.mb?b.mb(c,
d,e,f,h,k,l,m,n,u):b.mb?b.mb(c,d,e,f,h,k,l,m,n,u):b.call(null,c,d,e,f,h,k,l,m,n,u);var y=cb(A),D=db(A);if(11===a)return b.nb?b.nb(c,d,e,f,h,k,l,m,n,u,y):b.nb?b.nb(c,d,e,f,h,k,l,m,n,u,y):b.call(null,c,d,e,f,h,k,l,m,n,u,y);var A=cb(D),x=db(D);if(12===a)return b.ob?b.ob(c,d,e,f,h,k,l,m,n,u,y,A):b.ob?b.ob(c,d,e,f,h,k,l,m,n,u,y,A):b.call(null,c,d,e,f,h,k,l,m,n,u,y,A);var D=cb(x),L=db(x);if(13===a)return b.pb?b.pb(c,d,e,f,h,k,l,m,n,u,y,A,D):b.pb?b.pb(c,d,e,f,h,k,l,m,n,u,y,A,D):b.call(null,c,d,e,f,h,k,l,
m,n,u,y,A,D);var x=cb(L),I=db(L);if(14===a)return b.qb?b.qb(c,d,e,f,h,k,l,m,n,u,y,A,D,x):b.qb?b.qb(c,d,e,f,h,k,l,m,n,u,y,A,D,x):b.call(null,c,d,e,f,h,k,l,m,n,u,y,A,D,x);var L=cb(I),Q=db(I);if(15===a)return b.rb?b.rb(c,d,e,f,h,k,l,m,n,u,y,A,D,x,L):b.rb?b.rb(c,d,e,f,h,k,l,m,n,u,y,A,D,x,L):b.call(null,c,d,e,f,h,k,l,m,n,u,y,A,D,x,L);var I=cb(Q),Va=db(Q);if(16===a)return b.sb?b.sb(c,d,e,f,h,k,l,m,n,u,y,A,D,x,L,I):b.sb?b.sb(c,d,e,f,h,k,l,m,n,u,y,A,D,x,L,I):b.call(null,c,d,e,f,h,k,l,m,n,u,y,A,D,x,L,I);var Q=
cb(Va),La=db(Va);if(17===a)return b.tb?b.tb(c,d,e,f,h,k,l,m,n,u,y,A,D,x,L,I,Q):b.tb?b.tb(c,d,e,f,h,k,l,m,n,u,y,A,D,x,L,I,Q):b.call(null,c,d,e,f,h,k,l,m,n,u,y,A,D,x,L,I,Q);var Va=cb(La),lb=db(La);if(18===a)return b.ub?b.ub(c,d,e,f,h,k,l,m,n,u,y,A,D,x,L,I,Q,Va):b.ub?b.ub(c,d,e,f,h,k,l,m,n,u,y,A,D,x,L,I,Q,Va):b.call(null,c,d,e,f,h,k,l,m,n,u,y,A,D,x,L,I,Q,Va);La=cb(lb);lb=db(lb);if(19===a)return b.vb?b.vb(c,d,e,f,h,k,l,m,n,u,y,A,D,x,L,I,Q,Va,La):b.vb?b.vb(c,d,e,f,h,k,l,m,n,u,y,A,D,x,L,I,Q,Va,La):b.call(null,
c,d,e,f,h,k,l,m,n,u,y,A,D,x,L,I,Q,Va,La);var na=cb(lb);db(lb);if(20===a)return b.wb?b.wb(c,d,e,f,h,k,l,m,n,u,y,A,D,x,L,I,Q,Va,La,na):b.wb?b.wb(c,d,e,f,h,k,l,m,n,u,y,A,D,x,L,I,Q,Va,La,na):b.call(null,c,d,e,f,h,k,l,m,n,u,y,A,D,x,L,I,Q,Va,La,na);throw Error("Only up to 20 arguments supported on functions");}
function vd(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 2:return lf(arguments[0],arguments[1]);case 3:return of(arguments[0],arguments[1],arguments[2]);case 4:return pf(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return qf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:return rf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],new za(a.slice(5),0))}}
function lf(b,a){var c=b.A;if(b.H){var d=cf(a,c+1);return d<=c?kf(b,d,a):b.H(a)}return b.apply(b,be(a))}function of(b,a,c){a=bd(a,c);c=b.A;if(b.H){var d=cf(a,c+1);return d<=c?kf(b,d,a):b.H(a)}return b.apply(b,be(a))}function pf(b,a,c,d){a=bd(a,bd(c,d));c=b.A;return b.H?(d=cf(a,c+1),d<=c?kf(b,d,a):b.H(a)):b.apply(b,be(a))}function qf(b,a,c,d,e){a=bd(a,bd(c,bd(d,e)));c=b.A;return b.H?(d=cf(a,c+1),d<=c?kf(b,d,a):b.H(a)):b.apply(b,be(a))}
function rf(b,a,c,d,e,f){a=bd(a,bd(c,bd(d,bd(e,df(f)))));c=b.A;return b.H?(d=cf(a,c+1),d<=c?kf(b,d,a):b.H(a)):b.apply(b,be(a))}var sf=function sf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return sf.c(arguments[0]);case 2:return sf.b(arguments[0],arguments[1]);default:return sf.h(arguments[0],arguments[1],new za(c.slice(2),0))}};sf.c=function(){return!1};sf.b=function(b,a){return!G.b(b,a)};sf.h=function(b,a,c){return Fa(pf(G,b,a,c))};
sf.H=function(b){var a=E(b),c=F(b);b=E(c);c=F(c);return sf.h(a,b,c)};sf.A=2;function tf(b){return q(b)?b:null}
var uf=function uf(){"undefined"===typeof la&&(la=function(a,c){this.$d=a;this.Xd=c;this.m=393216;this.C=0},la.prototype.O=function(a,c){return new la(this.$d,c)},la.prototype.N=function(){return this.Xd},la.prototype.pa=function(){return!1},la.prototype.next=function(){return Error("No such element")},la.prototype.remove=function(){return Error("Unsupported operation")},la.zd=function(){return new U(null,2,5,V,[dd(vf,new p(null,1,[zf,Ne(Af,Ne(K))],null)),Bf],null)},la.Hc=!0,la.hc="cljs.core/t_cljs$core19818",
la.Oc=function(a,c){return Sb(c,"cljs.core/t_cljs$core19818")});return new la(uf,Ud)};function Cf(b,a){for(;;){if(null==q(a))return!0;var c;c=E(a);c=b.c?b.c(c):b.call(null,c);if(r(c)){c=b;var d=F(a);b=c;a=d}else return!1}}function Df(b,a){for(;;)if(q(a)){var c;c=E(a);c=b.c?b.c(c):b.call(null,c);if(r(c))return c;c=b;var d=F(a);b=c;a=d}else return null}
function Ef(b){if("number"===typeof b&&!isNaN(b)&&Infinity!==b&&parseFloat(b)===parseInt(b,10))return 0===(b&1);throw Error([t("Argument must be an integer: "),t(b)].join(""));}function Ff(b){return!Ef(b)}
function Gf(b){return function(){function a(a,c){return Fa(b.b?b.b(a,c):b.call(null,a,c))}function c(a){return Fa(b.c?b.c(a):b.call(null,a))}function d(){return Fa(b.s?b.s():b.call(null))}var e=null,f=function(){function a(b,d,e){var f=null;if(2<arguments.length){for(var f=0,h=Array(arguments.length-2);f<h.length;)h[f]=arguments[f+2],++f;f=new za(h,0)}return c.call(this,b,d,f)}function c(a,d,e){return Fa(pf(b,a,d,e))}a.A=2;a.H=function(a){var b=E(a);a=F(a);var d=E(a);a=Ec(a);return c(b,d,a)};a.h=
c;return a}(),e=function(b,e,l){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,b);case 2:return a.call(this,b,e);default:var m=null;if(2<arguments.length){for(var m=0,n=Array(arguments.length-2);m<n.length;)n[m]=arguments[m+2],++m;m=new za(n,0)}return f.h(b,e,m)}throw Error("Invalid arity: "+arguments.length);};e.A=2;e.H=f.H;e.s=d;e.c=c;e.b=a;e.h=f.h;return e}()}
var Hf=function Hf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return Hf.s();case 1:return Hf.c(arguments[0]);case 2:return Hf.b(arguments[0],arguments[1]);case 3:return Hf.f(arguments[0],arguments[1],arguments[2]);default:return Hf.h(arguments[0],arguments[1],arguments[2],new za(c.slice(3),0))}};Hf.s=function(){return je};Hf.c=function(b){return b};
Hf.b=function(b,a){return function(){function c(c,d,e){c=a.f?a.f(c,d,e):a.call(null,c,d,e);return b.c?b.c(c):b.call(null,c)}function d(c,d){var e=a.b?a.b(c,d):a.call(null,c,d);return b.c?b.c(e):b.call(null,e)}function e(c){c=a.c?a.c(c):a.call(null,c);return b.c?b.c(c):b.call(null,c)}function f(){var c=a.s?a.s():a.call(null);return b.c?b.c(c):b.call(null,c)}var h=null,k=function(){function c(a,b,e,f){var h=null;if(3<arguments.length){for(var h=0,k=Array(arguments.length-3);h<k.length;)k[h]=arguments[h+
3],++h;h=new za(k,0)}return d.call(this,a,b,e,h)}function d(c,e,f,h){c=qf(a,c,e,f,h);return b.c?b.c(c):b.call(null,c)}c.A=3;c.H=function(a){var b=E(a);a=F(a);var c=E(a);a=F(a);var e=E(a);a=Ec(a);return d(b,c,e,a)};c.h=d;return c}(),h=function(a,b,h,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,a);case 2:return d.call(this,a,b);case 3:return c.call(this,a,b,h);default:var y=null;if(3<arguments.length){for(var y=0,A=Array(arguments.length-3);y<A.length;)A[y]=arguments[y+
3],++y;y=new za(A,0)}return k.h(a,b,h,y)}throw Error("Invalid arity: "+arguments.length);};h.A=3;h.H=k.H;h.s=f;h.c=e;h.b=d;h.f=c;h.h=k.h;return h}()};
Hf.f=function(b,a,c){return function(){function d(d,e,f){d=c.f?c.f(d,e,f):c.call(null,d,e,f);d=a.c?a.c(d):a.call(null,d);return b.c?b.c(d):b.call(null,d)}function e(d,e){var f;f=c.b?c.b(d,e):c.call(null,d,e);f=a.c?a.c(f):a.call(null,f);return b.c?b.c(f):b.call(null,f)}function f(d){d=c.c?c.c(d):c.call(null,d);d=a.c?a.c(d):a.call(null,d);return b.c?b.c(d):b.call(null,d)}function h(){var d;d=c.s?c.s():c.call(null);d=a.c?a.c(d):a.call(null,d);return b.c?b.c(d):b.call(null,d)}var k=null,l=function(){function d(a,
b,c,f){var h=null;if(3<arguments.length){for(var h=0,k=Array(arguments.length-3);h<k.length;)k[h]=arguments[h+3],++h;h=new za(k,0)}return e.call(this,a,b,c,h)}function e(d,f,h,k){d=qf(c,d,f,h,k);d=a.c?a.c(d):a.call(null,d);return b.c?b.c(d):b.call(null,d)}d.A=3;d.H=function(a){var b=E(a);a=F(a);var c=E(a);a=F(a);var d=E(a);a=Ec(a);return e(b,c,d,a)};d.h=e;return d}(),k=function(a,b,c,k){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,a);case 2:return e.call(this,a,b);
case 3:return d.call(this,a,b,c);default:var A=null;if(3<arguments.length){for(var A=0,D=Array(arguments.length-3);A<D.length;)D[A]=arguments[A+3],++A;A=new za(D,0)}return l.h(a,b,c,A)}throw Error("Invalid arity: "+arguments.length);};k.A=3;k.H=l.H;k.s=h;k.c=f;k.b=e;k.f=d;k.h=l.h;return k}()};
Hf.h=function(b,a,c,d){return function(a){return function(){function b(a){var d=null;if(0<arguments.length){for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new za(e,0)}return c.call(this,d)}function c(b){b=lf(E(a),b);for(var d=F(a);;)if(d)b=E(d).call(null,b),d=F(d);else return b}b.A=0;b.H=function(a){a=q(a);return c(a)};b.h=c;return b}()}(Me(bd(b,bd(a,bd(c,d)))))};Hf.H=function(b){var a=E(b),c=F(b);b=E(c);var d=F(c),c=E(d),d=F(d);return Hf.h(a,b,c,d)};Hf.A=3;
function If(b,a){return function(){function c(c,d,e){return b.S?b.S(a,c,d,e):b.call(null,a,c,d,e)}function d(c,d){return b.f?b.f(a,c,d):b.call(null,a,c,d)}function e(c){return b.b?b.b(a,c):b.call(null,a,c)}function f(){return b.c?b.c(a):b.call(null,a)}var h=null,k=function(){function c(a,b,e,f){var h=null;if(3<arguments.length){for(var h=0,k=Array(arguments.length-3);h<k.length;)k[h]=arguments[h+3],++h;h=new za(k,0)}return d.call(this,a,b,e,h)}function d(c,e,f,h){return rf(b,a,c,e,f,J([h],0))}c.A=
3;c.H=function(a){var b=E(a);a=F(a);var c=E(a);a=F(a);var e=E(a);a=Ec(a);return d(b,c,e,a)};c.h=d;return c}(),h=function(a,b,h,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,a);case 2:return d.call(this,a,b);case 3:return c.call(this,a,b,h);default:var y=null;if(3<arguments.length){for(var y=0,A=Array(arguments.length-3);y<A.length;)A[y]=arguments[y+3],++y;y=new za(A,0)}return k.h(a,b,h,y)}throw Error("Invalid arity: "+arguments.length);};h.A=3;h.H=k.H;h.s=f;h.c=
e;h.b=d;h.f=c;h.h=k.h;return h}()}
function Jf(b,a){return function(){function c(c,d,e){c=null==c?a:c;return b.f?b.f(c,d,e):b.call(null,c,d,e)}function d(c,d){var e=null==c?a:c;return b.b?b.b(e,d):b.call(null,e,d)}function e(c){c=null==c?a:c;return b.c?b.c(c):b.call(null,c)}var f=null,h=function(){function c(a,b,e,f){var h=null;if(3<arguments.length){for(var h=0,k=Array(arguments.length-3);h<k.length;)k[h]=arguments[h+3],++h;h=new za(k,0)}return d.call(this,a,b,e,h)}function d(c,e,f,h){return qf(b,null==c?a:c,e,f,h)}c.A=3;c.H=function(a){var b=
E(a);a=F(a);var c=E(a);a=F(a);var e=E(a);a=Ec(a);return d(b,c,e,a)};c.h=d;return c}(),f=function(a,b,f,n){switch(arguments.length){case 1:return e.call(this,a);case 2:return d.call(this,a,b);case 3:return c.call(this,a,b,f);default:var u=null;if(3<arguments.length){for(var u=0,y=Array(arguments.length-3);u<y.length;)y[u]=arguments[u+3],++u;u=new za(y,0)}return h.h(a,b,f,u)}throw Error("Invalid arity: "+arguments.length);};f.A=3;f.H=h.H;f.c=e;f.b=d;f.f=c;f.h=h.h;return f}()}
function Kf(b,a,c,d){this.state=b;this.B=a;this.Cd=d;this.C=16386;this.m=6455296}g=Kf.prototype;g.equiv=function(b){return this.w(null,b)};g.w=function(b,a){return this===a};g.dc=function(){return this.state};g.N=function(){return this.B};
g.qd=function(b,a,c){b=q(this.Cd);for(var d=null,e=0,f=0;;)if(f<e){var h=d.L(null,f),k=N(h,0),h=N(h,1);h.S?h.S(k,this,a,c):h.call(null,k,this,a,c);f+=1}else if(b=q(b))P(b)?(d=z(b),b=B(b),k=d,e=M(d),d=k):(d=E(b),k=N(d,0),h=N(d,1),h.S?h.S(k,this,a,c):h.call(null,k,this,a,c),b=F(b),d=null,e=0),f=0;else return null};g.K=function(){return this[ca]||(this[ca]=++da)};
function Lf(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 1:return Mf(arguments[0]);default:return c=arguments[0],a=new za(a.slice(1),0),a=null!=a&&(a.m&64||a.Ia)?lf(Nf,a):a,d=Cc(a,va),Cc(a,Of),new Kf(c,d,0,null)}}function Mf(b){return new Kf(b,null,0,null)}function Pf(b,a){if(b instanceof Kf){var c=b.state;b.state=a;null!=b.Cd&&Ub(b,c,a);return a}return ec(b,a)}
var Qf=function Qf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return Qf.b(arguments[0],arguments[1]);case 3:return Qf.f(arguments[0],arguments[1],arguments[2]);case 4:return Qf.S(arguments[0],arguments[1],arguments[2],arguments[3]);default:return Qf.h(arguments[0],arguments[1],arguments[2],arguments[3],new za(c.slice(4),0))}};Qf.b=function(b,a){var c;b instanceof Kf?(c=b.state,c=a.c?a.c(c):a.call(null,c),c=Pf(b,c)):c=gc.b(b,a);return c};
Qf.f=function(b,a,c){if(b instanceof Kf){var d=b.state;a=a.b?a.b(d,c):a.call(null,d,c);b=Pf(b,a)}else b=gc.f(b,a,c);return b};Qf.S=function(b,a,c,d){if(b instanceof Kf){var e=b.state;a=a.f?a.f(e,c,d):a.call(null,e,c,d);b=Pf(b,a)}else b=gc.S(b,a,c,d);return b};Qf.h=function(b,a,c,d,e){return b instanceof Kf?Pf(b,qf(a,b.state,c,d,e)):gc.W(b,a,c,d,e)};Qf.H=function(b){var a=E(b),c=F(b);b=E(c);var d=F(c),c=E(d),e=F(d),d=E(e),e=F(e);return Qf.h(a,b,c,d,e)};Qf.A=4;
function Rf(b){this.state=b;this.m=32768;this.C=0}Rf.prototype.pd=function(b,a){return this.state=a};Rf.prototype.dc=function(){return this.state};function Sf(b){return new Rf(b)}function Tf(b,a){hc(b,a)}
function Uf(){var b=Vf,a=Wf;return function(){function c(c,d,e){var f=b.c?b.c(c):b.call(null,c);if(r(f))return f;f=b.c?b.c(d):b.call(null,d);if(r(f))return f;f=b.c?b.c(e):b.call(null,e);if(r(f))return f;c=a.c?a.c(c):a.call(null,c);if(r(c))return c;d=a.c?a.c(d):a.call(null,d);return r(d)?d:a.c?a.c(e):a.call(null,e)}function d(c,d){var e=b.c?b.c(c):b.call(null,c);if(r(e))return e;e=b.c?b.c(d):b.call(null,d);if(r(e))return e;e=a.c?a.c(c):a.call(null,c);return r(e)?e:a.c?a.c(d):a.call(null,d)}function e(c){var d=
b.c?b.c(c):b.call(null,c);return r(d)?d:a.c?a.c(c):a.call(null,c)}var f=null,h=function(){function c(a,b,e,f){var h=null;if(3<arguments.length){for(var h=0,k=Array(arguments.length-3);h<k.length;)k[h]=arguments[h+3],++h;h=new za(k,0)}return d.call(this,a,b,e,h)}function d(c,e,h,k){c=f.f(c,e,h);return r(c)?c:Df(function(){return function(c){var d=b.c?b.c(c):b.call(null,c);return r(d)?d:a.c?a.c(c):a.call(null,c)}}(c),k)}c.A=3;c.H=function(a){var b=E(a);a=F(a);var c=E(a);a=F(a);var e=E(a);a=Ec(a);return d(b,
c,e,a)};c.h=d;return c}(),f=function(a,b,f,n){switch(arguments.length){case 0:return null;case 1:return e.call(this,a);case 2:return d.call(this,a,b);case 3:return c.call(this,a,b,f);default:var u=null;if(3<arguments.length){for(var u=0,y=Array(arguments.length-3);u<y.length;)y[u]=arguments[u+3],++u;u=new za(y,0)}return h.h(a,b,f,u)}throw Error("Invalid arity: "+arguments.length);};f.A=3;f.H=h.H;f.s=function(){return null};f.c=e;f.b=d;f.f=c;f.h=h.h;return f}()}
var Xf=function Xf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return Xf.c(arguments[0]);case 2:return Xf.b(arguments[0],arguments[1]);case 3:return Xf.f(arguments[0],arguments[1],arguments[2]);case 4:return Xf.S(arguments[0],arguments[1],arguments[2],arguments[3]);default:return Xf.h(arguments[0],arguments[1],arguments[2],arguments[3],new za(c.slice(4),0))}};
Xf.c=function(b){return function(a){return function(){function c(c,d){var e=b.c?b.c(d):b.call(null,d);return a.b?a.b(c,e):a.call(null,c,e)}function d(b){return a.c?a.c(b):a.call(null,b)}function e(){return a.s?a.s():a.call(null)}var f=null,h=function(){function c(a,b,e){var f=null;if(2<arguments.length){for(var f=0,h=Array(arguments.length-2);f<h.length;)h[f]=arguments[f+2],++f;f=new za(h,0)}return d.call(this,a,b,f)}function d(c,e,f){e=of(b,e,f);return a.b?a.b(c,e):a.call(null,c,e)}c.A=2;c.H=function(a){var b=
E(a);a=F(a);var c=E(a);a=Ec(a);return d(b,c,a)};c.h=d;return c}(),f=function(a,b,f){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,a);case 2:return c.call(this,a,b);default:var n=null;if(2<arguments.length){for(var n=0,u=Array(arguments.length-2);n<u.length;)u[n]=arguments[n+2],++n;n=new za(u,0)}return h.h(a,b,n)}throw Error("Invalid arity: "+arguments.length);};f.A=2;f.H=h.H;f.s=e;f.c=d;f.b=c;f.h=h.h;return f}()}};
Xf.b=function(b,a){return new Te(null,function(){var c=q(a);if(c){if(P(c)){for(var d=z(c),e=M(d),f=Xe(e),h=0;;)if(h<e)$e(f,function(){var a=w.b(d,h);return b.c?b.c(a):b.call(null,a)}()),h+=1;else break;return Ze(bf(f),Xf.b(b,B(c)))}return bd(function(){var a=E(c);return b.c?b.c(a):b.call(null,a)}(),Xf.b(b,Ec(c)))}return null},null,null)};
Xf.f=function(b,a,c){return new Te(null,function(){var d=q(a),e=q(c);if(d&&e){var f=bd,h;h=E(d);var k=E(e);h=b.b?b.b(h,k):b.call(null,h,k);d=f(h,Xf.f(b,Ec(d),Ec(e)))}else d=null;return d},null,null)};Xf.S=function(b,a,c,d){return new Te(null,function(){var e=q(a),f=q(c),h=q(d);if(e&&f&&h){var k=bd,l;l=E(e);var m=E(f),n=E(h);l=b.f?b.f(l,m,n):b.call(null,l,m,n);e=k(l,Xf.S(b,Ec(e),Ec(f),Ec(h)))}else e=null;return e},null,null)};
Xf.h=function(b,a,c,d,e){var f=function k(a){return new Te(null,function(){var b=Xf.b(q,a);return Cf(je,b)?bd(Xf.b(E,b),k(Xf.b(Ec,b))):null},null,null)};return Xf.b(function(){return function(a){return lf(b,a)}}(f),f(nd.h(e,d,J([c,a],0))))};Xf.H=function(b){var a=E(b),c=F(b);b=E(c);var d=F(c),c=E(d),e=F(d),d=E(e),e=F(e);return Xf.h(a,b,c,d,e)};Xf.A=4;
function Yf(b){return function(a){return function(b){return function(){function d(d,e){var f=xb(b),h=hc(b,xb(b)-1),f=0<f?a.b?a.b(d,e):a.call(null,d,e):d;return 0<h?f:Qc(f)?f:Pc(f)}function e(b){return a.c?a.c(b):a.call(null,b)}function f(){return a.s?a.s():a.call(null)}var h=null,h=function(a,b){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,a);case 2:return d.call(this,a,b)}throw Error("Invalid arity: "+arguments.length);};h.s=f;h.c=e;h.b=d;return h}()}(Sf(b))}}
function Zf(b,a){return new Te(null,function(){if(0<b){var c=q(a);return c?bd(E(c),Zf(b-1,Ec(c))):null}return null},null,null)}function $f(b,a){return new Te(null,function(c){return function(){return c(b,a)}}(function(a,b){for(;;){var e=q(b);if(0<a&&e){var f=a-1,e=Ec(e);a=f;b=e}else return e}}),null,null)}
function ag(b,a){return new Te(null,function(c){return function(){return c(b,a)}}(function(a,b){for(;;){var e=q(b),f;if(f=e)f=E(e),f=a.c?a.c(f):a.call(null,f);if(r(f))f=a,e=Ec(e),a=f,b=e;else return e}}),null,null)}function bg(b){return new Te(null,function(){return bd(b,bg(b))},null,null)}function cg(b,a){return Zf(b,bg(a))}function dg(b){return new Te(null,function(){return bd(b.s?b.s():b.call(null),dg(b))},null,null)}function eg(b,a){return Zf(b,dg(a))}
function fg(b,a){return lf(T,of(Xf,b,a))}function gg(b){return function(a){return function(){function c(c,d){return r(b.c?b.c(d):b.call(null,d))?a.b?a.b(c,d):a.call(null,c,d):c}function d(b){return a.c?a.c(b):a.call(null,b)}function e(){return a.s?a.s():a.call(null)}var f=null,f=function(a,b){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,a);case 2:return c.call(this,a,b)}throw Error("Invalid arity: "+arguments.length);};f.s=e;f.c=d;f.b=c;return f}()}}
function hg(b,a){return new Te(null,function(){var c=q(a);if(c){if(P(c)){for(var d=z(c),e=M(d),f=Xe(e),h=0;;)if(h<e){var k;k=w.b(d,h);k=b.c?b.c(k):b.call(null,k);r(k)&&(k=w.b(d,h),f.add(k));h+=1}else break;return Ze(bf(f),hg(b,B(c)))}d=E(c);c=Ec(c);return r(b.c?b.c(d):b.call(null,d))?bd(d,hg(b,c)):hg(b,c)}return null},null,null)}function ig(b,a){return hg(Gf(b),a)}
var W=function W(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return W.b(arguments[0],arguments[1]);case 3:return W.f(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};W.b=function(b,a){return null!=b?null!=b&&(b.C&4||b.Dd)?dd(gf(v(Wb,Vb(b),a)),wd(b)):v($a,b,a):v(nd,Fc,a)};W.f=function(b,a,c){return null!=b&&(b.C&4||b.Dd)?dd(gf(ke(a,hf,Vb(b),c)),wd(b)):ke(a,nd,b,c)};W.A=3;
function jg(b,a){return gf(v(function(a,d){return hf.b(a,b.c?b.c(d):b.call(null,d))},Vb(K),a))}function kg(b,a,c){return W.b(K,Xf.f(b,a,c))}function lg(b,a,c){var d=mg.s();return W.b(K,Xf.S(b,a,c,d))}function ng(b,a){return og(b,a,null)}function og(b,a,c){var d=Jd;for(a=q(a);;)if(a)if(null!=b?b.m&256||b.Nc||(b.m?0:Ga(fb,b)):Ga(fb,b)){b=Ac(b,E(a),d);if(d===b)return c;a=F(a)}else return c;else return b}
var pg=function pg(a,c,d){var e=N(c,0);c=Ee(c,1);return r(c)?O.f(a,e,pg(Cc(a,e),c,d)):O.f(a,e,d)},qg=function qg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 3:return qg.f(arguments[0],arguments[1],arguments[2]);case 4:return qg.S(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return qg.W(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return qg.sa(arguments[0],arguments[1],arguments[2],arguments[3],
arguments[4],arguments[5]);default:return qg.h(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],new za(c.slice(6),0))}};qg.f=function(b,a,c){var d=N(a,0);a=Ee(a,1);return r(a)?O.f(b,d,qg.f(Cc(b,d),a,c)):O.f(b,d,function(){var a=Cc(b,d);return c.c?c.c(a):c.call(null,a)}())};qg.S=function(b,a,c,d){var e=N(a,0);a=Ee(a,1);return r(a)?O.f(b,e,qg.S(Cc(b,e),a,c,d)):O.f(b,e,function(){var a=Cc(b,e);return c.b?c.b(a,d):c.call(null,a,d)}())};
qg.W=function(b,a,c,d,e){var f=N(a,0);a=Ee(a,1);return r(a)?O.f(b,f,qg.W(Cc(b,f),a,c,d,e)):O.f(b,f,function(){var a=Cc(b,f);return c.f?c.f(a,d,e):c.call(null,a,d,e)}())};qg.sa=function(b,a,c,d,e,f){var h=N(a,0);a=Ee(a,1);return r(a)?O.f(b,h,qg.sa(Cc(b,h),a,c,d,e,f)):O.f(b,h,function(){var a=Cc(b,h);return c.S?c.S(a,d,e,f):c.call(null,a,d,e,f)}())};qg.h=function(b,a,c,d,e,f,h){var k=N(a,0);a=Ee(a,1);return r(a)?O.f(b,k,rf(qg,Cc(b,k),a,c,d,J([e,f,h],0))):O.f(b,k,rf(c,Cc(b,k),d,e,f,J([h],0)))};
qg.H=function(b){var a=E(b),c=F(b);b=E(c);var d=F(c),c=E(d),e=F(d),d=E(e),f=F(e),e=E(f),h=F(f),f=E(h),h=F(h);return qg.h(a,b,c,d,e,f,h)};qg.A=6;function rg(b,a,c){return O.f(b,a,function(){var d=Cc(b,a);return c.c?c.c(d):c.call(null,d)}())}function sg(b,a,c,d){return O.f(b,a,function(){var e=Cc(b,a);return c.b?c.b(e,d):c.call(null,e,d)}())}function tg(b,a,c,d,e){return O.f(b,a,function(){var f=Cc(b,a);return c.f?c.f(f,d,e):c.call(null,f,d,e)}())}function ug(b,a){this.fa=b;this.l=a}
function vg(b){return new ug(b,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function wg(b){b=b.u;return 32>b?0:b-1>>>5<<5}function xg(b,a,c){for(;;){if(0===a)return c;var d=vg(b);d.l[0]=c;c=d;a-=5}}var yg=function yg(a,c,d,e){var f=new ug(d.fa,Ra(d.l)),h=a.u-1>>>c&31;5===c?f.l[h]=e:(d=d.l[h],a=null!=d?yg(a,c-5,d,e):xg(null,c-5,e),f.l[h]=a);return f};
function zg(b,a){throw Error([t("No item "),t(b),t(" in vector of length "),t(a)].join(""));}function Ag(b,a){if(a>=wg(b))return b.za;for(var c=b.root,d=b.shift;;)if(0<d)var e=d-5,c=c.l[a>>>d&31],d=e;else return c.l}function Bg(b,a){return 0<=a&&a<b.u?Ag(b,a):zg(a,b.u)}var Cg=function Cg(a,c,d,e,f){var h=new ug(d.fa,Ra(d.l));if(0===c)h.l[e&31]=f;else{var k=e>>>c&31;a=Cg(a,c-5,d.l[k],e,f);h.l[k]=a}return h};function Dg(b,a,c,d,e,f){this.D=b;this.Kc=a;this.l=c;this.v=d;this.start=e;this.end=f}
Dg.prototype.pa=function(){return this.D<this.end};Dg.prototype.next=function(){32===this.D-this.Kc&&(this.l=Ag(this.v,this.D),this.Kc+=32);var b=this.l[this.D&31];this.D+=1;return b};function U(b,a,c,d,e,f){this.B=b;this.u=a;this.shift=c;this.root=d;this.za=e;this.j=f;this.m=167668511;this.C=8196}g=U.prototype;g.toString=function(){return kc(this)};g.equiv=function(b){return this.w(null,b)};g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){return"number"===typeof a?w.f(this,a,c):c};
g.fc=function(b,a,c){b=0;for(var d=c;;)if(b<this.u){var e=Ag(this,b);c=e.length;a:for(var f=0;;)if(f<c){var h=f+b,k=e[f],d=a.f?a.f(d,h,k):a.call(null,d,h,k);if(Qc(d)){e=d;break a}f+=1}else{e=d;break a}if(Qc(e))return H.c?H.c(e):H.call(null,e);b+=c;d=e}else return d};g.L=function(b,a){return Bg(this,a)[a&31]};g.Aa=function(b,a,c){return 0<=a&&a<this.u?Ag(this,a)[a&31]:c};
g.Ub=function(b,a,c){if(0<=a&&a<this.u)return wg(this)<=a?(b=Ra(this.za),b[a&31]=c,new U(this.B,this.u,this.shift,this.root,b,null)):new U(this.B,this.u,this.shift,Cg(this,this.shift,this.root,a,c),this.za,null);if(a===this.u)return $a(this,c);throw Error([t("Index "),t(a),t(" out of bounds  [0,"),t(this.u),t("]")].join(""));};g.U=function(){var b=this.u;return new Dg(0,0,0<M(this)?Ag(this,0):null,this,0,b)};g.N=function(){return this.B};g.P=function(){return this.u};
g.mc=function(){return w.b(this,0)};g.nc=function(){return w.b(this,1)};g.Ib=function(){return 0<this.u?w.b(this,this.u-1):null};g.$a=function(){return 0<this.u?new Zc(this,this.u-1,null):null};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Jc(this)};g.w=function(b,a){if(a instanceof U)if(this.u===M(a))for(var c=ic(this),d=ic(a);;)if(r(c.pa())){var e=c.next(),f=d.next();if(!G.b(e,f))return!1}else return!0;else return!1;else return $c(this,a)};
g.ec=function(){return new Eg(this.u,this.shift,Fg.c?Fg.c(this.root):Fg.call(null,this.root),Gg.c?Gg.c(this.za):Gg.call(null,this.za))};g.ea=function(){return dd(K,this.B)};g.la=function(b,a){return Rc(this,a)};g.ma=function(b,a,c){b=0;for(var d=c;;)if(b<this.u){var e=Ag(this,b);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f],d=a.b?a.b(d,h):a.call(null,d,h);if(Qc(d)){e=d;break a}f+=1}else{e=d;break a}if(Qc(e))return H.c?H.c(e):H.call(null,e);b+=c;d=e}else return d};
g.T=function(b,a,c){if("number"===typeof a)return ub(this,a,c);throw Error("Vector's key for assoc must be a number.");};g.M=function(){if(0===this.u)return null;if(32>=this.u)return new za(this.za,0);var b;a:{b=this.root;for(var a=this.shift;;)if(0<a)a-=5,b=b.l[0];else{b=b.l;break a}}return Hg?Hg(this,b,0,0):Ig.call(null,this,b,0,0)};g.O=function(b,a){return new U(a,this.u,this.shift,this.root,this.za,this.j)};
g.R=function(b,a){if(32>this.u-wg(this)){for(var c=this.za.length,d=Array(c+1),e=0;;)if(e<c)d[e]=this.za[e],e+=1;else break;d[c]=a;return new U(this.B,this.u+1,this.shift,this.root,d,null)}c=(d=this.u>>>5>1<<this.shift)?this.shift+5:this.shift;d?(d=vg(null),d.l[0]=this.root,e=xg(null,this.shift,new ug(null,this.za)),d.l[1]=e):d=yg(this,this.shift,this.root,new ug(null,this.za));return new U(this.B,this.u+1,c,d,[a],null)};
g.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.L(null,b);case 3:return this.Aa(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.L(null,b)};b.f=function(a,b,d){return this.Aa(null,b,d)};return b}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Ra(a)))};g.c=function(b){return this.L(null,b)};g.b=function(b,a){return this.Aa(null,b,a)};
var V=new ug(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),K=new U(null,0,5,V,[],Kc);function Jg(b){var a=b.length;if(32>a)return new U(null,a,5,V,b,null);for(var c=32,d=(new U(null,32,5,V,b.slice(0,32),null)).ec(null);;)if(c<a)var e=c+1,d=hf.b(d,b[c]),c=e;else return Yb(d)}U.prototype[Na]=function(){return Hc(this)};function ge(b){return Ea(b)?Jg(b):Yb(v(Wb,Vb(K),b))}
var Kg=function Kg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Kg.h(0<c.length?new za(c.slice(0),0):null)};Kg.h=function(b){return b instanceof za&&0===b.D?Jg(b.l):ge(b)};Kg.A=0;Kg.H=function(b){return Kg.h(q(b))};function Lg(b,a,c,d,e,f){this.Ka=b;this.node=a;this.D=c;this.ua=d;this.B=e;this.j=f;this.m=32375020;this.C=1536}g=Lg.prototype;g.toString=function(){return kc(this)};g.equiv=function(b){return this.w(null,b)};g.N=function(){return this.B};
g.va=function(){if(this.ua+1<this.node.length){var b;b=this.Ka;var a=this.node,c=this.D,d=this.ua+1;b=Hg?Hg(b,a,c,d):Ig.call(null,b,a,c,d);return null==b?null:b}return dc(this)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Jc(this)};g.w=function(b,a){return $c(this,a)};g.ea=function(){return dd(K,this.B)};g.la=function(b,a){var c;c=this.Ka;var d=this.D+this.ua,e=M(this.Ka);c=Mg?Mg(c,d,e):Ng.call(null,c,d,e);return Rc(c,a)};
g.ma=function(b,a,c){b=this.Ka;var d=this.D+this.ua,e=M(this.Ka);b=Mg?Mg(b,d,e):Ng.call(null,b,d,e);return Sc(b,a,c)};g.ka=function(){return this.node[this.ua]};g.oa=function(){if(this.ua+1<this.node.length){var b;b=this.Ka;var a=this.node,c=this.D,d=this.ua+1;b=Hg?Hg(b,a,c,d):Ig.call(null,b,a,c,d);return null==b?Fc:b}return B(this)};g.M=function(){return this};g.Bc=function(){var b=this.node;return new We(b,this.ua,b.length)};
g.Cc=function(){var b=this.D+this.node.length;if(b<Ua(this.Ka)){var a=this.Ka,c=Ag(this.Ka,b);return Hg?Hg(a,c,b,0):Ig.call(null,a,c,b,0)}return Fc};g.O=function(b,a){return Og?Og(this.Ka,this.node,this.D,this.ua,a):Ig.call(null,this.Ka,this.node,this.D,this.ua,a)};g.R=function(b,a){return bd(a,this)};g.Ac=function(){var b=this.D+this.node.length;if(b<Ua(this.Ka)){var a=this.Ka,c=Ag(this.Ka,b);return Hg?Hg(a,c,b,0):Ig.call(null,a,c,b,0)}return null};Lg.prototype[Na]=function(){return Hc(this)};
function Ig(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 3:return a=arguments[0],c=arguments[1],d=arguments[2],new Lg(a,Bg(a,c),c,d,null,null);case 4:return Hg(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Og(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error([t("Invalid arity: "),t(a.length)].join(""));}}function Hg(b,a,c,d){return new Lg(b,a,c,d,null,null)}
function Og(b,a,c,d,e){return new Lg(b,a,c,d,e,null)}function Rg(b,a,c,d,e){this.B=b;this.v=a;this.start=c;this.end=d;this.j=e;this.m=167666463;this.C=8192}g=Rg.prototype;g.toString=function(){return kc(this)};g.equiv=function(b){return this.w(null,b)};g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){return"number"===typeof a?w.f(this,a,c):c};
g.fc=function(b,a,c){b=this.start;for(var d=0;;)if(b<this.end){var e=d,f=w.b(this.v,b);c=a.f?a.f(c,e,f):a.call(null,c,e,f);if(Qc(c))return H.c?H.c(c):H.call(null,c);d+=1;b+=1}else return c};g.L=function(b,a){return 0>a||this.end<=this.start+a?zg(a,this.end-this.start):w.b(this.v,this.start+a)};g.Aa=function(b,a,c){return 0>a||this.end<=this.start+a?c:w.f(this.v,this.start+a,c)};
g.Ub=function(b,a,c){var d=this.start+a;b=this.B;c=O.f(this.v,d,c);a=this.start;var e=this.end,d=d+1,d=e>d?e:d;return Sg.W?Sg.W(b,c,a,d,null):Sg.call(null,b,c,a,d,null)};g.N=function(){return this.B};g.P=function(){return this.end-this.start};g.Ib=function(){return w.b(this.v,this.end-1)};g.$a=function(){return this.start!==this.end?new Zc(this,this.end-this.start-1,null):null};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Jc(this)};g.w=function(b,a){return $c(this,a)};
g.ea=function(){return dd(K,this.B)};g.la=function(b,a){return Rc(this,a)};g.ma=function(b,a,c){return Sc(this,a,c)};g.T=function(b,a,c){if("number"===typeof a)return ub(this,a,c);throw Error("Subvec's key for assoc must be a number.");};g.M=function(){var b=this;return function(a){return function d(e){return e===b.end?null:bd(w.b(b.v,e),new Te(null,function(){return function(){return d(e+1)}}(a),null,null))}}(this)(b.start)};
g.O=function(b,a){return Sg.W?Sg.W(a,this.v,this.start,this.end,this.j):Sg.call(null,a,this.v,this.start,this.end,this.j)};g.R=function(b,a){var c=this.B,d=ub(this.v,this.end,a),e=this.start,f=this.end+1;return Sg.W?Sg.W(c,d,e,f,null):Sg.call(null,c,d,e,f,null)};
g.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.L(null,b);case 3:return this.Aa(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.L(null,b)};b.f=function(a,b,d){return this.Aa(null,b,d)};return b}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Ra(a)))};g.c=function(b){return this.L(null,b)};g.b=function(b,a){return this.Aa(null,b,a)};Rg.prototype[Na]=function(){return Hc(this)};
function Sg(b,a,c,d,e){for(;;)if(a instanceof Rg)c=a.start+c,d=a.start+d,a=a.v;else{var f=M(a);if(0>c||0>d||c>f||d>f)throw Error("Index out of bounds");return new Rg(b,a,c,d,e)}}function Ng(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 2:return a=arguments[0],Mg(a,arguments[1],M(a));case 3:return Mg(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(a.length)].join(""));}}
function Mg(b,a,c){return Sg(null,b,a,c,null)}function Tg(b,a){return b===a.fa?a:new ug(b,Ra(a.l))}function Fg(b){return new ug({},Ra(b.l))}function Gg(b){var a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Id(b,0,a,0,b.length);return a}
var Ug=function Ug(a,c,d,e){d=Tg(a.root.fa,d);var f=a.u-1>>>c&31;if(5===c)a=e;else{var h=d.l[f];a=null!=h?Ug(a,c-5,h,e):xg(a.root.fa,c-5,e)}d.l[f]=a;return d};function Eg(b,a,c,d){this.u=b;this.shift=a;this.root=c;this.za=d;this.C=88;this.m=275}g=Eg.prototype;
g.Tb=function(b,a){if(this.root.fa){if(32>this.u-wg(this))this.za[this.u&31]=a;else{var c=new ug(this.root.fa,this.za),d=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];d[0]=a;this.za=d;if(this.u>>>5>1<<this.shift){var d=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],e=this.shift+
5;d[0]=this.root;d[1]=xg(this.root.fa,this.shift,c);this.root=new ug(this.root.fa,d);this.shift=e}else this.root=Ug(this,this.shift,this.root,c)}this.u+=1;return this}throw Error("conj! after persistent!");};g.gc=function(){if(this.root.fa){this.root.fa=null;var b=this.u-wg(this),a=Array(b);Id(this.za,0,a,0,b);return new U(null,this.u,this.shift,this.root,a,null)}throw Error("persistent! called twice");};
g.oc=function(b,a,c){if("number"===typeof a)return $b(this,a,c);throw Error("TransientVector's key for assoc! must be a number.");};
g.od=function(b,a,c){var d=this;if(d.root.fa){if(0<=a&&a<d.u)return wg(this)<=a?d.za[a&31]=c:(b=function(){return function f(b,k){var l=Tg(d.root.fa,k);if(0===b)l.l[a&31]=c;else{var m=a>>>b&31,n=f(b-5,l.l[m]);l.l[m]=n}return l}}(this).call(null,d.shift,d.root),d.root=b),this;if(a===d.u)return Wb(this,c);throw Error([t("Index "),t(a),t(" out of bounds for TransientVector of length"),t(d.u)].join(""));}throw Error("assoc! after persistent!");};
g.P=function(){if(this.root.fa)return this.u;throw Error("count after persistent!");};g.L=function(b,a){if(this.root.fa)return Bg(this,a)[a&31];throw Error("nth after persistent!");};g.Aa=function(b,a,c){return 0<=a&&a<this.u?w.b(this,a):c};g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){return"number"===typeof a?w.f(this,a,c):c};
g.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.G(null,b);case 3:return this.F(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.G(null,b)};b.f=function(a,b,d){return this.F(null,b,d)};return b}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Ra(a)))};g.c=function(b){return this.G(null,b)};g.b=function(b,a){return this.F(null,b,a)};function Vg(b,a){this.jc=b;this.xc=a}
Vg.prototype.pa=function(){var b=null!=this.jc&&q(this.jc);return b?b:(b=null!=this.xc)?this.xc.pa():b};Vg.prototype.next=function(){if(null!=this.jc){var b=E(this.jc);this.jc=F(this.jc);return b}if(null!=this.xc&&this.xc.pa())return this.xc.next();throw Error("No such element");};Vg.prototype.remove=function(){return Error("Unsupported operation")};function Wg(b,a,c,d){this.B=b;this.Ma=a;this.Cb=c;this.j=d;this.m=31850572;this.C=0}g=Wg.prototype;g.toString=function(){return kc(this)};
g.equiv=function(b){return this.w(null,b)};g.N=function(){return this.B};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Jc(this)};g.w=function(b,a){return $c(this,a)};g.ea=function(){return dd(Fc,this.B)};g.ka=function(){return E(this.Ma)};g.oa=function(){var b=F(this.Ma);return b?new Wg(this.B,b,this.Cb,null):null==this.Cb?Wa(this):new Wg(this.B,this.Cb,null,null)};g.M=function(){return this};g.O=function(b,a){return new Wg(a,this.Ma,this.Cb,this.j)};g.R=function(b,a){return bd(a,this)};
Wg.prototype[Na]=function(){return Hc(this)};function Xg(b,a,c,d,e){this.B=b;this.count=a;this.Ma=c;this.Cb=d;this.j=e;this.m=31858766;this.C=8192}g=Xg.prototype;g.toString=function(){return kc(this)};g.equiv=function(b){return this.w(null,b)};g.U=function(){return new Vg(this.Ma,ic(this.Cb))};g.N=function(){return this.B};g.P=function(){return this.count};g.Ib=function(){return E(this.Ma)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Jc(this)};g.w=function(b,a){return $c(this,a)};
g.ea=function(){return dd(Yg,this.B)};g.ka=function(){return E(this.Ma)};g.oa=function(){return Ec(q(this))};g.M=function(){var b=q(this.Cb),a=this.Ma;return r(r(a)?a:b)?new Wg(null,this.Ma,q(b),null):null};g.O=function(b,a){return new Xg(a,this.count,this.Ma,this.Cb,this.j)};g.R=function(b,a){var c;r(this.Ma)?(c=this.Cb,c=new Xg(this.B,this.count+1,this.Ma,nd.b(r(c)?c:K,a),null)):c=new Xg(this.B,this.count+1,nd.b(this.Ma,a),K,null);return c};var Yg=new Xg(null,0,null,K,Kc);Xg.prototype[Na]=function(){return Hc(this)};
function Zg(){this.m=2097152;this.C=0}Zg.prototype.equiv=function(b){return this.w(null,b)};Zg.prototype.w=function(){return!1};var $g=new Zg;function ah(b,a){return Pd(Ed(a)?M(b)===M(a)?Cf(je,Xf.b(function(b){return G.b(Ac(a,E(b),$g),hd(b))},b)):null:null)}function bh(b,a,c,d,e){this.D=b;this.ce=a;this.jd=c;this.Vd=d;this.wd=e}bh.prototype.pa=function(){var b=this.D<this.jd;return b?b:this.wd.pa()};
bh.prototype.next=function(){if(this.D<this.jd){var b=rd(this.Vd,this.D);this.D+=1;return new U(null,2,5,V,[b,gb.b(this.ce,b)],null)}return this.wd.next()};bh.prototype.remove=function(){return Error("Unsupported operation")};function ch(b){this.aa=b}ch.prototype.next=function(){if(null!=this.aa){var b=E(this.aa),a=N(b,0),b=N(b,1);this.aa=F(this.aa);return{value:[a,b],done:!1}}return{value:null,done:!0}};function fh(b){return new ch(q(b))}function gh(b){this.aa=b}
gh.prototype.next=function(){if(null!=this.aa){var b=E(this.aa);this.aa=F(this.aa);return{value:[b,b],done:!1}}return{value:null,done:!0}};function hh(b){return new gh(q(b))}
function ih(b,a){var c;if(a instanceof R)a:{c=b.length;for(var d=a.V,e=0;;){if(c<=e){c=-1;break a}if(b[e]instanceof R&&d===b[e].V){c=e;break a}e+=2}}else if("string"==typeof a||"number"===typeof a)a:for(c=b.length,d=0;;){if(c<=d){c=-1;break a}if(a===b[d]){c=d;break a}d+=2}else if(a instanceof C)a:for(c=b.length,d=a.gb,e=0;;){if(c<=e){c=-1;break a}if(b[e]instanceof C&&d===b[e].gb){c=e;break a}e+=2}else if(null==a)a:for(c=b.length,d=0;;){if(c<=d){c=-1;break a}if(null==b[d]){c=d;break a}d+=2}else a:for(c=
b.length,d=0;;){if(c<=d){c=-1;break a}if(G.b(a,b[d])){c=d;break a}d+=2}return c}function jh(b,a,c){this.l=b;this.D=a;this.Ca=c;this.m=32374990;this.C=0}g=jh.prototype;g.toString=function(){return kc(this)};g.equiv=function(b){return this.w(null,b)};g.N=function(){return this.Ca};g.va=function(){return this.D<this.l.length-2?new jh(this.l,this.D+2,this.Ca):null};g.P=function(){return(this.l.length-this.D)/2};g.K=function(){return Jc(this)};g.w=function(b,a){return $c(this,a)};
g.ea=function(){return dd(Fc,this.Ca)};g.la=function(b,a){return ed(a,this)};g.ma=function(b,a,c){return gd(a,c,this)};g.ka=function(){return new U(null,2,5,V,[this.l[this.D],this.l[this.D+1]],null)};g.oa=function(){return this.D<this.l.length-2?new jh(this.l,this.D+2,this.Ca):Fc};g.M=function(){return this};g.O=function(b,a){return new jh(this.l,this.D,a)};g.R=function(b,a){return bd(a,this)};jh.prototype[Na]=function(){return Hc(this)};function kh(b,a,c){this.l=b;this.D=a;this.u=c}
kh.prototype.pa=function(){return this.D<this.u};kh.prototype.next=function(){var b=new U(null,2,5,V,[this.l[this.D],this.l[this.D+1]],null);this.D+=2;return b};function p(b,a,c,d){this.B=b;this.u=a;this.l=c;this.j=d;this.m=16647951;this.C=8196}g=p.prototype;g.toString=function(){return kc(this)};g.equiv=function(b){return this.w(null,b)};g.keys=function(){return Hc(lh.c?lh.c(this):lh.call(null,this))};g.entries=function(){return fh(q(this))};
g.values=function(){return Hc(mh.c?mh.c(this):mh.call(null,this))};g.has=function(b){return Qd(this,b)};g.get=function(b,a){return this.F(null,b,a)};g.forEach=function(b){for(var a=q(this),c=null,d=0,e=0;;)if(e<d){var f=c.L(null,e),h=N(f,0),f=N(f,1);b.b?b.b(f,h):b.call(null,f,h);e+=1}else if(a=q(a))P(a)?(c=z(a),a=B(a),h=c,d=M(c),c=h):(c=E(a),h=N(c,0),f=N(c,1),b.b?b.b(f,h):b.call(null,f,h),a=F(a),c=null,d=0),e=0;else return null};g.G=function(b,a){return gb.f(this,a,null)};
g.F=function(b,a,c){b=ih(this.l,a);return-1===b?c:this.l[b+1]};g.fc=function(b,a,c){b=this.l.length;for(var d=0;;)if(d<b){var e=this.l[d],f=this.l[d+1];c=a.f?a.f(c,e,f):a.call(null,c,e,f);if(Qc(c))return H.c?H.c(c):H.call(null,c);d+=2}else return c};g.U=function(){return new kh(this.l,0,2*this.u)};g.N=function(){return this.B};g.P=function(){return this.u};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Lc(this)};
g.w=function(b,a){if(null!=a&&(a.m&1024||a.Id)){var c=this.l.length;if(this.u===a.P(null))for(var d=0;;)if(d<c){var e=a.F(null,this.l[d],Jd);if(e!==Jd)if(G.b(this.l[d+1],e))d+=2;else return!1;else return!1}else return!0;else return!1}else return ah(this,a)};g.ec=function(){return new nh({},this.l.length,Ra(this.l))};g.ea=function(){return Db(Ud,this.B)};g.la=function(b,a){return ed(a,this)};g.ma=function(b,a,c){return gd(a,c,this)};
g.Y=function(b,a){if(0<=ih(this.l,a)){var c=this.l.length,d=c-2;if(0===d)return Wa(this);for(var d=Array(d),e=0,f=0;;){if(e>=c)return new p(this.B,this.u-1,d,null);G.b(a,this.l[e])||(d[f]=this.l[e],d[f+1]=this.l[e+1],f+=2);e+=2}}else return this};
g.T=function(b,a,c){b=ih(this.l,a);if(-1===b){if(this.u<Td){b=this.l;for(var d=b.length,e=Array(d+2),f=0;;)if(f<d)e[f]=b[f],f+=1;else break;e[d]=a;e[d+1]=c;return new p(this.B,this.u+1,e,null)}return Db(jb(W.b(oh,this),a,c),this.B)}if(c===this.l[b+1])return this;a=Ra(this.l);a[b+1]=c;return new p(this.B,this.u,a,null)};g.Rb=function(b,a){return-1!==ih(this.l,a)};g.M=function(){var b=this.l;return 0<=b.length-2?new jh(b,0,null):null};g.O=function(b,a){return new p(a,this.u,this.l,this.j)};
g.R=function(b,a){if(Gd(a))return jb(this,w.b(a,0),w.b(a,1));for(var c=this,d=q(a);;){if(null==d)return c;var e=E(d);if(Gd(e))c=jb(c,w.b(e,0),w.b(e,1)),d=F(d);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.G(null,b);case 3:return this.F(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.G(null,b)};b.f=function(a,b,d){return this.F(null,b,d)};return b}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Ra(a)))};g.c=function(b){return this.G(null,b)};g.b=function(b,a){return this.F(null,b,a)};var Ud=new p(null,0,[],Mc),Td=8;
function ph(b){for(var a=[],c=0;;)if(c<b.length){var d=b[c],e=b[c+1];-1===ih(a,d)&&(a.push(d),a.push(e));c+=2}else break;return new p(null,a.length/2,a,null)}p.prototype[Na]=function(){return Hc(this)};function nh(b,a,c){this.ic=b;this.Yb=a;this.l=c;this.m=258;this.C=56}g=nh.prototype;g.P=function(){if(r(this.ic))return ye(this.Yb,2);throw Error("count after persistent!");};g.G=function(b,a){return gb.f(this,a,null)};
g.F=function(b,a,c){if(r(this.ic))return b=ih(this.l,a),-1===b?c:this.l[b+1];throw Error("lookup after persistent!");};g.Tb=function(b,a){if(r(this.ic)){if(null!=a?a.m&2048||a.Jd||(a.m?0:Ga(nb,a)):Ga(nb,a))return Zb(this,He.c?He.c(a):He.call(null,a),Ie.c?Ie.c(a):Ie.call(null,a));for(var c=q(a),d=this;;){var e=E(c);if(r(e))c=F(c),d=Zb(d,He.c?He.c(e):He.call(null,e),Ie.c?Ie.c(e):Ie.call(null,e));else return d}}else throw Error("conj! after persistent!");};
g.gc=function(){if(r(this.ic))return this.ic=!1,new p(null,ye(this.Yb,2),this.l,null);throw Error("persistent! called twice");};g.oc=function(b,a,c){if(r(this.ic)){b=ih(this.l,a);if(-1===b)return this.Yb+2<=2*Td?(this.Yb+=2,this.l.push(a),this.l.push(c),this):jf.f(qh.b?qh.b(this.Yb,this.l):qh.call(null,this.Yb,this.l),a,c);c!==this.l[b+1]&&(this.l[b+1]=c);return this}throw Error("assoc! after persistent!");};function qh(b,a){for(var c=Vb(oh),d=0;;)if(d<b)c=jf.f(c,a[d],a[d+1]),d+=2;else return c}
function rh(){this.J=!1}function sh(b,a){return b===a?!0:S(b,a)?!0:G.b(b,a)}function th(b,a,c){b=Ra(b);b[a]=c;return b}function uh(b,a){var c=Array(b.length-2);Id(b,0,c,0,2*a);Id(b,2*(a+1),c,2*a,c.length-2*a);return c}function vh(b,a,c,d){b=b.Vb(a);b.l[c]=d;return b}function wh(b,a,c){for(var d=b.length,e=0,f=c;;)if(e<d){c=b[e];if(null!=c){var h=b[e+1];c=a.f?a.f(f,c,h):a.call(null,f,c,h)}else c=b[e+1],c=null!=c?c.Xb(a,f):f;if(Qc(c))return H.c?H.c(c):H.call(null,c);e+=2;f=c}else return f}
function xh(b,a,c,d){this.l=b;this.D=a;this.vc=c;this.Xa=d}xh.prototype.advance=function(){for(var b=this.l.length;;)if(this.D<b){var a=this.l[this.D],c=this.l[this.D+1];null!=a?a=this.vc=new U(null,2,5,V,[a,c],null):null!=c?(a=ic(c),a=a.pa()?this.Xa=a:!1):a=!1;this.D+=2;if(a)return!0}else return!1};xh.prototype.pa=function(){var b=null!=this.vc;return b?b:(b=null!=this.Xa)?b:this.advance()};
xh.prototype.next=function(){if(null!=this.vc){var b=this.vc;this.vc=null;return b}if(null!=this.Xa)return b=this.Xa.next(),this.Xa.pa()||(this.Xa=null),b;if(this.advance())return this.next();throw Error("No such element");};xh.prototype.remove=function(){return Error("Unsupported operation")};function yh(b,a,c){this.fa=b;this.ja=a;this.l=c}g=yh.prototype;g.Vb=function(b){if(b===this.fa)return this;var a=ze(this.ja),c=Array(0>a?4:2*(a+1));Id(this.l,0,c,0,2*a);return new yh(b,this.ja,c)};
g.tc=function(){return zh?zh(this.l):Ah.call(null,this.l)};g.Xb=function(b,a){return wh(this.l,b,a)};g.Lb=function(b,a,c,d){var e=1<<(a>>>b&31);if(0===(this.ja&e))return d;var f=ze(this.ja&e-1),e=this.l[2*f],f=this.l[2*f+1];return null==e?f.Lb(b+5,a,c,d):sh(c,e)?f:d};
g.Wa=function(b,a,c,d,e,f){var h=1<<(c>>>a&31),k=ze(this.ja&h-1);if(0===(this.ja&h)){var l=ze(this.ja);if(2*l<this.l.length){b=this.Vb(b);a=b.l;f.J=!0;a:for(c=2*(l-k),f=2*k+(c-1),l=2*(k+1)+(c-1);;){if(0===c)break a;a[l]=a[f];--l;--c;--f}a[2*k]=d;a[2*k+1]=e;b.ja|=h;return b}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>a&31]=Bh.Wa(b,a+5,c,d,e,f);for(e=d=0;;)if(32>d)0!==
(this.ja>>>d&1)&&(k[d]=null!=this.l[e]?Bh.Wa(b,a+5,wc(this.l[e]),this.l[e],this.l[e+1],f):this.l[e+1],e+=2),d+=1;else break;return new Ch(b,l+1,k)}a=Array(2*(l+4));Id(this.l,0,a,0,2*k);a[2*k]=d;a[2*k+1]=e;Id(this.l,2*k,a,2*(k+1),2*(l-k));f.J=!0;b=this.Vb(b);b.l=a;b.ja|=h;return b}l=this.l[2*k];h=this.l[2*k+1];if(null==l)return l=h.Wa(b,a+5,c,d,e,f),l===h?this:vh(this,b,2*k+1,l);if(sh(d,l))return e===h?this:vh(this,b,2*k+1,e);f.J=!0;f=a+5;d=Dh?Dh(b,f,l,h,c,d,e):Eh.call(null,b,f,l,h,c,d,e);e=2*k;k=
2*k+1;b=this.Vb(b);b.l[e]=null;b.l[k]=d;return b};
g.Va=function(b,a,c,d,e){var f=1<<(a>>>b&31),h=ze(this.ja&f-1);if(0===(this.ja&f)){var k=ze(this.ja);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[a>>>b&31]=Bh.Va(b+5,a,c,d,e);for(d=c=0;;)if(32>c)0!==(this.ja>>>c&1)&&(h[c]=null!=this.l[d]?Bh.Va(b+5,wc(this.l[d]),this.l[d],this.l[d+1],e):this.l[d+1],d+=2),c+=1;else break;return new Ch(null,k+1,h)}b=Array(2*(k+1));Id(this.l,
0,b,0,2*h);b[2*h]=c;b[2*h+1]=d;Id(this.l,2*h,b,2*(h+1),2*(k-h));e.J=!0;return new yh(null,this.ja|f,b)}var l=this.l[2*h],f=this.l[2*h+1];if(null==l)return k=f.Va(b+5,a,c,d,e),k===f?this:new yh(null,this.ja,th(this.l,2*h+1,k));if(sh(c,l))return d===f?this:new yh(null,this.ja,th(this.l,2*h+1,d));e.J=!0;e=this.ja;k=this.l;b+=5;b=Fh?Fh(b,l,f,a,c,d):Eh.call(null,b,l,f,a,c,d);c=2*h;h=2*h+1;d=Ra(k);d[c]=null;d[h]=b;return new yh(null,e,d)};
g.uc=function(b,a,c){var d=1<<(a>>>b&31);if(0===(this.ja&d))return this;var e=ze(this.ja&d-1),f=this.l[2*e],h=this.l[2*e+1];return null==f?(b=h.uc(b+5,a,c),b===h?this:null!=b?new yh(null,this.ja,th(this.l,2*e+1,b)):this.ja===d?null:new yh(null,this.ja^d,uh(this.l,e))):sh(c,f)?new yh(null,this.ja^d,uh(this.l,e)):this};g.U=function(){return new xh(this.l,0,null,null)};var Bh=new yh(null,0,[]);function Gh(b,a,c){this.l=b;this.D=a;this.Xa=c}
Gh.prototype.pa=function(){for(var b=this.l.length;;){if(null!=this.Xa&&this.Xa.pa())return!0;if(this.D<b){var a=this.l[this.D];this.D+=1;null!=a&&(this.Xa=ic(a))}else return!1}};Gh.prototype.next=function(){if(this.pa())return this.Xa.next();throw Error("No such element");};Gh.prototype.remove=function(){return Error("Unsupported operation")};function Ch(b,a,c){this.fa=b;this.u=a;this.l=c}g=Ch.prototype;g.Vb=function(b){return b===this.fa?this:new Ch(b,this.u,Ra(this.l))};
g.tc=function(){return Hh?Hh(this.l):Ih.call(null,this.l)};g.Xb=function(b,a){for(var c=this.l.length,d=0,e=a;;)if(d<c){var f=this.l[d];if(null!=f&&(e=f.Xb(b,e),Qc(e)))return H.c?H.c(e):H.call(null,e);d+=1}else return e};g.Lb=function(b,a,c,d){var e=this.l[a>>>b&31];return null!=e?e.Lb(b+5,a,c,d):d};g.Wa=function(b,a,c,d,e,f){var h=c>>>a&31,k=this.l[h];if(null==k)return b=vh(this,b,h,Bh.Wa(b,a+5,c,d,e,f)),b.u+=1,b;a=k.Wa(b,a+5,c,d,e,f);return a===k?this:vh(this,b,h,a)};
g.Va=function(b,a,c,d,e){var f=a>>>b&31,h=this.l[f];if(null==h)return new Ch(null,this.u+1,th(this.l,f,Bh.Va(b+5,a,c,d,e)));b=h.Va(b+5,a,c,d,e);return b===h?this:new Ch(null,this.u,th(this.l,f,b))};
g.uc=function(b,a,c){var d=a>>>b&31,e=this.l[d];if(null!=e){b=e.uc(b+5,a,c);if(b===e)d=this;else if(null==b)if(8>=this.u)a:{e=this.l;b=e.length;a=Array(2*(this.u-1));c=0;for(var f=1,h=0;;)if(c<b)c!==d&&null!=e[c]&&(a[f]=e[c],f+=2,h|=1<<c),c+=1;else{d=new yh(null,h,a);break a}}else d=new Ch(null,this.u-1,th(this.l,d,b));else d=new Ch(null,this.u,th(this.l,d,b));return d}return this};g.U=function(){return new Gh(this.l,0,null)};
function Jh(b,a,c){a*=2;for(var d=0;;)if(d<a){if(sh(c,b[d]))return d;d+=2}else return-1}function Kh(b,a,c,d){this.fa=b;this.Ab=a;this.u=c;this.l=d}g=Kh.prototype;g.Vb=function(b){if(b===this.fa)return this;var a=Array(2*(this.u+1));Id(this.l,0,a,0,2*this.u);return new Kh(b,this.Ab,this.u,a)};g.tc=function(){return zh?zh(this.l):Ah.call(null,this.l)};g.Xb=function(b,a){return wh(this.l,b,a)};g.Lb=function(b,a,c,d){b=Jh(this.l,this.u,c);return 0>b?d:sh(c,this.l[b])?this.l[b+1]:d};
g.Wa=function(b,a,c,d,e,f){if(c===this.Ab){a=Jh(this.l,this.u,d);if(-1===a){if(this.l.length>2*this.u)return a=2*this.u,c=2*this.u+1,b=this.Vb(b),b.l[a]=d,b.l[c]=e,f.J=!0,b.u+=1,b;c=this.l.length;a=Array(c+2);Id(this.l,0,a,0,c);a[c]=d;a[c+1]=e;f.J=!0;d=this.u+1;b===this.fa?(this.l=a,this.u=d,b=this):b=new Kh(this.fa,this.Ab,d,a);return b}return this.l[a+1]===e?this:vh(this,b,a+1,e)}return(new yh(b,1<<(this.Ab>>>a&31),[null,this,null,null])).Wa(b,a,c,d,e,f)};
g.Va=function(b,a,c,d,e){return a===this.Ab?(b=Jh(this.l,this.u,c),-1===b?(b=2*this.u,a=Array(b+2),Id(this.l,0,a,0,b),a[b]=c,a[b+1]=d,e.J=!0,new Kh(null,this.Ab,this.u+1,a)):G.b(this.l[b],d)?this:new Kh(null,this.Ab,this.u,th(this.l,b+1,d))):(new yh(null,1<<(this.Ab>>>b&31),[null,this])).Va(b,a,c,d,e)};g.uc=function(b,a,c){b=Jh(this.l,this.u,c);return-1===b?this:1===this.u?null:new Kh(null,this.Ab,this.u-1,uh(this.l,ye(b,2)))};g.U=function(){return new xh(this.l,0,null,null)};
function Eh(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 6:return Fh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return Dh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error([t("Invalid arity: "),t(a.length)].join(""));}}
function Fh(b,a,c,d,e,f){var h=wc(a);if(h===d)return new Kh(null,h,2,[a,c,e,f]);var k=new rh;return Bh.Va(b,h,a,c,k).Va(b,d,e,f,k)}function Dh(b,a,c,d,e,f,h){var k=wc(c);if(k===e)return new Kh(null,k,2,[c,d,f,h]);var l=new rh;return Bh.Wa(b,a,k,c,d,l).Wa(b,a,e,f,h,l)}function Lh(b,a,c,d,e){this.B=b;this.Mb=a;this.D=c;this.aa=d;this.j=e;this.m=32374860;this.C=0}g=Lh.prototype;g.toString=function(){return kc(this)};g.equiv=function(b){return this.w(null,b)};g.N=function(){return this.B};
g.K=function(){var b=this.j;return null!=b?b:this.j=b=Jc(this)};g.w=function(b,a){return $c(this,a)};g.ea=function(){return dd(Fc,this.B)};g.la=function(b,a){return ed(a,this)};g.ma=function(b,a,c){return gd(a,c,this)};g.ka=function(){return null==this.aa?new U(null,2,5,V,[this.Mb[this.D],this.Mb[this.D+1]],null):E(this.aa)};
g.oa=function(){if(null==this.aa){var b=this.Mb,a=this.D+2;return Mh?Mh(b,a,null):Ah.call(null,b,a,null)}var b=this.Mb,a=this.D,c=F(this.aa);return Mh?Mh(b,a,c):Ah.call(null,b,a,c)};g.M=function(){return this};g.O=function(b,a){return new Lh(a,this.Mb,this.D,this.aa,this.j)};g.R=function(b,a){return bd(a,this)};Lh.prototype[Na]=function(){return Hc(this)};
function Ah(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 1:return zh(arguments[0]);case 3:return Mh(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(a.length)].join(""));}}function zh(b){return Mh(b,0,null)}
function Mh(b,a,c){if(null==c)for(c=b.length;;)if(a<c){if(null!=b[a])return new Lh(null,b,a,null,null);var d=b[a+1];if(r(d)&&(d=d.tc(),r(d)))return new Lh(null,b,a+2,d,null);a+=2}else return null;else return new Lh(null,b,a,c,null)}function Nh(b,a,c,d,e){this.B=b;this.Mb=a;this.D=c;this.aa=d;this.j=e;this.m=32374860;this.C=0}g=Nh.prototype;g.toString=function(){return kc(this)};g.equiv=function(b){return this.w(null,b)};g.N=function(){return this.B};
g.K=function(){var b=this.j;return null!=b?b:this.j=b=Jc(this)};g.w=function(b,a){return $c(this,a)};g.ea=function(){return dd(Fc,this.B)};g.la=function(b,a){return ed(a,this)};g.ma=function(b,a,c){return gd(a,c,this)};g.ka=function(){return E(this.aa)};g.oa=function(){var b=this.Mb,a=this.D,c=F(this.aa);return Rh?Rh(null,b,a,c):Ih.call(null,null,b,a,c)};g.M=function(){return this};g.O=function(b,a){return new Nh(a,this.Mb,this.D,this.aa,this.j)};g.R=function(b,a){return bd(a,this)};
Nh.prototype[Na]=function(){return Hc(this)};function Ih(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 1:return Hh(arguments[0]);case 4:return Rh(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error([t("Invalid arity: "),t(a.length)].join(""));}}function Hh(b){return Rh(null,b,0,null)}
function Rh(b,a,c,d){if(null==d)for(d=a.length;;)if(c<d){var e=a[c];if(r(e)&&(e=e.tc(),r(e)))return new Nh(b,a,c+1,e,null);c+=1}else return null;else return new Nh(b,a,c,d,null)}function Sh(b,a,c){this.ya=b;this.Bd=a;this.cd=c}Sh.prototype.pa=function(){return this.cd&&this.Bd.pa()};Sh.prototype.next=function(){if(this.cd)return this.Bd.next();this.cd=!0;return this.ya};Sh.prototype.remove=function(){return Error("Unsupported operation")};
function Th(b,a,c,d,e,f){this.B=b;this.u=a;this.root=c;this.xa=d;this.ya=e;this.j=f;this.m=16123663;this.C=8196}g=Th.prototype;g.toString=function(){return kc(this)};g.equiv=function(b){return this.w(null,b)};g.keys=function(){return Hc(lh.c?lh.c(this):lh.call(null,this))};g.entries=function(){return fh(q(this))};g.values=function(){return Hc(mh.c?mh.c(this):mh.call(null,this))};g.has=function(b){return Qd(this,b)};g.get=function(b,a){return this.F(null,b,a)};
g.forEach=function(b){for(var a=q(this),c=null,d=0,e=0;;)if(e<d){var f=c.L(null,e),h=N(f,0),f=N(f,1);b.b?b.b(f,h):b.call(null,f,h);e+=1}else if(a=q(a))P(a)?(c=z(a),a=B(a),h=c,d=M(c),c=h):(c=E(a),h=N(c,0),f=N(c,1),b.b?b.b(f,h):b.call(null,f,h),a=F(a),c=null,d=0),e=0;else return null};g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){return null==a?this.xa?this.ya:c:null==this.root?c:this.root.Lb(0,wc(a),a,c)};
g.fc=function(b,a,c){b=this.xa?a.f?a.f(c,null,this.ya):a.call(null,c,null,this.ya):c;return Qc(b)?H.c?H.c(b):H.call(null,b):null!=this.root?this.root.Xb(a,b):b};g.U=function(){var b=this.root?ic(this.root):uf;return this.xa?new Sh(this.ya,b,!1):b};g.N=function(){return this.B};g.P=function(){return this.u};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Lc(this)};g.w=function(b,a){return ah(this,a)};g.ec=function(){return new Uh({},this.root,this.u,this.xa,this.ya)};
g.ea=function(){return Db(oh,this.B)};g.Y=function(b,a){if(null==a)return this.xa?new Th(this.B,this.u-1,this.root,!1,null,null):this;if(null==this.root)return this;var c=this.root.uc(0,wc(a),a);return c===this.root?this:new Th(this.B,this.u-1,c,this.xa,this.ya,null)};
g.T=function(b,a,c){if(null==a)return this.xa&&c===this.ya?this:new Th(this.B,this.xa?this.u:this.u+1,this.root,!0,c,null);b=new rh;a=(null==this.root?Bh:this.root).Va(0,wc(a),a,c,b);return a===this.root?this:new Th(this.B,b.J?this.u+1:this.u,a,this.xa,this.ya,null)};g.Rb=function(b,a){return null==a?this.xa:null==this.root?!1:this.root.Lb(0,wc(a),a,Jd)!==Jd};g.M=function(){if(0<this.u){var b=null!=this.root?this.root.tc():null;return this.xa?bd(new U(null,2,5,V,[null,this.ya],null),b):b}return null};
g.O=function(b,a){return new Th(a,this.u,this.root,this.xa,this.ya,this.j)};g.R=function(b,a){if(Gd(a))return jb(this,w.b(a,0),w.b(a,1));for(var c=this,d=q(a);;){if(null==d)return c;var e=E(d);if(Gd(e))c=jb(c,w.b(e,0),w.b(e,1)),d=F(d);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.G(null,b);case 3:return this.F(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.G(null,b)};b.f=function(a,b,d){return this.F(null,b,d)};return b}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Ra(a)))};g.c=function(b){return this.G(null,b)};g.b=function(b,a){return this.F(null,b,a)};var oh=new Th(null,0,null,!1,null,Mc);
function sd(b,a){for(var c=b.length,d=0,e=Vb(oh);;)if(d<c)var f=d+1,e=e.oc(null,b[d],a[d]),d=f;else return Yb(e)}Th.prototype[Na]=function(){return Hc(this)};function Uh(b,a,c,d,e){this.fa=b;this.root=a;this.count=c;this.xa=d;this.ya=e;this.m=258;this.C=56}
function Vh(b,a,c){if(b.fa){if(null==a)b.ya!==c&&(b.ya=c),b.xa||(b.count+=1,b.xa=!0);else{var d=new rh;a=(null==b.root?Bh:b.root).Wa(b.fa,0,wc(a),a,c,d);a!==b.root&&(b.root=a);d.J&&(b.count+=1)}return b}throw Error("assoc! after persistent!");}g=Uh.prototype;g.P=function(){if(this.fa)return this.count;throw Error("count after persistent!");};g.G=function(b,a){return null==a?this.xa?this.ya:null:null==this.root?null:this.root.Lb(0,wc(a),a)};
g.F=function(b,a,c){return null==a?this.xa?this.ya:c:null==this.root?c:this.root.Lb(0,wc(a),a,c)};g.Tb=function(b,a){var c;a:if(this.fa)if(null!=a?a.m&2048||a.Jd||(a.m?0:Ga(nb,a)):Ga(nb,a))c=Vh(this,He.c?He.c(a):He.call(null,a),Ie.c?Ie.c(a):Ie.call(null,a));else{c=q(a);for(var d=this;;){var e=E(c);if(r(e))c=F(c),d=Vh(d,He.c?He.c(e):He.call(null,e),Ie.c?Ie.c(e):Ie.call(null,e));else{c=d;break a}}}else throw Error("conj! after persistent");return c};
g.gc=function(){var b;if(this.fa)this.fa=null,b=new Th(null,this.count,this.root,this.xa,this.ya,null);else throw Error("persistent! called twice");return b};g.oc=function(b,a,c){return Vh(this,a,c)};function Wh(b,a,c){for(var d=a;;)if(null!=b)a=c?b.left:b.right,d=nd.b(d,b),b=a;else return d}function Xh(b,a,c,d,e){this.B=b;this.stack=a;this.yc=c;this.u=d;this.j=e;this.m=32374862;this.C=0}g=Xh.prototype;g.toString=function(){return kc(this)};g.equiv=function(b){return this.w(null,b)};g.N=function(){return this.B};
g.P=function(){return 0>this.u?M(F(this))+1:this.u};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Jc(this)};g.w=function(b,a){return $c(this,a)};g.ea=function(){return dd(Fc,this.B)};g.la=function(b,a){return ed(a,this)};g.ma=function(b,a,c){return gd(a,c,this)};g.ka=function(){var b=this.stack;return null==b?null:sb(b)};g.oa=function(){var b=E(this.stack),b=Wh(this.yc?b.right:b.left,F(this.stack),this.yc);return null!=b?new Xh(null,b,this.yc,this.u-1,null):Fc};g.M=function(){return this};
g.O=function(b,a){return new Xh(a,this.stack,this.yc,this.u,this.j)};g.R=function(b,a){return bd(a,this)};Xh.prototype[Na]=function(){return Hc(this)};function Yh(b,a,c){return new Xh(null,Wh(b,null,a),a,c,null)}
function Zh(b,a,c,d){return c instanceof $h?c.left instanceof $h?new $h(c.key,c.J,c.left.kb(),new ai(b,a,c.right,d,null),null):c.right instanceof $h?new $h(c.right.key,c.right.J,new ai(c.key,c.J,c.left,c.right.left,null),new ai(b,a,c.right.right,d,null),null):new ai(b,a,c,d,null):new ai(b,a,c,d,null)}
function bi(b,a,c,d){return d instanceof $h?d.right instanceof $h?new $h(d.key,d.J,new ai(b,a,c,d.left,null),d.right.kb(),null):d.left instanceof $h?new $h(d.left.key,d.left.J,new ai(b,a,c,d.left.left,null),new ai(d.key,d.J,d.left.right,d.right,null),null):new ai(b,a,c,d,null):new ai(b,a,c,d,null)}
function ci(b,a,c,d){if(c instanceof $h)return new $h(b,a,c.kb(),d,null);if(d instanceof ai)return bi(b,a,c,d.wc());if(d instanceof $h&&d.left instanceof ai)return new $h(d.left.key,d.left.J,new ai(b,a,c,d.left.left,null),bi(d.key,d.J,d.left.right,d.right.wc()),null);throw Error("red-black tree invariant violation");}
var di=function di(a,c,d){d=null!=a.left?di(a.left,c,d):d;if(Qc(d))return H.c?H.c(d):H.call(null,d);var e=a.key,f=a.J;d=c.f?c.f(d,e,f):c.call(null,d,e,f);if(Qc(d))return H.c?H.c(d):H.call(null,d);a=null!=a.right?di(a.right,c,d):d;return Qc(a)?H.c?H.c(a):H.call(null,a):a};function ai(b,a,c,d,e){this.key=b;this.J=a;this.left=c;this.right=d;this.j=e;this.m=32402207;this.C=0}g=ai.prototype;g.fd=function(b){return b.hd(this)};g.wc=function(){return new $h(this.key,this.J,this.left,this.right,null)};
g.kb=function(){return this};g.ed=function(b){return b.gd(this)};g.replace=function(b,a,c,d){return new ai(b,a,c,d,null)};g.gd=function(b){return new ai(b.key,b.J,this,b.right,null)};g.hd=function(b){return new ai(b.key,b.J,b.left,this,null)};g.Xb=function(b,a){return di(this,b,a)};g.G=function(b,a){return w.f(this,a,null)};g.F=function(b,a,c){return w.f(this,a,c)};g.L=function(b,a){return 0===a?this.key:1===a?this.J:null};g.Aa=function(b,a,c){return 0===a?this.key:1===a?this.J:c};
g.Ub=function(b,a,c){return(new U(null,2,5,V,[this.key,this.J],null)).Ub(null,a,c)};g.N=function(){return null};g.P=function(){return 2};g.mc=function(){return this.key};g.nc=function(){return this.J};g.Ib=function(){return this.J};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Jc(this)};g.w=function(b,a){return $c(this,a)};g.ea=function(){return K};g.la=function(b,a){return Rc(this,a)};g.ma=function(b,a,c){return Sc(this,a,c)};
g.T=function(b,a,c){return O.f(new U(null,2,5,V,[this.key,this.J],null),a,c)};g.M=function(){return $a($a(Fc,this.J),this.key)};g.O=function(b,a){return dd(new U(null,2,5,V,[this.key,this.J],null),a)};g.R=function(b,a){return new U(null,3,5,V,[this.key,this.J,a],null)};
g.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.G(null,b);case 3:return this.F(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.G(null,b)};b.f=function(a,b,d){return this.F(null,b,d)};return b}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Ra(a)))};g.c=function(b){return this.G(null,b)};g.b=function(b,a){return this.F(null,b,a)};ai.prototype[Na]=function(){return Hc(this)};
function $h(b,a,c,d,e){this.key=b;this.J=a;this.left=c;this.right=d;this.j=e;this.m=32402207;this.C=0}g=$h.prototype;g.fd=function(b){return new $h(this.key,this.J,this.left,b,null)};g.wc=function(){throw Error("red-black tree invariant violation");};g.kb=function(){return new ai(this.key,this.J,this.left,this.right,null)};g.ed=function(b){return new $h(this.key,this.J,b,this.right,null)};g.replace=function(b,a,c,d){return new $h(b,a,c,d,null)};
g.gd=function(b){return this.left instanceof $h?new $h(this.key,this.J,this.left.kb(),new ai(b.key,b.J,this.right,b.right,null),null):this.right instanceof $h?new $h(this.right.key,this.right.J,new ai(this.key,this.J,this.left,this.right.left,null),new ai(b.key,b.J,this.right.right,b.right,null),null):new ai(b.key,b.J,this,b.right,null)};
g.hd=function(b){return this.right instanceof $h?new $h(this.key,this.J,new ai(b.key,b.J,b.left,this.left,null),this.right.kb(),null):this.left instanceof $h?new $h(this.left.key,this.left.J,new ai(b.key,b.J,b.left,this.left.left,null),new ai(this.key,this.J,this.left.right,this.right,null),null):new ai(b.key,b.J,b.left,this,null)};g.Xb=function(b,a){return di(this,b,a)};g.G=function(b,a){return w.f(this,a,null)};g.F=function(b,a,c){return w.f(this,a,c)};
g.L=function(b,a){return 0===a?this.key:1===a?this.J:null};g.Aa=function(b,a,c){return 0===a?this.key:1===a?this.J:c};g.Ub=function(b,a,c){return(new U(null,2,5,V,[this.key,this.J],null)).Ub(null,a,c)};g.N=function(){return null};g.P=function(){return 2};g.mc=function(){return this.key};g.nc=function(){return this.J};g.Ib=function(){return this.J};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Jc(this)};g.w=function(b,a){return $c(this,a)};g.ea=function(){return K};
g.la=function(b,a){return Rc(this,a)};g.ma=function(b,a,c){return Sc(this,a,c)};g.T=function(b,a,c){return O.f(new U(null,2,5,V,[this.key,this.J],null),a,c)};g.M=function(){return $a($a(Fc,this.J),this.key)};g.O=function(b,a){return dd(new U(null,2,5,V,[this.key,this.J],null),a)};g.R=function(b,a){return new U(null,3,5,V,[this.key,this.J,a],null)};
g.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.G(null,b);case 3:return this.F(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.G(null,b)};b.f=function(a,b,d){return this.F(null,b,d)};return b}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Ra(a)))};g.c=function(b){return this.G(null,b)};g.b=function(b,a){return this.F(null,b,a)};$h.prototype[Na]=function(){return Hc(this)};
var ei=function ei(a,c,d,e,f){if(null==c)return new $h(d,e,null,null,null);var h;h=c.key;h=a.b?a.b(d,h):a.call(null,d,h);if(0===h)return f[0]=c,null;if(0>h)return a=ei(a,c.left,d,e,f),null!=a?c.ed(a):null;a=ei(a,c.right,d,e,f);return null!=a?c.fd(a):null},fi=function fi(a,c){if(null==a)return c;if(null==c)return a;if(a instanceof $h){if(c instanceof $h){var d=fi(a.right,c.left);return d instanceof $h?new $h(d.key,d.J,new $h(a.key,a.J,a.left,d.left,null),new $h(c.key,c.J,d.right,c.right,null),null):
new $h(a.key,a.J,a.left,new $h(c.key,c.J,d,c.right,null),null)}return new $h(a.key,a.J,a.left,fi(a.right,c),null)}if(c instanceof $h)return new $h(c.key,c.J,fi(a,c.left),c.right,null);d=fi(a.right,c.left);return d instanceof $h?new $h(d.key,d.J,new ai(a.key,a.J,a.left,d.left,null),new ai(c.key,c.J,d.right,c.right,null),null):ci(a.key,a.J,a.left,new ai(c.key,c.J,d,c.right,null))},gi=function gi(a,c,d,e){if(null!=c){var f;f=c.key;f=a.b?a.b(d,f):a.call(null,d,f);if(0===f)return e[0]=c,fi(c.left,c.right);
if(0>f)return a=gi(a,c.left,d,e),null!=a||null!=e[0]?c.left instanceof ai?ci(c.key,c.J,a,c.right):new $h(c.key,c.J,a,c.right,null):null;a=gi(a,c.right,d,e);if(null!=a||null!=e[0])if(c.right instanceof ai)if(e=c.key,d=c.J,c=c.left,a instanceof $h)c=new $h(e,d,c,a.kb(),null);else if(c instanceof ai)c=Zh(e,d,c.wc(),a);else if(c instanceof $h&&c.right instanceof ai)c=new $h(c.right.key,c.right.J,Zh(c.key,c.J,c.left.wc(),c.right.left),new ai(e,d,c.right.right,a,null),null);else throw Error("red-black tree invariant violation");
else c=new $h(c.key,c.J,c.left,a,null);else c=null;return c}return null},hi=function hi(a,c,d,e){var f=c.key,h=a.b?a.b(d,f):a.call(null,d,f);return 0===h?c.replace(f,e,c.left,c.right):0>h?c.replace(f,c.J,hi(a,c.left,d,e),c.right):c.replace(f,c.J,c.left,hi(a,c.right,d,e))};function ii(b,a,c,d,e){this.Qa=b;this.Fb=a;this.u=c;this.B=d;this.j=e;this.m=418776847;this.C=8192}g=ii.prototype;
g.forEach=function(b){for(var a=q(this),c=null,d=0,e=0;;)if(e<d){var f=c.L(null,e),h=N(f,0),f=N(f,1);b.b?b.b(f,h):b.call(null,f,h);e+=1}else if(a=q(a))P(a)?(c=z(a),a=B(a),h=c,d=M(c),c=h):(c=E(a),h=N(c,0),f=N(c,1),b.b?b.b(f,h):b.call(null,f,h),a=F(a),c=null,d=0),e=0;else return null};g.get=function(b,a){return this.F(null,b,a)};g.entries=function(){return fh(q(this))};g.toString=function(){return kc(this)};g.keys=function(){return Hc(lh.c?lh.c(this):lh.call(null,this))};
g.values=function(){return Hc(mh.c?mh.c(this):mh.call(null,this))};g.equiv=function(b){return this.w(null,b)};function ji(b,a){for(var c=b.Fb;;)if(null!=c){var d;d=c.key;d=b.Qa.b?b.Qa.b(a,d):b.Qa.call(null,a,d);if(0===d)return c;c=0>d?c.left:c.right}else return null}g.has=function(b){return Qd(this,b)};g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){b=ji(this,a);return null!=b?b.J:c};g.fc=function(b,a,c){return null!=this.Fb?di(this.Fb,a,c):c};g.N=function(){return this.B};g.P=function(){return this.u};
g.$a=function(){return 0<this.u?Yh(this.Fb,!1,this.u):null};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Lc(this)};g.w=function(b,a){return ah(this,a)};g.ea=function(){return new ii(this.Qa,null,0,this.B,0)};g.Y=function(b,a){var c=[null],d=gi(this.Qa,this.Fb,a,c);return null==d?null==rd(c,0)?this:new ii(this.Qa,null,0,this.B,null):new ii(this.Qa,d.kb(),this.u-1,this.B,null)};
g.T=function(b,a,c){b=[null];var d=ei(this.Qa,this.Fb,a,c,b);return null==d?(b=rd(b,0),G.b(c,b.J)?this:new ii(this.Qa,hi(this.Qa,this.Fb,a,c),this.u,this.B,null)):new ii(this.Qa,d.kb(),this.u+1,this.B,null)};g.Rb=function(b,a){return null!=ji(this,a)};g.M=function(){return 0<this.u?Yh(this.Fb,!0,this.u):null};g.O=function(b,a){return new ii(this.Qa,this.Fb,this.u,a,this.j)};
g.R=function(b,a){if(Gd(a))return jb(this,w.b(a,0),w.b(a,1));for(var c=this,d=q(a);;){if(null==d)return c;var e=E(d);if(Gd(e))c=jb(c,w.b(e,0),w.b(e,1)),d=F(d);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.G(null,b);case 3:return this.F(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.G(null,b)};b.f=function(a,b,d){return this.F(null,b,d)};return b}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Ra(a)))};g.c=function(b){return this.G(null,b)};g.b=function(b,a){return this.F(null,b,a)};var ki=new ii(Xd,null,0,null,Mc);ii.prototype[Na]=function(){return Hc(this)};
var Nf=function Nf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Nf.h(0<c.length?new za(c.slice(0),0):null)};Nf.h=function(b){b=q(b);for(var a=Vb(oh);;)if(b){var c=F(F(b)),a=jf.f(a,E(b),hd(b));b=c}else return Yb(a)};Nf.A=0;Nf.H=function(b){return Nf.h(q(b))};var mi=function mi(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return mi.h(0<c.length?new za(c.slice(0),0):null)};
mi.h=function(b){b=b instanceof za&&0===b.D?b.l:Ba(b);return ph(b)};mi.A=0;mi.H=function(b){return mi.h(q(b))};function ni(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;a:for(a=q(0<a.length?new za(a.slice(0),0):null),d=ki;;)if(a)c=F(F(a)),d=O.f(d,E(a),hd(a)),a=c;else break a;return d}function oi(b,a){this.ba=b;this.Ca=a;this.m=32374988;this.C=0}g=oi.prototype;g.toString=function(){return kc(this)};g.equiv=function(b){return this.w(null,b)};g.N=function(){return this.Ca};
g.va=function(){var b=(null!=this.ba?this.ba.m&128||this.ba.Ec||(this.ba.m?0:Ga(eb,this.ba)):Ga(eb,this.ba))?this.ba.va(null):F(this.ba);return null==b?null:new oi(b,this.Ca)};g.K=function(){return Jc(this)};g.w=function(b,a){return $c(this,a)};g.ea=function(){return dd(Fc,this.Ca)};g.la=function(b,a){return ed(a,this)};g.ma=function(b,a,c){return gd(a,c,this)};g.ka=function(){return this.ba.ka(null).mc(null)};
g.oa=function(){var b=(null!=this.ba?this.ba.m&128||this.ba.Ec||(this.ba.m?0:Ga(eb,this.ba)):Ga(eb,this.ba))?this.ba.va(null):F(this.ba);return null!=b?new oi(b,this.Ca):Fc};g.M=function(){return this};g.O=function(b,a){return new oi(this.ba,a)};g.R=function(b,a){return bd(a,this)};oi.prototype[Na]=function(){return Hc(this)};function lh(b){return(b=q(b))?new oi(b,null):null}function He(b){return ob(b)}function si(b,a){this.ba=b;this.Ca=a;this.m=32374988;this.C=0}g=si.prototype;g.toString=function(){return kc(this)};
g.equiv=function(b){return this.w(null,b)};g.N=function(){return this.Ca};g.va=function(){var b=(null!=this.ba?this.ba.m&128||this.ba.Ec||(this.ba.m?0:Ga(eb,this.ba)):Ga(eb,this.ba))?this.ba.va(null):F(this.ba);return null==b?null:new si(b,this.Ca)};g.K=function(){return Jc(this)};g.w=function(b,a){return $c(this,a)};g.ea=function(){return dd(Fc,this.Ca)};g.la=function(b,a){return ed(a,this)};g.ma=function(b,a,c){return gd(a,c,this)};g.ka=function(){return this.ba.ka(null).nc(null)};
g.oa=function(){var b=(null!=this.ba?this.ba.m&128||this.ba.Ec||(this.ba.m?0:Ga(eb,this.ba)):Ga(eb,this.ba))?this.ba.va(null):F(this.ba);return null!=b?new si(b,this.Ca):Fc};g.M=function(){return this};g.O=function(b,a){return new si(this.ba,a)};g.R=function(b,a){return bd(a,this)};si.prototype[Na]=function(){return Hc(this)};function mh(b){return(b=q(b))?new si(b,null):null}function Ie(b){return pb(b)}
var ti=function ti(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return ti.h(0<c.length?new za(c.slice(0),0):null)};ti.h=function(b){return r(Df(je,b))?he(function(a,b){return nd.b(r(a)?a:Ud,b)},b):null};ti.A=0;ti.H=function(b){return ti.h(q(b))};function ui(b,a){for(var c=Ud,d=q(a);;)if(d)var e=E(d),f=Ac(b,e,vi),c=sf.b(f,vi)?O.f(c,e,f):c,d=F(d);else return dd(c,wd(b))}function wi(b){this.bd=b}wi.prototype.pa=function(){return this.bd.pa()};
wi.prototype.next=function(){if(this.bd.pa())return this.bd.next().za[0];throw Error("No such element");};wi.prototype.remove=function(){return Error("Unsupported operation")};function Vd(b,a,c){this.B=b;this.Kb=a;this.j=c;this.m=15077647;this.C=8196}g=Vd.prototype;g.toString=function(){return kc(this)};g.equiv=function(b){return this.w(null,b)};g.keys=function(){return Hc(q(this))};g.entries=function(){return hh(q(this))};g.values=function(){return Hc(q(this))};g.has=function(b){return Qd(this,b)};
g.forEach=function(b){for(var a=q(this),c=null,d=0,e=0;;)if(e<d){var f=c.L(null,e),h=N(f,0),f=N(f,1);b.b?b.b(f,h):b.call(null,f,h);e+=1}else if(a=q(a))P(a)?(c=z(a),a=B(a),h=c,d=M(c),c=h):(c=E(a),h=N(c,0),f=N(c,1),b.b?b.b(f,h):b.call(null,f,h),a=F(a),c=null,d=0),e=0;else return null};g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){return hb(this.Kb,a)?a:c};g.U=function(){return new wi(ic(this.Kb))};g.N=function(){return this.B};g.P=function(){return Ua(this.Kb)};
g.K=function(){var b=this.j;return null!=b?b:this.j=b=Lc(this)};g.w=function(b,a){return Cd(a)&&M(this)===M(a)&&Cf(function(a){return function(b){return Qd(a,b)}}(this),a)};g.ec=function(){return new xi(Vb(this.Kb))};g.ea=function(){return dd(Wd,this.B)};g.Gc=function(b,a){return new Vd(this.B,mb(this.Kb,a),null)};g.M=function(){return lh(this.Kb)};g.O=function(b,a){return new Vd(a,this.Kb,this.j)};g.R=function(b,a){return new Vd(this.B,O.f(this.Kb,a,null),null)};
g.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.G(null,b);case 3:return this.F(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.G(null,b)};b.f=function(a,b,d){return this.F(null,b,d)};return b}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Ra(a)))};g.c=function(b){return this.G(null,b)};g.b=function(b,a){return this.F(null,b,a)};var Wd=new Vd(null,Ud,Mc);Vd.prototype[Na]=function(){return Hc(this)};
function xi(b){this.Eb=b;this.C=136;this.m=259}g=xi.prototype;g.Tb=function(b,a){this.Eb=jf.f(this.Eb,a,null);return this};g.gc=function(){return new Vd(null,Yb(this.Eb),null)};g.P=function(){return M(this.Eb)};g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){return gb.f(this.Eb,a,Jd)===Jd?c:a};
g.call=function(){function b(a,b,c){return gb.f(this.Eb,b,Jd)===Jd?c:b}function a(a,b){return gb.f(this.Eb,b,Jd)===Jd?null:b}var c=null,c=function(c,e,f){switch(arguments.length){case 2:return a.call(this,c,e);case 3:return b.call(this,c,e,f)}throw Error("Invalid arity: "+arguments.length);};c.b=a;c.f=b;return c}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Ra(a)))};g.c=function(b){return gb.f(this.Eb,b,Jd)===Jd?null:b};g.b=function(b,a){return gb.f(this.Eb,b,Jd)===Jd?a:b};
function yi(b,a,c){this.B=b;this.Gb=a;this.j=c;this.m=417730831;this.C=8192}g=yi.prototype;g.toString=function(){return kc(this)};g.equiv=function(b){return this.w(null,b)};g.keys=function(){return Hc(q(this))};g.entries=function(){return hh(q(this))};g.values=function(){return Hc(q(this))};g.has=function(b){return Qd(this,b)};
g.forEach=function(b){for(var a=q(this),c=null,d=0,e=0;;)if(e<d){var f=c.L(null,e),h=N(f,0),f=N(f,1);b.b?b.b(f,h):b.call(null,f,h);e+=1}else if(a=q(a))P(a)?(c=z(a),a=B(a),h=c,d=M(c),c=h):(c=E(a),h=N(c,0),f=N(c,1),b.b?b.b(f,h):b.call(null,f,h),a=F(a),c=null,d=0),e=0;else return null};g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){b=ji(this.Gb,a);return null!=b?b.key:c};g.N=function(){return this.B};g.P=function(){return M(this.Gb)};
g.$a=function(){return 0<M(this.Gb)?Xf.b(He,Rb(this.Gb)):null};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Lc(this)};g.w=function(b,a){return Cd(a)&&M(this)===M(a)&&Cf(function(a){return function(b){return Qd(a,b)}}(this),a)};g.ea=function(){return new yi(this.B,Wa(this.Gb),0)};g.Gc=function(b,a){return new yi(this.B,td.b(this.Gb,a),null)};g.M=function(){return lh(this.Gb)};g.O=function(b,a){return new yi(a,this.Gb,this.j)};g.R=function(b,a){return new yi(this.B,O.f(this.Gb,a,null),null)};
g.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.G(null,b);case 3:return this.F(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.G(null,b)};b.f=function(a,b,d){return this.F(null,b,d)};return b}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Ra(a)))};g.c=function(b){return this.G(null,b)};g.b=function(b,a){return this.F(null,b,a)};var zi=new yi(null,ki,Mc);yi.prototype[Na]=function(){return Hc(this)};
function Ai(b){b=q(b);if(null==b)return Wd;if(b instanceof za&&0===b.D){b=b.l;a:for(var a=0,c=Vb(Wd);;)if(a<b.length)var d=a+1,c=c.Tb(null,b[a]),a=d;else break a;return c.gc(null)}for(d=Vb(Wd);;)if(null!=b)a=F(b),d=d.Tb(null,b.ka(null)),b=a;else return Yb(d)}function Bi(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;return v($a,zi,0<a.length?new za(a.slice(0),0):null)}
var Ci=function Ci(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return Ci.s();case 1:return Ci.c(arguments[0]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};
Ci.s=function(){return function(b){return function(a){return function(){function c(c,d){if(Qd(H.c?H.c(a):H.call(null,a),d))return c;hc(a,nd.b(xb(a),d));return b.b?b.b(c,d):b.call(null,c,d)}function d(a){return b.c?b.c(a):b.call(null,a)}function e(){return b.s?b.s():b.call(null)}var f=null,f=function(a,b){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,a);case 2:return c.call(this,a,b)}throw Error("Invalid arity: "+arguments.length);};f.s=e;f.c=d;f.b=c;return f}()}(Sf(Wd))}};
Ci.c=function(b){return function c(b,e){return new Te(null,function(){return function(b,d){for(;;){var e=b,l=N(e,0);if(e=q(e))if(Qd(d,l))l=Ec(e),e=d,b=l,d=e;else return bd(l,c(Ec(e),nd.b(d,l)));else return null}}.call(null,b,e)},null,null)}(b,Wd)};Ci.A=1;function Di(b){for(var a=K;;)if(F(b))a=nd.b(a,E(b)),b=F(b);else return q(a)}function Se(b){if(null!=b&&(b.C&4096||b.Ld))return b.name;if("string"===typeof b)return b;throw Error([t("Doesn't support name: "),t(b)].join(""));}
function Ei(b,a){for(var c=Vb(Ud),d=q(b),e=q(a);;)if(d&&e)c=jf.f(c,E(d),E(e)),d=F(d),e=F(e);else return Yb(c)}var Fi=function Fi(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return Fi.b(arguments[0],arguments[1]);case 3:return Fi.f(arguments[0],arguments[1],arguments[2]);default:return Fi.h(arguments[0],arguments[1],arguments[2],new za(c.slice(3),0))}};Fi.b=function(b,a){return a};
Fi.f=function(b,a,c){return(b.c?b.c(a):b.call(null,a))>(b.c?b.c(c):b.call(null,c))?a:c};Fi.h=function(b,a,c,d){return v(function(a,c){return Fi.f(b,a,c)},Fi.f(b,a,c),d)};Fi.H=function(b){var a=E(b),c=F(b);b=E(c);var d=F(c),c=E(d),d=F(d);return Fi.h(a,b,c,d)};Fi.A=3;function Gi(b,a,c){return new Te(null,function(){var d=q(c);return d?bd(Zf(b,d),Gi(b,a,$f(a,d))):null},null,null)}
function Hi(b,a){return new Te(null,function(){var c=q(a);if(c){var d;d=E(c);d=b.c?b.c(d):b.call(null,d);c=r(d)?bd(E(c),Hi(b,Ec(c))):null}else c=null;return c},null,null)}function Ii(b,a,c){this.D=b;this.end=a;this.step=c}Ii.prototype.pa=function(){return 0<this.step?this.D<this.end:this.D>this.end};Ii.prototype.next=function(){var b=this.D;this.D+=this.step;return b};function Ji(b,a,c,d,e){this.B=b;this.start=a;this.end=c;this.step=d;this.j=e;this.m=32375006;this.C=8192}g=Ji.prototype;
g.toString=function(){return kc(this)};g.equiv=function(b){return this.w(null,b)};g.L=function(b,a){if(a<Ua(this))return this.start+a*this.step;if(this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};g.Aa=function(b,a,c){return a<Ua(this)?this.start+a*this.step:this.start>this.end&&0===this.step?this.start:c};g.U=function(){return new Ii(this.start,this.end,this.step)};g.N=function(){return this.B};
g.va=function(){return 0<this.step?this.start+this.step<this.end?new Ji(this.B,this.start+this.step,this.end,this.step,null):null:this.start+this.step>this.end?new Ji(this.B,this.start+this.step,this.end,this.step,null):null};g.P=function(){return Fa(Mb(this))?0:Math.ceil((this.end-this.start)/this.step)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Jc(this)};g.w=function(b,a){return $c(this,a)};g.ea=function(){return dd(Fc,this.B)};g.la=function(b,a){return Rc(this,a)};
g.ma=function(b,a,c){for(b=this.start;;)if(0<this.step?b<this.end:b>this.end){c=a.b?a.b(c,b):a.call(null,c,b);if(Qc(c))return H.c?H.c(c):H.call(null,c);b+=this.step}else return c};g.ka=function(){return null==Mb(this)?null:this.start};g.oa=function(){return null!=Mb(this)?new Ji(this.B,this.start+this.step,this.end,this.step,null):Fc};g.M=function(){return 0<this.step?this.start<this.end?this:null:0>this.step?this.start>this.end?this:null:this.start===this.end?null:this};
g.O=function(b,a){return new Ji(a,this.start,this.end,this.step,this.j)};g.R=function(b,a){return bd(a,this)};Ji.prototype[Na]=function(){return Hc(this)};var mg=function mg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return mg.s();case 1:return mg.c(arguments[0]);case 2:return mg.b(arguments[0],arguments[1]);case 3:return mg.f(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};
mg.s=function(){return mg.f(0,Number.MAX_VALUE,1)};mg.c=function(b){return mg.f(0,b,1)};mg.b=function(b,a){return mg.f(b,a,1)};mg.f=function(b,a,c){return new Ji(null,b,a,c,null)};mg.A=3;function Ki(b,a){return new U(null,2,5,V,[Hi(b,a),ag(b,a)],null)}
function Li(b,a){return new Te(null,function(){var c=q(a);if(c){var d=E(c),e=b.c?b.c(d):b.call(null,d),d=bd(d,Hi(function(a,c){return function(a){return G.b(c,b.c?b.c(a):b.call(null,a))}}(d,e,c,c),F(c)));return bd(d,Li(b,q($f(M(d),c))))}return null},null,null)}function Mi(b){a:for(var a=b;;)if(q(a))a=F(a);else break a;return b}function Ni(b,a){if("string"===typeof a){var c=b.exec(a);return G.b(E(c),a)?1===M(c)?E(c):ge(c):null}throw new TypeError("re-matches must match against a string.");}
function Oi(b,a){if("string"===typeof a){var c=b.exec(a);return null==c?null:1===M(c)?E(c):ge(c)}throw new TypeError("re-find must match against a string.");}function Pi(b){if(b instanceof RegExp)return b;var a=Oi(/^\(\?([idmsux]*)\)/,b),c=N(a,0),a=N(a,1);b=Fe.b(b,M(c));return new RegExp(b,r(a)?a:"")}
function Qi(b,a,c,d,e,f,h){var k=qa;qa=null==qa?null:qa-1;try{if(null!=qa&&0>qa)return Sb(b,"#");Sb(b,c);if(0===xa.c(f))q(h)&&Sb(b,function(){var a=Ri.c(f);return r(a)?a:"..."}());else{if(q(h)){var l=E(h);a.f?a.f(l,b,f):a.call(null,l,b,f)}for(var m=F(h),n=xa.c(f)-1;;)if(!m||null!=n&&0===n){q(m)&&0===n&&(Sb(b,d),Sb(b,function(){var a=Ri.c(f);return r(a)?a:"..."}()));break}else{Sb(b,d);var u=E(m);c=b;h=f;a.f?a.f(u,c,h):a.call(null,u,c,h);var y=F(m);c=n-1;m=y;n=c}}return Sb(b,e)}finally{qa=k}}
function Si(b,a){for(var c=q(a),d=null,e=0,f=0;;)if(f<e){var h=d.L(null,f);Sb(b,h);f+=1}else if(c=q(c))d=c,P(d)?(c=z(d),e=B(d),d=c,h=M(c),c=e,e=h):(h=E(d),Sb(b,h),c=F(d),d=null,e=0),f=0;else return null}var Ti={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function Ui(b){return[t('"'),t(b.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(a){return Ti[a]})),t('"')].join("")}
function Vi(b,a){var c=Pd(Cc(b,va));return c?(c=null!=a?a.m&131072||a.Kd?!0:!1:!1)?null!=wd(a):c:c}
function Wi(b,a,c){if(null==b)return Sb(a,"nil");if(Vi(c,b)){Sb(a,"^");var d=wd(b);Xi.f?Xi.f(d,a,c):Xi.call(null,d,a,c);Sb(a," ")}if(b.Hc)return b.Oc(b,a,c);if(null!=b&&(b.m&2147483648||b.ca))return b.I(null,a,c);if(!0===b||!1===b||"number"===typeof b)return Sb(a,""+t(b));if(null!=b&&b.constructor===Object)return Sb(a,"#js "),d=Xf.b(function(a){return new U(null,2,5,V,[Re.c(a),b[a]],null)},Hd(b)),Yi.S?Yi.S(d,Xi,a,c):Yi.call(null,d,Xi,a,c);if(Ea(b))return Qi(a,Xi,"#js ["," ","]",c,b);if("string"==
typeof b)return r(ua.c(c))?Sb(a,Ui(b)):Sb(a,b);if("function"==ba(b)){var e=b.name;c=r(function(){var a=null==e;return a?a:/^[\s\xa0]*$/.test(e)}())?"Function":e;return Si(a,J(["#object[",c,' "',""+t(b),'"]'],0))}if(b instanceof Date)return c=function(a,b){for(var c=""+t(a);;)if(M(c)<b)c=[t("0"),t(c)].join("");else return c},Si(a,J(['#inst "',""+t(b.getUTCFullYear()),"-",c(b.getUTCMonth()+1,2),"-",c(b.getUTCDate(),2),"T",c(b.getUTCHours(),2),":",c(b.getUTCMinutes(),2),":",c(b.getUTCSeconds(),2),".",
c(b.getUTCMilliseconds(),3),"-",'00:00"'],0));if(b instanceof RegExp)return Si(a,J(['#"',b.source,'"'],0));if(null!=b&&(b.m&2147483648||b.ca))return Tb(b,a,c);if(r(b.constructor.hc))return Si(a,J(["#object[",b.constructor.hc.replace(RegExp("/","g"),"."),"]"],0));e=b.constructor.name;c=r(function(){var a=null==e;return a?a:/^[\s\xa0]*$/.test(e)}())?"Object":e;return Si(a,J(["#object[",c," ",""+t(b),"]"],0))}
function Xi(b,a,c){var d=Zi.c(c);return r(d)?(c=O.f(c,$i,Wi),d.f?d.f(b,a,c):d.call(null,b,a,c)):Wi(b,a,c)}function aj(b,a){var c=new ha;a:{var d=new jc(c);Xi(E(b),d,a);for(var e=q(F(b)),f=null,h=0,k=0;;)if(k<h){var l=f.L(null,k);Sb(d," ");Xi(l,d,a);k+=1}else if(e=q(e))f=e,P(f)?(e=z(f),h=B(f),f=e,l=M(e),e=h,h=l):(l=E(f),Sb(d," "),Xi(l,d,a),e=F(f),f=null,h=0),k=0;else break a}return c}function bj(b,a){return Ad(b)?"":""+t(aj(b,a))}
function cj(b,a){if(Ad(b))return"\n";var c=aj(b,a);c.append("\n");return""+t(c)}var X=function X(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return X.h(0<c.length?new za(c.slice(0),0):null)};X.h=function(b){return bj(b,sa())};X.A=0;X.H=function(b){return X.h(q(b))};var dj=function dj(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return dj.h(0<c.length?new za(c.slice(0),0):null)};dj.h=function(b){return cj(b,sa())};
dj.A=0;dj.H=function(b){return dj.h(q(b))};var ej=function ej(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return ej.h(0<c.length?new za(c.slice(0),0):null)};ej.h=function(b){return bj(b,O.f(sa(),ua,!1))};ej.A=0;ej.H=function(b){return ej.h(q(b))};function fj(b){var a=O.f(sa(),ua,!1);b=bj(b,a);ma.c?ma.c(b):ma.call(null,b);r(pa)?(b=sa(),ma.c?ma.c("\n"):ma.call(null,"\n"),b=(Cc(b,ta),null)):b=null;return b}
var gj=function gj(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return gj.h(0<c.length?new za(c.slice(0),0):null)};gj.h=function(b){return cj(b,O.f(sa(),ua,!1))};gj.A=0;gj.H=function(b){return gj.h(q(b))};function Yi(b,a,c,d){return Qi(c,function(b,c,d){var k=ob(b);a.f?a.f(k,c,d):a.call(null,k,c,d);Sb(c," ");b=pb(b);return a.f?a.f(b,c,d):a.call(null,b,c,d)},"{",", ","}",d,q(b))}Rf.prototype.ca=!0;
Rf.prototype.I=function(b,a,c){Sb(a,"#object [cljs.core.Volatile ");Xi(new p(null,1,[hj,this.state],null),a,c);return Sb(a,"]")};za.prototype.ca=!0;za.prototype.I=function(b,a,c){return Qi(a,Xi,"("," ",")",c,this)};Te.prototype.ca=!0;Te.prototype.I=function(b,a,c){return Qi(a,Xi,"("," ",")",c,this)};Xh.prototype.ca=!0;Xh.prototype.I=function(b,a,c){return Qi(a,Xi,"("," ",")",c,this)};Lh.prototype.ca=!0;Lh.prototype.I=function(b,a,c){return Qi(a,Xi,"("," ",")",c,this)};ai.prototype.ca=!0;
ai.prototype.I=function(b,a,c){return Qi(a,Xi,"["," ","]",c,this)};jh.prototype.ca=!0;jh.prototype.I=function(b,a,c){return Qi(a,Xi,"("," ",")",c,this)};yi.prototype.ca=!0;yi.prototype.I=function(b,a,c){return Qi(a,Xi,"#{"," ","}",c,this)};Lg.prototype.ca=!0;Lg.prototype.I=function(b,a,c){return Qi(a,Xi,"("," ",")",c,this)};Oe.prototype.ca=!0;Oe.prototype.I=function(b,a,c){return Qi(a,Xi,"("," ",")",c,this)};Zc.prototype.ca=!0;Zc.prototype.I=function(b,a,c){return Qi(a,Xi,"("," ",")",c,this)};
Th.prototype.ca=!0;Th.prototype.I=function(b,a,c){return Yi(this,Xi,a,c)};Nh.prototype.ca=!0;Nh.prototype.I=function(b,a,c){return Qi(a,Xi,"("," ",")",c,this)};Rg.prototype.ca=!0;Rg.prototype.I=function(b,a,c){return Qi(a,Xi,"["," ","]",c,this)};ii.prototype.ca=!0;ii.prototype.I=function(b,a,c){return Yi(this,Xi,a,c)};Vd.prototype.ca=!0;Vd.prototype.I=function(b,a,c){return Qi(a,Xi,"#{"," ","}",c,this)};Ye.prototype.ca=!0;Ye.prototype.I=function(b,a,c){return Qi(a,Xi,"("," ",")",c,this)};
Kf.prototype.ca=!0;Kf.prototype.I=function(b,a,c){Sb(a,"#object [cljs.core.Atom ");Xi(new p(null,1,[hj,this.state],null),a,c);return Sb(a,"]")};si.prototype.ca=!0;si.prototype.I=function(b,a,c){return Qi(a,Xi,"("," ",")",c,this)};$h.prototype.ca=!0;$h.prototype.I=function(b,a,c){return Qi(a,Xi,"["," ","]",c,this)};U.prototype.ca=!0;U.prototype.I=function(b,a,c){return Qi(a,Xi,"["," ","]",c,this)};Wg.prototype.ca=!0;Wg.prototype.I=function(b,a,c){return Qi(a,Xi,"("," ",")",c,this)};
Le.prototype.ca=!0;Le.prototype.I=function(b,a){return Sb(a,"()")};Xg.prototype.ca=!0;Xg.prototype.I=function(b,a,c){return Qi(a,Xi,"#queue ["," ","]",c,q(this))};p.prototype.ca=!0;p.prototype.I=function(b,a,c){return Yi(this,Xi,a,c)};Ji.prototype.ca=!0;Ji.prototype.I=function(b,a,c){return Qi(a,Xi,"("," ",")",c,this)};oi.prototype.ca=!0;oi.prototype.I=function(b,a,c){return Qi(a,Xi,"("," ",")",c,this)};Je.prototype.ca=!0;Je.prototype.I=function(b,a,c){return Qi(a,Xi,"("," ",")",c,this)};
C.prototype.lc=!0;C.prototype.Sb=function(b,a){if(a instanceof C)return zc(this,a);throw Error([t("Cannot compare "),t(this),t(" to "),t(a)].join(""));};R.prototype.lc=!0;R.prototype.Sb=function(b,a){if(a instanceof R)return Pe(this,a);throw Error([t("Cannot compare "),t(this),t(" to "),t(a)].join(""));};Rg.prototype.lc=!0;Rg.prototype.Sb=function(b,a){if(Gd(a))return Zd(this,a);throw Error([t("Cannot compare "),t(this),t(" to "),t(a)].join(""));};U.prototype.lc=!0;
U.prototype.Sb=function(b,a){if(Gd(a))return Zd(this,a);throw Error([t("Cannot compare "),t(this),t(" to "),t(a)].join(""));};function ij(b){return function(a,c){var d=b.b?b.b(a,c):b.call(null,a,c);return Qc(d)?Pc(d):d}}
function jj(b){return function(a){return function(){function c(b,c){return v(a,b,c)}function d(a){return b.c?b.c(a):b.call(null,a)}function e(){return b.s?b.s():b.call(null)}var f=null,f=function(a,b){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,a);case 2:return c.call(this,a,b)}throw Error("Invalid arity: "+arguments.length);};f.s=e;f.c=d;f.b=c;return f}()}(ij(b))}function kj(){}
var lj=function lj(a){if(null!=a&&null!=a.Gd)return a.Gd(a);var c=lj[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=lj._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ja("IEncodeJS.-clj-\x3ejs",a);};function mj(b){return(null!=b?b.Fd||(b.ab?0:Ga(kj,b)):Ga(kj,b))?lj(b):"string"===typeof b||"number"===typeof b||b instanceof R||b instanceof C?nj.c?nj.c(b):nj.call(null,b):X.h(J([b],0))}
var nj=function nj(a){if(null==a)return null;if(null!=a?a.Fd||(a.ab?0:Ga(kj,a)):Ga(kj,a))return lj(a);if(a instanceof R)return Se(a);if(a instanceof C)return""+t(a);if(Ed(a)){var c={};a=q(a);for(var d=null,e=0,f=0;;)if(f<e){var h=d.L(null,f),k=N(h,0),h=N(h,1);c[mj(k)]=nj(h);f+=1}else if(a=q(a))P(a)?(e=z(a),a=B(a),d=e,e=M(e)):(e=E(a),d=N(e,0),e=N(e,1),c[mj(d)]=nj(e),a=F(a),d=null,e=0),f=0;else break;return c}if(Bd(a)){c=[];a=q(Xf.b(nj,a));d=null;for(f=e=0;;)if(f<e)k=d.L(null,f),c.push(k),f+=1;else if(a=
q(a))d=a,P(d)?(a=z(d),f=B(d),d=a,e=M(a),a=f):(a=E(d),c.push(a),a=F(d),d=null,e=0),f=0;else break;return c}return a};function oj(){}var pj=function pj(a,c){if(null!=a&&null!=a.Ed)return a.Ed(a,c);var d=pj[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=pj._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ja("IEncodeClojure.-js-\x3eclj",a);};
function qj(b){var a=J([new p(null,1,[rj,!1],null)],0),c=null!=a&&(a.m&64||a.Ia)?lf(Nf,a):a,d=Cc(c,rj);return function(b,c,d,k){return function m(n){return(null!=n?n.he||(n.ab?0:Ga(oj,n)):Ga(oj,n))?pj(n,lf(mi,a)):Ld(n)?Mi(Xf.b(m,n)):Bd(n)?W.b(od(n),Xf.b(m,n)):Ea(n)?ge(Xf.b(m,n)):Ia(n)===Object?W.b(Ud,function(){return function(a,b,c,d){return function L(e){return new Te(null,function(a,b,c,d){return function(){for(;;){var a=q(e);if(a){if(P(a)){var b=z(a),c=M(b),f=Xe(c);a:for(var h=0;;)if(h<c){var k=
w.b(b,h),k=new U(null,2,5,V,[d.c?d.c(k):d.call(null,k),m(n[k])],null);f.add(k);h+=1}else{b=!0;break a}return b?Ze(bf(f),L(B(a))):Ze(bf(f),null)}f=E(a);return bd(new U(null,2,5,V,[d.c?d.c(f):d.call(null,f),m(n[f])],null),L(Ec(a)))}return null}}}(a,b,c,d),null,null)}}(b,c,d,k)(Hd(n))}()):n}}(a,c,d,r(d)?Re:t)(b)}
var sj=function sj(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return sj.s();case 1:return sj.c(arguments[0]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};sj.s=function(){return sj.c(1)};sj.c=function(b){return Math.random()*b};sj.A=1;function tj(b){return Math.floor(Math.random()*b)}function uj(b){return rd(b,tj(M(b)))}
function vj(b,a){return gf(v(function(a,d){var e=b.c?b.c(d):b.call(null,d);return jf.f(a,e,nd.b(Ac(a,e,K),d))},Vb(Ud),a))}function wj(b,a){this.ac=b;this.j=a;this.m=2153775104;this.C=2048}g=wj.prototype;g.toString=function(){return this.ac};g.equiv=function(b){return this.w(null,b)};g.w=function(b,a){return a instanceof wj&&this.ac===a.ac};g.I=function(b,a){return Sb(a,[t('#uuid "'),t(this.ac),t('"')].join(""))};g.K=function(){null==this.j&&(this.j=wc(this.ac));return this.j};
g.Sb=function(b,a){return ja(this.ac,a.ac)};function xj(b,a,c){var d=Error(b);this.message=b;this.data=a;this.kd=c;this.name=d.name;this.description=d.description;this.ae=d.ae;this.fileName=d.fileName;this.lineNumber=d.lineNumber;this.columnNumber=d.columnNumber;this.stack=d.stack;return this}xj.prototype.__proto__=Error.prototype;xj.prototype.ca=!0;
xj.prototype.I=function(b,a,c){Sb(a,"#error {:message ");Xi(this.message,a,c);r(this.data)&&(Sb(a,", :data "),Xi(this.data,a,c));r(this.kd)&&(Sb(a,", :cause "),Xi(this.kd,a,c));return Sb(a,"}")};xj.prototype.toString=function(){return kc(this)};function yj(b,a){return new xj(b,a,null)};var zj=new R("transact","unique","transact/unique",-940992320),Aj=new C(null,"res","res",245523648,null),Bj=new R(null,"used-args","used-args",23596256),Cj=new R(null,"args","args",1315556576),Dj=new R("parser","in","parser/in",1617442048),Ej=new R(null,"find","find",496279456),Fj=new C(null,"subs","subs",1453849536,null),Gj=new C(null,"set","set",1945134081,null),Hj=new C(null,"tx-meta","tx-meta",-1495152575,null),Ij=new R(null,"tempids","tempids",1767509089),Jj=new R(null,"schema","schema",-1582001791),
Kj=new C(null,"get-else","get-else",1312024065,null),Lj=new R(null,"female","female",1810186049),Mj=new C(null,"println-str","println-str",-2049216703,null),Nj=new R(null,"tuples","tuples",-676032639),Oj=new R("parser","find","parser/find",-801023103),Pj=new C(null,"?a","?a",1314302913,null),Qj=new R(null,"attribute","attribute",-2074029119),Rj=new C(null,"aggregate","aggregate",-1142967327,null),Sj=new R(null,"min","min",444991522),Tj=new R("transact","cas","transact/cas",816687170),Uj=new R("lookup-ref",
"unique","lookup-ref/unique",-960647710),Vj=new R(null,"expand-kvps","expand-kvps",44141154),Wj=new R("db.unique","identity","db.unique/identity",1675950722),Yj=new C(null,"pull","pull",779986722,null),Zj=new R(null,"last-name","last-name",-1695738974),ak=new R(null,"*","*",-1294732318),bk=new R("db","index","db/index",-1531680669),ck=new R("datascript.pull-api","expand-rev","datascript.pull-api/expand-rev",2143627459),dk=new C(null,"\x3d","\x3d",-1501502141,null),ek=new R(null,"max-tx","max-tx",
1119558339),fk=new C(null,"rand-int","rand-int",-495012157,null),gk=new C(null,"dec","dec",-766002333,null),hk=new C(null,"future-call","future-call",96010083,null),ik=new R(null,"multi?","multi?",-749311069),jk=new R(null,"where","where",-2044795965),kk=new R(null,"v","v",21465059),lk=new R(null,"fn","fn",-1175266204),mk=new C(null,"\x3c","\x3c",993667236,null),nk=new R("db","unique","db/unique",329396388),ok=new R(null,"wildcard","wildcard",-622473020),pk=new R(null,"hash","hash",-13781596),qk=
new R(null,"done","done",-889844188),va=new R(null,"meta","meta",1499536964),rk=new R(null,"variable","variable",-281346492),sk=new R(null,"age","age",-604307804),tk=new C(null,"re-seq","re-seq",-2105554076,null),uk=new R(null,"sex","sex",-2056008571),vk=new C(null,"some?","some?",234752293,null),wa=new R(null,"dup","dup",556298533),wk=new R(null,"aevt","aevt",-585148059),xk=new R(null,"pred","pred",1927423397),yk=new R(null,"rattr","rattr",-1122345563),zk=new C(null,"range","range",-1014743483,null),
Bk=new R(null,"key","key",-1516042587),Ck=new R(null,"element","element",1974019749),Dk=new R(null,"limit","limit",-1355822363),Ek=new C(null,"sum","sum",1777518341,null),Fk=new R("parser","where","parser/where",-966053850),Gk=new R(null,"datom","datom",-371556090),Hk=new R(null,"private","private",-558947994),Ik=new C(null,"conn","conn",1918841190,null),Jk=new R(null,"male","male",-560253338),Kk=new C(null,"pos?","pos?",-244377722,null),Lk=new R(null,"db-after","db-after",-571884666),Mk=new R("parser",
"rule-vars","parser/rule-vars",-1493174969),Nk=new C(null,"neg?","neg?",-1902175577,null),Of=new R(null,"validator","validator",-1966190681),Ok=new R(null,"fragment","fragment",826775688),Pk=new R(null,"raw","raw",1604651272),Qk=new R(null,"default","default",-1987822328),Rk=new R(null,"rule-vars","rule-vars",1665972520),Sk=new R(null,"free","free",801364328),Tk=new R(null,"added","added",2057651688),Uk=new R(null,"new","new",-2085437848),Vk=new R(null,"other","other",995793544),Wk=new R(null,"bindings",
"bindings",1271397192),Xk=new R("db","valueType","db/valueType",1827971944),Yk=new R(null,"symbol","symbol",-1038572696),Zk=new R(null,"avet","avet",1383857032),$k=new R(null,"sources","sources",-321166424),al=new R(null,"name","name",1843675177),bl=new C(null,"\x3c\x3d","\x3c\x3d",1244895369,null),cl=new R("query","binding","query/binding",698240489),dl=new C(null,"*","*",345799209,null),el=new C(null,"min","min",2085523049,null),fl=new R("db.type","ref","db.type/ref",-1728373079),gl=new C(null,
"prn-str","prn-str",-145225943,null),hl=new R(null,"value","value",305978217),Bf=new C(null,"meta19819","meta19819",-1753250935,null),il=new R(null,"prefix-context","prefix-context",-1269613591),jl=new R("datascript.pull-api","recursion","datascript.pull-api/recursion",-1897884534),kl=new R(null,"expand-rev","expand-rev",1249112650),ll=new R(null,"operation","operation",-1267664310),ml=new C(null,"get-some","get-some",409442058,null),nl=new C(null,"identity","identity",-1007039734,null),ol=new R(null,
"max-eid","max-eid",2134868075),pl=new C(null,"meta","meta",-1154898805,null),ql=new R(null,"follows","follows",-757192277),rl=new C(null,"empty?","empty?",76408555,null),sl=new C(null,"quot","quot",-1125214196,null),hj=new R(null,"val","val",128701612),tl=new C(null,"stddev","stddev",775056588,null),ul=new C(null,"not\x3d","not\x3d",1466536204,null),vl=new C(null,"limit","limit",284709164,null),wl=new R(null,"eids","eids",1546550700),xl=new C(null,"realized","realized",1487343404,null),yl=new C(null,
"or-join","or-join",591375469,null),zl=new C(null,"ground","ground",-1460862835,null),Al=new R(null,"state","state",-1988618099),Bl=new C(null,"rand","rand",-1745930995,null),Cl=new R(null,"entity-id","entity-id",1485898093),Dl=new C(null,"\x3e","\x3e",1085014381,null),$i=new R(null,"fallback-impl","fallback-impl",-1501286995),El=new R(null,"op","op",-1882987955),Fl=new R(null,"source","source",-433931539),Gl=new R("transaction","filtered","transaction/filtered",1699706605),ta=new R(null,"flush-on-newline",
"flush-on-newline",-151457939),Hl=new C(null,"db","db",-1661185010,null),Il=new R("db","isComponent","db/isComponent",423352398),Jl=new C(null,"even?","even?",-1827825394,null),Kl=new C(null,"_","_",-1201019570,null),Ll=new R("db.fn","call","db.fn/call",-151594418),Ml=new R("transact","upsert","transact/upsert",412688078),Nl=new R(null,"e","e",1381269198),Ol=new R(null,"rules","rules",1198912366),Pl=new C(null,"%","%",-950237169,null),Ql=new C(null,"pr-str","pr-str",-2066912145,null),Rl=new R(null,
"elements","elements",657646735),Sl=new R(null,"size","size",1098693007),Tl=new C(null,"mod","mod",1510044207,null),Ul=new R(null,"eavt","eavt",-666437073),Vl=new R("db.fn","retractEntity","db.fn/retractEntity",-1423535441),Wl=new C(null,"?min_s","?min_s",1223024431,null),Xl=new C(null,"default","default",-347290801,null),Yl=new R(null,"batch","batch",-662921200),Zl=new C("datascript","Datom","datascript/Datom",-901340080,null),$l=new R("db.unique","value","db.unique/value",276903088),am=new C(null,
"-","-",-471816912,null),bm=new C(null,"or","or",1876275696,null),cm=new R(null,"ts","ts",1617209904),dm=new C(null,"name","name",-810760592,null),em=new R(null,"db-before","db-before",-553691536),ua=new R(null,"readably","readably",1129599760),Ri=new R(null,"more-marker","more-marker",-14717935),fm=new R(null,"tx-data","tx-data",934159761),gm=new R(null,"rels","rels",1770187185),hm=new R("db","retract","db/retract",-1549825231),im=new C(null,"zero?","zero?",325758897,null),jm=new R(null,"binding",
"binding",539932593),km=new C(null,"?s","?s",456183954,null),lm=new C(null,"rem","rem",664046770,null),mm=new R(null,"tx","tx",466630418),nm=new C(null,"nil?","nil?",1612038930,null),om=new R(null,"porrl","porrl",-1693905102),pm=new C(null,"variance","variance",-1522424942,null),qm=new C(null,"meta23981","meta23981",1614521298,null),rm=new C(null,"follows","follows",883339250,null),sm=new R("parser","with","parser/with",-386255821),tm=new R(null,"recursion","recursion",-749738765),um=new R(null,"seen",
"seen",-518999789),vm=new R(null,"var","var",-769682797),zm=new C(null,"re-find","re-find",1143444147,null),Am=new C(null,"not","not",1044554643,null),Bm=new R(null,"median","median",569566131),Cm=new R("db.part","tx","db.part/tx",-1480923213),Dm=new C(null,"type","type",-1480165421,null),Pm=new C(null,"identical?","identical?",-745864205,null),Qm=new C(null,"$","$",-1580747756,null),Rm=new R(null,"with","with",-1536296876),Sm=new R(null,"pending-guards","pending-guards",-1255527308),Tm=new R("db",
"current-tx","db/current-tx",1600722132),xa=new R(null,"print-length","print-length",1931866356),Um=new R(null,"max","max",61366548),Vm=new C(null,"not-join","not-join",-645515756,null),Wm=new R("db.fn","retractAttribute","db.fn/retractAttribute",937402164),Xm=new R("lookup-ref","syntax","lookup-ref/syntax",-317304012),Ym=new R("db.fn","cas","db.fn/cas",-379352172),Zm=new R("entity-id","syntax","entity-id/syntax",1921317045),$m=new C(null,"resolve-datom","resolve-datom",-294110827,null),an=new C(null,
"true?","true?",-1600332395,null),bn=new R(null,"specs","specs",1426570741),cn=new R("db","cardinality","db/cardinality",-104975659),dn=new R(null,"expected","expected",1583670997),en=new C(null,"/","/",-1371932971,null),fn=new C(null,"vector","vector",-751469611,null),gn=new C(null,"\x3e\x3d","\x3e\x3d",1016916022,null),hn=new C(null,"not-empty","not-empty",2029453590,null),jn=new C(null,"distinct","distinct",-148347594,null),kn=new C(null,"?x","?x",-555096650,null),ln=new R("db","id","db/id",-1388397098),
mn=new R("entity-id","missing","entity-id/missing",1234588374),nn=new C(null,"meta24003","meta24003",789990711,null),on=new R(null,"attrs","attrs",-2090668713),pn=new R(null,"context","context",-830191113),qn=new R("datascript.impl.entity","nf","datascript.impl.entity/nf",-953741353),rn=new R(null,"subpattern","subpattern",45002743),sn=new C(null,"sample","sample",1719555128,null),tn=new C("datascript","DB","datascript/DB",-487332776,null),un=new C(null,"?l","?l",550795544,null),vn=new R(null,"error",
"error",-978969032),wn=new R(null,"depth","depth",1768663640),xn=new C(null,"re-matches","re-matches",-1865705768,null),yn=new C(null,"array-map","array-map",1555038968,null),zn=new R("parser","binding","parser/binding",-346395752),An=new C(null,"tx-data","tx-data",-1720276008,null),Bn=new R("schema","validation","schema/validation",1178447161),Cn=new R("db","add","db/add",235286841),Dn=new R(null,"clauses","clauses",1454841241),En=new C(null,"odd?","odd?",-1458588199,null),Fn=new R(null,"form","form",
-1624062471),Gn=new C(null,"?y","?y",-1454470631,null),Hn=new R(null,"tag","tag",-1290361223),In=new R(null,"unfiltered-db","unfiltered-db",-1363720391),Jn=new C(null,"inc","inc",324505433,null),Kn=new R(null,"target","target",253001721),Ln=new C(null,".",".",1975675962,null),Mn=new R(null,"eid","eid",559519930),Nn=new C(null,"list","list",-1889078086,null),On=new C(null,"+","+",-740910886,null),Pn=new C(null,"missing?","missing?",-1710383910,null),Qn=new R(null,"rschema","rschema",-1196134054),Af=
new C(null,"quote","quote",1377916282,null),Rn=new R(null,"tx-meta","tx-meta",1159283194),Sn=new C(null,"median","median",-2084869638,null),Tn=new R("db.cardinality","many","db.cardinality/many",772806234),Un=new R("transact","syntax","transact/syntax",-299207078),Vn=new C(null,"str","str",-1564826950,null),Wn=new C(null,"hash-map","hash-map",-439030950,null),zf=new R(null,"arglists","arglists",1661989754),Xn=new R(null,"wildcard?","wildcard?",-686044101),vf=new C(null,"nil-iter","nil-iter",1101030523,
null),Yn=new C(null,"false?","false?",-1522377573,null),Zi=new R(null,"alt-impl","alt-impl",670969595),Zn=new C(null,"max","max",1701898075,null),$n=new R("query","where","query/where",-1935159429),ao=new C(null,"...","...",-1926939749,null),bo=new C(null,"!\x3d","!\x3d",-201205829,null),co=new C(null,"\x3d\x3d","\x3d\x3d",-234118149,null),eo=new R("parser","pull","parser/pull",-2147427204),fo=new C(null,"count","count",-514511684,null),go=new R(null,"entity","entity",-450970276),ho=new R(null,"prefix-clauses",
"prefix-clauses",1294180028),rj=new R(null,"keywordize-keys","keywordize-keys",1310784252),io=new C(null,"deref","deref",1494944732,null),jo=new R(null,"expand","expand",595248157),ko=new C(null,"-differ?","-differ?",1465687357,null),lo=new R(null,"listeners","listeners",394544445),mo=new R(null,"map","map",1371690461),no=new C(null,"compare","compare",1109853757,null),oo=new R(null,"conflict","conflict",1978796605),po=new C(null,"complement","complement",-913606051,null),qo=new R(null,"kvps","kvps",
65308317),ro=new C(null,"?t","?t",1786819229,null),so=new R(null,"test","test",577538877),to=new C(null,"?e","?e",-1194391683,null),uo=new C(null,"count-distinct","count-distinct",-1566572514,null),vo=new R("db.cardinality","one","db.cardinality/one",1428352190),wo=new R(null,"required","required",1807647006),xo=new C(null,"-index-range","-index-range",898114142,null),yo=new C(null,"and","and",668631710,null),zo=new R(null,"a","a",-2123407586),Ao=new C(null,"print-str","print-str",-699700354,null),
Bo=new R(null,"datoms","datoms",-290874434),Co=new R(null,"assertion","assertion",-1645134882),Do=new R(null,"old","old",-1825222690),Eo=new C(null,"avg","avg",1837937727,null),Fo=new R(null,"in","in",-1531184865),Go=new R(null,"vars","vars",-2046957217),Ho=new R(null,"pattern","pattern",242135423),vi=new R("cljs.core","not-found","cljs.core/not-found",-1572889185),Io=new R(null,"salary","salary",1283904063),Jo=new C(null,"?e2","?e2",-1790911809,null),Ko=new C(null,"f","f",43394975,null),Lo=new R("parser",
"query","parser/query",1877320671),Mo=new R(null,"attr","attr",-604132353),No=new R(null,"results","results",-1134170113);function Oo(b,a){var c=of(Fi,b,a);return bd(c,ig(function(a){return function(b){return a===b}}(c),a))}function Po(b,a){return M(b)<M(a)?v(nd,a,b):v(nd,b,a)}var Qo=function Qo(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return Qo.c(arguments[0]);case 2:return Qo.b(arguments[0],arguments[1]);default:return Qo.h(arguments[0],arguments[1],new za(c.slice(2),0))}};Qo.c=function(b){return b};
Qo.b=function(b,a){for(;;)if(M(a)<M(b)){var c=b;b=a;a=c}else return v(function(a,b){return function(a,c){return Qd(b,c)?a:zd.b(a,c)}}(b,a),b,b)};Qo.h=function(b,a,c){b=Oo(function(a){return-M(a)},nd.h(c,a,J([b],0)));return v(Qo,E(b),Ec(b))};Qo.H=function(b){var a=E(b),c=F(b);b=E(c);c=F(c);return Qo.h(a,b,c)};Qo.A=2;
var Ro=function Ro(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return Ro.c(arguments[0]);case 2:return Ro.b(arguments[0],arguments[1]);default:return Ro.h(arguments[0],arguments[1],new za(c.slice(2),0))}};Ro.c=function(b){return b};Ro.b=function(b,a){return M(b)<M(a)?v(function(b,d){return Qd(a,d)?zd.b(b,d):b},b,b):v(zd,b,a)};Ro.h=function(b,a,c){return v(Ro,b,nd.b(c,a))};
Ro.H=function(b){var a=E(b),c=F(b);b=E(c);c=F(c);return Ro.h(a,b,c)};Ro.A=2;var So=E(hg(function(b){return 0!=(32&1<<b)},mg.f(31,-1,-1)))+1,To=(1<<So)-1;function Uo(b,a,c,d){for(var e=0,f=we(c);;)if(e<=f){c=e+f>>>1;var h=a[c];0>(b.b?b.b(h,d):b.call(null,h,d))?e=c+1:f=c-1}else return e}function Vo(b,a,c,d){for(var e=0,f=we(c);;)if(e<=f){c=e+f>>>1;var h=a[c];0<(b.b?b.b(h,d):b.call(null,h,d))?f=c-1:e=c+1}else return e}function Wo(b,a,c){var d=a.length,e=Uo(b,a,d-1,c);if(d=e<d)a=a[e],d=0===(b.b?b.b(a,c):b.call(null,a,c));return d?e:-1}
function Xo(b,a,c){var d=a.length;b=Uo(b,a,d-1,c);return b===d?-1:b}function Yo(b){return b[b.length-1]}function Zo(b,a,c,d,e,f){var h=f.length,k=d-a,l=k+h,m;m=k+h+(c-e);m=Qa?Array(m):Oa.call(null,m);d-=a;for(var n=0;;)if(n<d)m[n+0]=b[n+a],n+=1;else break;a=h-0;for(h=0;;)if(h<a)m[h+k]=f[h+0],h+=1;else break;c-=e;for(f=0;;)if(f<c)m[f+l]=b[f+e],f+=1;else break;return m}function $o(b,a,c,d){return Zo(b,0,b.length,a,c,d)}
function ap(b,a){var c=b.length,d=a.length,e=c+d,f=e>>>1,h=e-f,e=Qa?Array(f):Oa.call(null,f),h=Qa?Array(h):Oa.call(null,h);if(c<=f){for(var k=c-0,l=0;;)if(l<k)e[l+0]=b[l+0],l+=1;else break;k=f-c-0;for(l=0;;)if(l<k)e[l+c]=a[l+0],l+=1;else break;d-=f-c;for(k=0;;)if(k<d)h[k+0]=a[k+(f-c)],k+=1;else break}else{k=f-0;for(l=0;;)if(l<k)e[l+0]=b[l+0],l+=1;else break;k=c-f;for(l=0;;)if(l<k)h[l+0]=b[l+f],l+=1;else break;d-=0;for(k=0;;)if(k<d)h[k+(c-f)]=a[k+0],k+=1;else break}return[e,h]}
function bp(b,a,c,d,e,f){d-=c;if(f=d===f-0)for(f=0;;){if(f===d)return!0;var h=a[f+c],k=e[f+0];if(0!==(b.b?b.b(h,k):b.call(null,h,k)))return!1;f+=1}else return f}function cp(b,a){for(var c=a.length,d=0;;)if(d<c){var e=d,f;f=a[d];f=b.c?b.c(f):b.call(null,f);a[e]=f;d+=1}else break;return a}function dp(b){var a=b.length,c=Vb(K);if(0<a)for(var d=0;;){var e=a-d;if(32>=e){hf.b(c,b.slice(d));break}else 40<=e?(hf.b(c,b.slice(d,d+24)),d+=24):(e>>>=1,hf.b(c,b.slice(d,d+e)),d+=e)}return be(Yb(c))}
function ep(b,a){return r(b)?r(a)?[b,a]:[b]:[a]}function fp(b,a,c){return r(b)?r(a)?r(c)?[b,a,c]:[b,a]:r(c)?[b,c]:[b]:r(a)?r(c)?[a,c]:[a]:[c]}
var gp=function gp(a){if(null!=a&&null!=a.Rc)return a.Rc(a);var c=gp[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=gp._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ja("INode.node-lim-key",a);},hp=function hp(a){if(null!=a&&null!=a.ud)return a.keys.length;var c=hp[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=hp._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ja("INode.node-len",a);},ip=function ip(a,c){if(null!=a&&null!=a.Tc)return a.Tc(a,c);var d=
ip[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=ip._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ja("INode.node-merge",a);},jp=function jp(a,c){if(null!=a&&null!=a.Uc)return a.Uc(a,c);var d=jp[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=jp._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ja("INode.node-merge-n-split",a);},kp=function kp(a,c,d){if(null!=a&&null!=a.Sc)return a.Sc(a,c,d);var e=kp[ba(null==a?null:a)];if(null!=e)return e.f?
e.f(a,c,d):e.call(null,a,c,d);e=kp._;if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw Ja("INode.node-lookup",a);},lp=function lp(a,c,d){if(null!=a&&null!=a.Pc)return a.Pc(a,c,d);var e=lp[ba(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);e=lp._;if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw Ja("INode.node-conj",a);},mp=function mp(a,c,d,e,f,h){if(null!=a&&null!=a.Qc)return a.Qc(a,c,d,e,f,h);var k=mp[ba(null==a?null:a)];if(null!=k)return k.sa?k.sa(a,c,d,e,f,
h):k.call(null,a,c,d,e,f,h);k=mp._;if(null!=k)return k.sa?k.sa(a,c,d,e,f,h):k.call(null,a,c,d,e,f,h);throw Ja("INode.node-disj",a);};function np(b,a,c,d){if(r(a))return[b];if(16<hp(b))return fp(c,b,d);if(r(r(c)?16>=hp(c):c))return ep(ip(c,b),d);if(r(r(d)?16>=hp(d):d))return ep(c,ip(b,d));if(r(r(c)?null==d||hp(c)<hp(d):c))return b=jp(c,b),fp(b[0],b[1],d);b=jp(b,d);return fp(c,b[0],b[1])}function op(b,a){this.keys=b;this.na=a}g=op.prototype;g.Rc=function(){return Yo(this.keys)};g.ud=function(){return this.keys.length};
g.Tc=function(b,a){return new op(this.keys.concat(a.keys),this.na.concat(a.na))};g.Uc=function(b,a){var c=ap(this.keys,a.keys),d=ap(this.na,a.na);return ep(new op(c[0],d[0]),new op(c[1],d[1]))};g.Sc=function(b,a,c){b=Xo(a,this.keys,c);return-1===b?null:kp(this.na[b],a,c)};
g.Pc=function(b,a,c){b=Uo(a,this.keys,this.keys.length-2,c);c=lp(this.na[b],a,c);if(r(c)){var d=this.keys,e=b+1,f=c.map(gp);a=bp(a,d,b,e,f,f.length)?d:$o(d,b,e,f);b=$o(this.na,b,b+1,c);if(32>=b.length)return[new op(a,b)];c=b.length>>>1;return[new op(a.slice(0,c),b.slice(0,c)),new op(a.slice(c),b.slice(c))]}return null};
g.Qc=function(b,a,c,d,e,f){var h=Xo(a,this.keys,c);if(-1===h)return null;b=0<=h-1?this.na[h-1]:null;var k=h+1<this.na.length?this.na[h+1]:null;c=mp(this.na[h],a,c,!1,b,k);if(r(c)){b=r(b)?h-1:h;var h=r(k)?2+h:1+h,k=this.keys,l=c.map(gp);a=bp(a,k,b,h,l,l.length)?k:$o(k,b,h,l);c=$o(this.na,b,h,c);return np(new op(a,c),d,e,f)}return null};function pp(b){this.keys=b}g=pp.prototype;g.Rc=function(){return Yo(this.keys)};g.ud=function(){return this.keys.length};g.Tc=function(b,a){return new pp(this.keys.concat(a.keys))};
g.Uc=function(b,a){var c=ap(this.keys,a.keys);return ep(new pp(c[0]),new pp(c[1]))};g.Sc=function(b,a,c){b=Wo(a,this.keys,c);return-1===b?null:this.keys[b]};g.Pc=function(b,a,c){b=Uo(a,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=b<d)e=this.keys[b],e=0===(a.b?a.b(c,e):a.call(null,c,e));return e?null:32===d?(a=d+1>>>1,b>a?[new pp(this.keys.slice(0,a)),new pp(Zo(this.keys,a,d,b,b,[c]))]:[new pp(Zo(this.keys,0,a,b,b,[c])),new pp(this.keys.slice(a,d))]):[new pp($o(this.keys,b,b,[c]))]};
g.Qc=function(b,a,c,d,e,f){b=Wo(a,this.keys,c);if(-1===b)return null;b=$o(this.keys,b,b+1,[]);return np(new pp(b),d,e,f)};function qp(b,a,c,d,e,f){this.root=b;this.shift=a;this.u=c;this.La=d;this.B=e;this.j=f;this.m=2297303311;this.C=8192}g=qp.prototype;g.toString=function(){return kc(this)};g.G=function(b,a){return kp(this.root,this.La,a)};g.F=function(b,a,c){b=kp(this.root,this.La,a);return r(b)?b:c};g.I=function(b,a,c){return Qi(a,Xi,"#{"," ","}",c,q(this))};g.N=function(){return this.B};g.P=function(){return this.u};
g.$a=function(){var b=rp.c?rp.c(this):rp.call(null,this);return Rb(b)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Lc(this)};g.w=function(b,a){return Cd(a)&&this.u===M(a)&&Cf(function(a){return function(b){return Qd(a,b)}}(this),a)};g.ea=function(){return new qp(new pp([]),0,0,this.La,this.B,null)};g.Gc=function(b,a){return sp.f?sp.f(this,a,this.La):sp.call(null,this,a,this.La)};g.la=function(b,a){var c=rp.c?rp.c(this):rp.call(null,this);return r(c)?Fb.b(c,a):a.s?a.s():a.call(null)};
g.ma=function(b,a,c){b=rp.c?rp.c(this):rp.call(null,this);return r(b)?Fb.f(b,a,c):c};g.M=function(){return rp.c?rp.c(this):rp.call(null,this)};g.O=function(b,a){return new qp(this.root,this.shift,this.u,this.La,a,this.j)};g.R=function(b,a){return tp.f?tp.f(this,a,this.La):tp.call(null,this,a,this.La)};
g.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.G(null,b);case 3:return this.F(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.G(null,b)};b.f=function(a,b,d){return this.F(null,b,d)};return b}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Ra(a)))};g.c=function(b){return this.G(null,b)};g.b=function(b,a){return this.F(null,b,a)};function up(b,a,c,d){return new qp(a,c,d,b.La,b.B,null)}
function vp(b,a){for(var c=b.shift,d=b.root;;)if(0<c)d=d.na[To&a>>>c],c-=So;else return d.keys}function tp(b,a,c){a=lp(b.root,c,a);return null==a?b:1===a.length?up(b,a[0],b.shift,b.u+1):up(b,new op(a.map(gp),a),b.shift+So,b.u+1)}function sp(b,a,c){a=mp(b.root,c,a,!0,null,null);if(null==a)return b;a=a[0];return a instanceof op&&1===a.na.length?up(b,a.na[0],b.shift-So,b.u-1):up(b,a,b.shift,b.u-1)}
var wp=function wp(a,c,d){var e=To&c>>>d;return 0<d?(c=wp(a.na[e],c,d-So),-1===c?e+1<a.na.length?0|e+1<<d:-1:c|e<<d):e+1<a.keys.length?0|e+1<<0:-1};function xp(b,a){for(var c=b,d=0,e=a;;)if(0<e)d|=c.na.length-1<<e,e-=So,c=Yo(c.na);else return d|c.keys.length-1<<0}var yp=function yp(a,c,d){var e=To&c>>>d;if(0<d){var f=d-So;c=yp(a.na[e],c,f);return-1===c?0<=e-1?(--e,xp(a.na[e],f)|e<<d):-1:c|e<<d}return 0<=e-1?0|e-1<<0:-1};
function rp(b){if(0<hp(b.root)){var a=xp(b.root,b.shift)+1;return zp.f?zp.f(b,0,a):zp.call(null,b,0,a)}return null}function Ap(b,a,c,d,e){this.set=b;this.left=a;this.right=c;this.keys=d;this.Ra=e;this.m=143130816;this.C=1536}g=Ap.prototype;g.M=function(){return r(this.keys)?this:null};g.ka=function(){return Bp.c?Bp.c(this):Bp.call(null,this)};g.oa=function(){var b=Cp.c?Cp.c(this):Cp.call(null,this);return r(b)?b:Fc};g.va=function(){return Cp.c?Cp.c(this):Cp.call(null,this)};
g.Bc=function(){return Dp.c?Dp.c(this):Dp.call(null,this)};g.Cc=function(){var b=dc(this);return r(b)?b:Fc};g.Ac=function(){return Ep.c?Ep.c(this):Ep.call(null,this)};g.la=function(b,a){return Fp?Fp(this,a):Gp.call(null,this,a)};g.ma=function(b,a,c){return Hp?Hp(this,a,c):Gp.call(null,this,a,c)};g.$a=function(){return Ip.c?Ip.c(this):Ip.call(null,this)};function zp(b,a,c){return new Ap(b,a,c,vp(b,a),To&a>>>0)}function Bp(b){return r(b.keys)?b.keys[b.Ra]:null}
function Cp(b){var a=b.set,c=b.left,d=b.right,e=b.keys;b=b.Ra;if(r(e)){if(b+1<e.length)return c+1<d?new Ap(a,c+1,d,e,b+1):null;c=wp(a.root,c,a.shift);return sf.b(-1,c)&&c<d?zp(a,c,d):null}return null}function Dp(b){var a=b.right,c=b.keys,d=b.Ra;b=G.b(b.left|To,a|To)?a&To:c.length;return new We(c,d,b)}function Ep(b){var a=b.set,c=b.right;b=wp(a.root,b.left+(b.keys.length-b.Ra-1),a.shift);return sf.b(-1,b)&&b<c?zp(a,b,c):null}
function Ip(b){var a=b.set,c=b.left,d=b.right;return r(b.keys)?(b=yp(a.root,c,a.shift),d=yp(a.root,d,a.shift),Jp.f?Jp.f(a,b,d):Jp.call(null,a,b,d)):null}function Gp(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 2:return Fp(arguments[0],arguments[1]);case 3:return Hp(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(a.length)].join(""));}}
function Fp(b,a){if(null==b.keys)return a.s?a.s():a.call(null);var c=Bp(b),d=Cp(b);return r(d)?Hp(d,a,c):c}function Hp(b,a,c){var d=b.set,e=b.right,f=b.left,h=b.keys;for(b=b.Ra;;){if(null==h)return c;var k=h[b];c=a.b?a.b(c,k):a.call(null,c,k);if(Qc(c))return H.c?H.c(c):H.call(null,c);if(b+1<h.length)if(f+1<e)b+=1,f+=1;else return c;else if(f=wp(d.root,f,d.shift),-1!==f&&f<e)h=vp(d,f),b=To&f>>>0;else return c}}
function Kp(b,a,c,d,e){this.set=b;this.left=a;this.right=c;this.keys=d;this.Ra=e;this.m=142606528;this.C=0}g=Kp.prototype;g.M=function(){return r(this.keys)?this:null};g.ka=function(){return Lp.c?Lp.c(this):Lp.call(null,this)};g.oa=function(){var b=Mp.c?Mp.c(this):Mp.call(null,this);return r(b)?b:Fc};g.va=function(){return Mp.c?Mp.c(this):Mp.call(null,this)};g.$a=function(){return Np.c?Np.c(this):Np.call(null,this)};function Jp(b,a,c){return new Kp(b,a,c,vp(b,c),To&c>>>0)}
function Lp(b){return r(b.keys)?b.keys[b.Ra]:null}function Mp(b){var a=b.set,c=b.left,d=b.right,e=b.keys;b=b.Ra;if(r(e)){if(0<=b-1)return d-1>c?new Kp(a,c,d-1,e,b-1):null;d=yp(a.root,d,a.shift);return sf.b(-1,d)&&d>c?Jp(a,c,d):null}return null}function Np(b){var a=b.set,c=b.left;b=b.right;if(r(lh)){var d=wp(a.root,b,a.shift);return zp(a,-1===c?0:wp(a.root,c,a.shift),-1===d?b+1:d)}return null}
function Op(b,a,c){a:for(var d=b.root,e=0,f=b.shift;;){var h=hp(d);if(0===f){var k=d.keys,k=Uo(b.La,k,h-1,a);a=h===k?-1:e|k<<0;break a}k=d.keys;k=Uo(b.La,k,h-2,a);e|=k<<f;f-=So;d=d.na[k]}if(0>a)return null;a:for(d=b.root,e=0,f=b.shift;;){k=hp(d);if(0===f){h=d.keys;k=Vo(b.La,h,k-1,c);c=e|k<<0;break a}h=d.keys;k=Vo(b.La,h,k-2,c);e|=k<<f;f-=So;d=d.na[k]}return c>a?new Ap(b,a,c,vp(b,a),To&a>>>0):null}function Pp(b,a){return Op(b,a,a)}
function Qp(b,a){for(var c=cp(function(a){return new pp(a)},dp(b)),d=c,e=0;;){var f=M(d);switch(f){case 0:return new qp(new pp([]),0,0,a,null,null);case 1:return new qp(E(d),e,b.length,a,null,null);default:d=cp(function(){return function(a){return new op(a.map(gp),a)}}(d,e,f,c),dp(d)),e+=So}}}function Rp(b){return new qp(new pp([]),0,0,b,null,null)};function Sp(b,a,c){if(Ke(c))return c=lf(Ne,Xf.b(b,c)),a.c?a.c(c):a.call(null,c);if(Ld(c))return c=Mi(Xf.b(b,c)),a.c?a.c(c):a.call(null,c);if(Fd(c))return c=v(function(a,c){return nd.b(a,b.c?b.c(c):b.call(null,c))},c,c),a.c?a.c(c):a.call(null,c);Bd(c)&&(c=W.b(od(c),Xf.b(b,c)));return a.c?a.c(c):a.call(null,c)}var Tp=function Tp(a,c){return Sp(If(Tp,a),a,c)};var Up=Error;function Vp(b){return"number"===typeof b&&0>b}function Wp(b,a){return xc(b,a)}function Xp(b,a,c,d,e){this.e=b;this.a=a;this.v=c;this.tx=d;this.added=e;this.m=2162164496;this.C=0}g=Xp.prototype;g.K=function(){var b=this.j;return r(b)?b:this.j=Yp.c?Yp.c(this):Yp.call(null,this)};g.w=function(b,a){var c=a instanceof Xp;return c?Zp.b?Zp.b(this,a):Zp.call(null,this,a):c};g.M=function(){return $p.c?$p.c(this):$p.call(null,this)};
g.G=function(b,a){return aq.f?aq.f(this,a,null):aq.call(null,this,a,null)};g.F=function(b,a,c){return aq.f?aq.f(this,a,c):aq.call(null,this,a,c)};g.L=function(b,a){return bq?bq(this,a):cq.call(null,this,a)};g.Aa=function(b,a,c){return dq?dq(this,a,c):cq.call(null,this,a,c)};g.T=function(b,a,c){return eq.f?eq.f(this,a,c):eq.call(null,this,a,c)};g.I=function(b,a,c){return Qi(a,Xi,"#datascript/Datom ["," ","]",c,new U(null,5,5,V,[this.e,this.a,this.v,this.tx,this.added],null))};
var fq=function fq(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 3:return fq.f(arguments[0],arguments[1],arguments[2]);case 4:return fq.S(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return fq.W(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};fq.f=function(b,a,c){return new Xp(b,a,c,536870912,!0)};
fq.S=function(b,a,c,d){return new Xp(b,a,c,d,!0)};fq.W=function(b,a,c,d,e){return new Xp(b,a,c,d,e)};fq.A=5;function gq(b){return b instanceof Xp}function Yp(b){return Wp(Wp(wc(b.e),wc(b.a)),wc(b.v))}function Zp(b,a){return G.b(b.e,a.e)&&G.b(b.a,a.a)&&G.b(b.v,a.v)}function $p(b){return $a($a($a($a($a(Fc,b.added),b.tx),b.v),b.a),b.e)}
function aq(b,a,c){return G.b(kk,a)?b.v:G.b("e",a)?b.e:G.b(Tk,a)?b.added:G.b("v",a)?b.v:G.b(Nl,a)?b.e:G.b("a",a)?b.a:G.b(mm,a)?b.tx:G.b("added",a)?b.added:G.b("tx",a)?b.tx:G.b(zo,a)?b.a:c}function cq(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 2:return bq(arguments[0],arguments[1]);case 3:return dq(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(a.length)].join(""));}}
function bq(b,a){switch(a){case 0:return b.e;case 1:return b.a;case 2:return b.v;case 3:return b.tx;case 4:return b.added;default:throw Error([t("Datom/-nth: Index out of bounds: "),t(a)].join(""));}}function dq(b,a,c){switch(a){case 0:return b.e;case 1:return b.a;case 2:return b.v;case 3:return b.tx;case 4:return b.added;default:return c}}
function eq(b,a,c){switch(a instanceof R?a.V:null){case "e":return new Xp(c,b.a,b.v,b.tx,b.added);case "a":return new Xp(b.e,c,b.v,b.tx,b.added);case "v":return new Xp(b.e,b.a,c,b.tx,b.added);case "tx":return new Xp(b.e,b.a,b.v,c,b.added);case "added":return new Xp(b.e,b.a,b.v,b.tx,c);default:throw new Up([t("invalid key for #datascript/Datom: "),t(a)].join(""));}}function hq(b,a){return r(r(b)?a:b)?Xd(b,a):0}function iq(b,a){return r(r(b)?a:b)?b-a:0}
function jq(b,a){return null!=b&&null!=a?Xd(b,a):0}function kq(b,a){var c=iq(b.e,a.e);return 0===c&&(c=hq(b.a,a.a),0===c&&(c=jq(b.v,a.v),0===c))?(c=iq(b.tx,a.tx),0===c?0:c):c}function lq(b,a){var c=hq(b.a,a.a);return 0===c&&(c=iq(b.e,a.e),0===c&&(c=jq(b.v,a.v),0===c))?(c=iq(b.tx,a.tx),0===c?0:c):c}function mq(b,a){var c=hq(b.a,a.a);return 0===c&&(c=jq(b.v,a.v),0===c&&(c=iq(b.e,a.e),0===c))?(c=iq(b.tx,a.tx),0===c?0:c):c}function nq(b,a){return b instanceof R?bc(b,a):ja(b,a)}
function oq(b,a){var c=b.e-a.e;return 0===c&&(c=nq(b.a,a.a),0===c&&(c=Xd(b.v,a.v),0===c))?(c=b.tx-a.tx,0===c?0:c):c}function pq(b,a){var c=nq(b.a,a.a);return 0===c&&(c=b.e-a.e,0===c&&(c=Xd(b.v,a.v),0===c))?(c=b.tx-a.tx,0===c?0:c):c}function qq(b,a){var c=nq(b.a,a.a);return 0===c&&(c=Xd(b.v,a.v),0===c&&(c=b.e-a.e,0===c))?(c=b.tx-a.tx,0===c?0:c):c}function rq(){}
var sq=function sq(a,c){if(null!=a&&null!=a.ad)return a.ad(a,c);var d=sq[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=sq._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ja("ISearch.-search",a);};function tq(){}
var uq=function uq(a,c,d){if(null!=a&&null!=a.Xc)return a.Xc(a,c,d);var e=uq[ba(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);e=uq._;if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw Ja("IIndexAccess.-datoms",a);},vq=function vq(a,c,d){if(null!=a&&null!=a.Zc)return a.Zc(a,c,d);var e=vq[ba(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);e=vq._;if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw Ja("IIndexAccess.-seek-datoms",a);},wq=function wq(a,
c,d,e){if(null!=a&&null!=a.Yc)return a.Yc(a,c,d,e);var f=wq[ba(null==a?null:a)];if(null!=f)return f.S?f.S(a,c,d,e):f.call(null,a,c,d,e);f=wq._;if(null!=f)return f.S?f.S(a,c,d,e):f.call(null,a,c,d,e);throw Ja("IIndexAccess.-index-range",a);};function xq(){}
var yq=function yq(a){if(null!=a&&null!=a.Wc)return a.Wc(a);var c=yq[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=yq._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ja("IDB.-schema",a);},zq=function zq(a,c){if(null!=a&&null!=a.Vc)return a.Vc(a,c);var d=zq[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=zq._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ja("IDB.-attrs-by",a);};
function Aq(b,a,c,d,e,f,h,k,l,m,n){this.Da=b;this.wa=a;this.Ha=c;this.Fa=d;this.Na=e;this.Oa=f;this.Ja=h;this.hash=k;this.i=l;this.g=m;this.j=n;this.m=2229667594;this.C=8192}g=Aq.prototype;g.G=function(b,a){return gb.f(this,a,null)};
g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "schema":return this.Da;case "eavt":return this.wa;case "aevt":return this.Ha;case "avet":return this.Fa;case "max-eid":return this.Na;case "max-tx":return this.Oa;case "rschema":return this.Ja;case "hash":return this.hash;default:return Ac(this.g,a,c)}};
g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.db.DB{",", ","}",c,T.b(new U(null,8,5,V,[new U(null,2,5,V,[Jj,this.Da],null),new U(null,2,5,V,[Ul,this.wa],null),new U(null,2,5,V,[wk,this.Ha],null),new U(null,2,5,V,[Zk,this.Fa],null),new U(null,2,5,V,[ol,this.Na],null),new U(null,2,5,V,[ek,this.Oa],null),new U(null,2,5,V,[Qn,this.Ja],null),new U(null,2,5,V,[pk,this.hash],null)],null),this.g))};
g.U=function(){return new bh(0,this,8,new U(null,8,5,V,[Jj,Ul,wk,Zk,ol,ek,Qn,pk],null),ic(this.g))};g.N=function(){return this.i};g.P=function(){return 8+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};
g.Y=function(b,a){return Qd(new Vd(null,new p(null,8,[Jj,null,ek,null,pk,null,wk,null,Zk,null,ol,null,Ul,null,Qn,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new Aq(this.Da,this.wa,this.Ha,this.Fa,this.Na,this.Oa,this.Ja,this.hash,this.i,tf(td.b(this.g,a)),null)};
g.T=function(b,a,c){return r(S.b?S.b(Jj,a):S.call(null,Jj,a))?new Aq(c,this.wa,this.Ha,this.Fa,this.Na,this.Oa,this.Ja,this.hash,this.i,this.g,null):r(S.b?S.b(Ul,a):S.call(null,Ul,a))?new Aq(this.Da,c,this.Ha,this.Fa,this.Na,this.Oa,this.Ja,this.hash,this.i,this.g,null):r(S.b?S.b(wk,a):S.call(null,wk,a))?new Aq(this.Da,this.wa,c,this.Fa,this.Na,this.Oa,this.Ja,this.hash,this.i,this.g,null):r(S.b?S.b(Zk,a):S.call(null,Zk,a))?new Aq(this.Da,this.wa,this.Ha,c,this.Na,this.Oa,this.Ja,this.hash,this.i,
this.g,null):r(S.b?S.b(ol,a):S.call(null,ol,a))?new Aq(this.Da,this.wa,this.Ha,this.Fa,c,this.Oa,this.Ja,this.hash,this.i,this.g,null):r(S.b?S.b(ek,a):S.call(null,ek,a))?new Aq(this.Da,this.wa,this.Ha,this.Fa,this.Na,c,this.Ja,this.hash,this.i,this.g,null):r(S.b?S.b(Qn,a):S.call(null,Qn,a))?new Aq(this.Da,this.wa,this.Ha,this.Fa,this.Na,this.Oa,c,this.hash,this.i,this.g,null):r(S.b?S.b(pk,a):S.call(null,pk,a))?new Aq(this.Da,this.wa,this.Ha,this.Fa,this.Na,this.Oa,this.Ja,c,this.i,this.g,null):new Aq(this.Da,
this.wa,this.Ha,this.Fa,this.Na,this.Oa,this.Ja,this.hash,this.i,O.f(this.g,a,c),null)};g.M=function(){return q(T.b(new U(null,8,5,V,[new U(null,2,5,V,[Jj,this.Da],null),new U(null,2,5,V,[Ul,this.wa],null),new U(null,2,5,V,[wk,this.Ha],null),new U(null,2,5,V,[Zk,this.Fa],null),new U(null,2,5,V,[ol,this.Na],null),new U(null,2,5,V,[ek,this.Oa],null),new U(null,2,5,V,[Qn,this.Ja],null),new U(null,2,5,V,[pk,this.hash],null)],null),this.g))};
g.O=function(b,a){return new Aq(this.Da,this.wa,this.Ha,this.Fa,this.Na,this.Oa,this.Ja,this.hash,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};function Bq(b){return new Aq(Jj.c(b),Ul.c(b),wk.c(b),Zk.c(b),ol.c(b),ek.c(b),Qn.c(b),pk.c(b),null,td.h(b,Jj,J([Ul,wk,Zk,ol,ek,Qn,pk],0)),null)}g.ca=!0;g.I=function(b,a,c){return Cq.f?Cq.f(this,a,c):Cq.call(null,this,a,c)};g.Mc=!0;g.P=function(){return M(this.wa)};g.Od=!0;g.$a=function(){return Rb(this.wa)};
g.md=!0;g.K=function(){return Dq.c?Dq.c(this):Dq.call(null,this)};g.w=function(b,a){return Eq.b?Eq.b(this,a):Eq.call(null,this,a)};g.ea=function(){var b=this.Da;return Fq.c?Fq.c(b):Fq.call(null,b)};g.Fc=!0;g.M=function(){return Mb(this.wa)};g.vd=!0;g.Xc=function(b,a,c){return Pp(Cc(this,a),Gq.f?Gq.f(this,a,c):Gq.call(null,this,a,c))};g.Zc=function(b,a,c){b=Cc(this,a);a=Gq.f?Gq.f(this,a,c):Gq.call(null,this,a,c);return Op(b,a,new Xp(null,null,null,null,null))};
g.Yc=function(b,a,c,d){if(!r(Hq.b?Hq.b(this,a):Hq.call(null,this,a)))throw yj([t("Attribute"),t(X.h(J([a],0)))].join(""),"should be marked as :db/index true");b=$a($a($a($a($a(Fc,d),c),a),Hl),xo);Iq.b?Iq.b(a,b):Iq.call(null,a,b);c=Jq.W?Jq.W(this,null,a,c,null):Jq.call(null,this,null,a,c,null);a=Jq.W?Jq.W(this,null,a,d,null):Jq.call(null,this,null,a,d,null);return Op(this.Fa,c,a)};g.Ic=!0;g.Wc=function(){return this.Da};g.Vc=function(b,a){return this.Ja.call(null,a)};g.$c=!0;
g.ad=function(b,a){var c=N(a,0),d=N(a,1),e=N(a,2),f=N(a,3),h=this.wa,k=this.Ha,l=this.Fa;return r(c)?r(d)?null!=e?r(f)?Pp(h,new Xp(c,d,e,f,null)):Pp(h,new Xp(c,d,e,null,null)):r(f)?hg(function(a,b,c,d,e){return function(a){return G.b(e,a.tx)}}(a,c,d,e,f,h,k,l,this),Pp(h,new Xp(c,d,null,null,null))):Pp(h,new Xp(c,d,null,null,null)):null!=e?r(f)?hg(function(a,b,c,d,e){return function(a){return G.b(d,a.v)&&G.b(e,a.tx)}}(a,c,d,e,f,h,k,l,this),Pp(h,new Xp(c,null,null,null,null))):hg(function(a,b,c,d){return function(a){return G.b(d,
a.v)}}(a,c,d,e,f,h,k,l,this),Pp(h,new Xp(c,null,null,null,null))):r(f)?hg(function(a,b,c,d,e){return function(a){return G.b(e,a.tx)}}(a,c,d,e,f,h,k,l,this),Pp(h,new Xp(c,null,null,null,null))):Pp(h,new Xp(c,null,null,null,null)):r(d)?null!=e?r(f)?r(Hq.b?Hq.b(this,d):Hq.call(null,this,d))?hg(function(a,b,c,d,e){return function(a){return G.b(e,a.tx)}}(a,c,d,e,f,h,k,l,this),Pp(l,new Xp(null,d,e,null,null))):hg(function(a,b,c,d,e){return function(a){return G.b(d,a.v)&&G.b(e,a.tx)}}(a,c,d,e,f,h,k,l,this),
Pp(k,new Xp(null,d,null,null,null))):r(Hq.b?Hq.b(this,d):Hq.call(null,this,d))?Pp(l,new Xp(null,d,e,null,null)):hg(function(a,b,c,d){return function(a){return G.b(d,a.v)}}(a,c,d,e,f,h,k,l,this),Pp(k,new Xp(null,d,null,null,null))):r(f)?hg(function(a,b,c,d,e){return function(a){return G.b(e,a.tx)}}(a,c,d,e,f,h,k,l,this),Pp(k,new Xp(null,d,null,null,null))):Pp(k,new Xp(null,d,null,null,null)):null!=e?r(f)?hg(function(a,b,c,d,e){return function(a){return G.b(d,a.v)&&G.b(e,a.tx)}}(a,c,d,e,f,h,k,l,this),
h):hg(function(a,b,c,d){return function(a){return G.b(d,a.v)}}(a,c,d,e,f,h,k,l,this),h):r(f)?hg(function(a,b,c,d,e){return function(a){return G.b(e,a.tx)}}(a,c,d,e,f,h,k,l,this),h):h};function Kq(b){var a=null!=b?b.$c?!0:b.ab?!1:Ga(rq,b):Ga(rq,b);return a?(a=null!=b?b.vd?!0:b.ab?!1:Ga(tq,b):Ga(tq,b))?null!=b?b.Ic?!0:b.ab?!1:Ga(xq,b):Ga(xq,b):a:a}function Lq(b,a,c,d,e,f){this.Ga=b;this.Pa=a;this.hash=c;this.i=d;this.g=e;this.j=f;this.m=2229667594;this.C=8192}g=Lq.prototype;
g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "unfiltered-db":return this.Ga;case "pred":return this.Pa;case "hash":return this.hash;default:return Ac(this.g,a,c)}};g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.db.FilteredDB{",", ","}",c,T.b(new U(null,3,5,V,[new U(null,2,5,V,[In,this.Ga],null),new U(null,2,5,V,[xk,this.Pa],null),new U(null,2,5,V,[pk,this.hash],null)],null),this.g))};
g.U=function(){return new bh(0,this,3,new U(null,3,5,V,[In,xk,pk],null),ic(this.g))};g.N=function(){return this.i};g.P=function(){return 3+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};
g.Y=function(b,a){return Qd(new Vd(null,new p(null,3,[pk,null,xk,null,In,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new Lq(this.Ga,this.Pa,this.hash,this.i,tf(td.b(this.g,a)),null)};
g.T=function(b,a,c){return r(S.b?S.b(In,a):S.call(null,In,a))?new Lq(c,this.Pa,this.hash,this.i,this.g,null):r(S.b?S.b(xk,a):S.call(null,xk,a))?new Lq(this.Ga,c,this.hash,this.i,this.g,null):r(S.b?S.b(pk,a):S.call(null,pk,a))?new Lq(this.Ga,this.Pa,c,this.i,this.g,null):new Lq(this.Ga,this.Pa,this.hash,this.i,O.f(this.g,a,c),null)};g.M=function(){return q(T.b(new U(null,3,5,V,[new U(null,2,5,V,[In,this.Ga],null),new U(null,2,5,V,[xk,this.Pa],null),new U(null,2,5,V,[pk,this.hash],null)],null),this.g))};
g.O=function(b,a){return new Lq(this.Ga,this.Pa,this.hash,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};g.Nc=!0;g.G=function(){throw Error("-lookup is not supported on FilteredDB");};g.F=function(){throw Error("-lookup is not supported on FilteredDB");};g.ca=!0;g.I=function(b,a,c){return Cq.f?Cq.f(this,a,c):Cq.call(null,this,a,c)};g.Mc=!0;g.P=function(){return M(uq(this,Ul,K))};g.md=!0;g.K=function(){return Mq.c?Mq.c(this):Mq.call(null,this)};
g.w=function(b,a){return Eq.b?Eq.b(this,a):Eq.call(null,this,a)};g.ea=function(){throw Error("-empty is not supported on FilteredDB");};g.Rb=function(){throw Error("-contains-key? is not supported on FilteredDB");};g.T=function(){throw Error("-assoc is not supported on FilteredDB");};g.Fc=!0;g.M=function(){return uq(this,Ul,K)};g.vd=!0;g.Xc=function(b,a,c){return hg(this.Pa,uq(this.Ga,a,c))};g.Zc=function(b,a,c){return hg(this.Pa,vq(this.Ga,a,c))};
g.Yc=function(b,a,c,d){return hg(this.Pa,wq(this.Ga,a,c,d))};g.Ic=!0;g.Wc=function(){return yq(this.Ga)};g.Vc=function(b,a){return zq(this.Ga,a)};g.$c=!0;g.ad=function(b,a){return hg(this.Pa,sq(this.Ga,a))};
function Nq(b,a){return G.b(new U(null,2,5,V,[b,a],null),new U(null,2,5,V,[Il,!0],null))?new U(null,1,5,V,[Il],null):G.b(a,fl)?new U(null,2,5,V,[fl,bk],null):G.b(a,Tn)?new U(null,1,5,V,[Tn],null):G.b(a,Wj)?new U(null,3,5,V,[nk,Wj,bk],null):G.b(a,$l)?new U(null,3,5,V,[nk,$l,bk],null):G.b(new U(null,2,5,V,[b,a],null),new U(null,2,5,V,[bk,!0],null))?new U(null,1,5,V,[bk],null):null}
function Oq(b){var a=Wd;return v(function(b,d){var e=N(d,0),f=N(d,1);return qg.S(b,new U(null,1,5,V,[e],null),Jf(nd,a),f)},Ud,b)}
function Pq(b){return Oq(function(){return function c(b){return new Te(null,function(){for(var e=b;;){var f=q(e);if(f){var h=f,k=E(h),l=N(k,0),m=N(k,1);if(f=q(function(b,c,d,e,f,h){return function I(k){return new Te(null,function(b,c,d,e,f,h){return function(){for(var l=k;;){var m=q(l);if(m){var n=m,u=E(n),x=N(u,0),y=N(u,1);if(m=q(function(b,c,d,e,f,h,k,l,m,n,u,x){return function af(y){return new Te(null,function(b,c,d,e,f,h,k,l,m){return function(){for(;;){var b=q(y);if(b){if(P(b)){var c=z(b),d=
M(c),e=Xe(d);a:for(var f=0;;)if(f<d){var h=w.b(c,f);e.add(new U(null,2,5,V,[h,m],null));f+=1}else{c=!0;break a}return c?Ze(bf(e),af(B(b))):Ze(bf(e),null)}e=E(b);return bd(new U(null,2,5,V,[e,m],null),af(Ec(b)))}return null}}}(b,c,d,e,f,h,k,l,m,n,u,x),null,null)}}(l,b,u,x,y,n,m,c,d,e,f,h)(Nq(x,y))))return T.b(m,I(Ec(l)));l=Ec(l)}else return null}}}(b,c,d,e,f,h),null,null)}}(e,k,l,m,h,f)(m)))return T.b(f,c(Ec(e)));e=Ec(e)}else return null}},null,null)}(b)}())}
function Qq(b,a,c,d){if(null!=c&&!Qd(d,c))throw yj([t("Bad attribute specification for "),t(X.h(J([ph([b,ph([a,c])])],0))),t(", expected one of "),t(d)].join(""),new p(null,4,[vn,Bn,Qj,b,Bk,a,hl,c],null));}
function Rq(b){for(var a=q(b),c=null,d=0,e=0;;)if(e<d){var f=c.L(null,e),h=N(f,0),k=N(f,1),l=Il.b(k,!1);Qq(h,Il,Il.c(k),new Vd(null,new p(null,2,[!0,null,!1,null],null),null));if(r(function(){var a=l;return r(a)?sf.b(Xk.c(k),fl):a}()))throw yj([t("Bad attribute specification for "),t(h),t(": {:db/isComponent true} should also have {:db/valueType :db.type/ref}")].join(""),new p(null,3,[vn,Bn,Qj,h,Bk,Il],null));Qq(h,nk,nk.c(k),new Vd(null,new p(null,2,[Wj,null,$l,null],null),null));Qq(h,Xk,Xk.c(k),
new Vd(null,new p(null,1,[fl,null],null),null));Qq(h,cn,cn.c(k),new Vd(null,new p(null,2,[Tn,null,vo,null],null),null));e+=1}else if(a=q(a)){if(P(a))d=z(a),a=B(a),c=d,d=M(d);else{var c=E(a),d=N(c,0),m=N(c,1),n=Il.b(m,!1);Qq(d,Il,Il.c(m),new Vd(null,new p(null,2,[!0,null,!1,null],null),null));if(r(function(){var a=n;return r(a)?sf.b(Xk.c(m),fl):a}()))throw yj([t("Bad attribute specification for "),t(d),t(": {:db/isComponent true} should also have {:db/valueType :db.type/ref}")].join(""),new p(null,
3,[vn,Bn,Qj,d,Bk,Il],null));Qq(d,nk,nk.c(m),new Vd(null,new p(null,2,[Wj,null,$l,null],null),null));Qq(d,Xk,Xk.c(m),new Vd(null,new p(null,1,[fl,null],null),null));Qq(d,cn,cn.c(m),new Vd(null,new p(null,2,[Tn,null,vo,null],null),null));a=F(a);c=null;d=0}e=0}else break;return b}
var Fq=function Fq(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return Fq.s();case 1:return Fq.c(arguments[0]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};Fq.s=function(){return Fq.c(null)};Fq.c=function(b){return Bq(new p(null,8,[Jj,Rq(b),Ul,Rp(kq),wk,Rp(lq),Zk,Rp(mq),ol,0,ek,536870912,Qn,Pq(b),pk,Mf?Mf(0):Lf.call(null,0)],null))};Fq.A=1;
function Sq(b){b=Op(b,new Xp(null,null,null,null,null),new Xp(536870911,null,null,null,null));return r(b)?Nl.c(E(Rb(b))):0}var Tq=function Tq(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return Tq.c(arguments[0]);case 2:return Tq.b(arguments[0],arguments[1]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};Tq.c=function(b){return Tq.b(b,null)};
Tq.b=function(b,a){if(Ad(b))return Fq.c(a);var c=Rq(a),d=Pq(a),e=bk.c(d),f=Aa?Ba(b):Ca.call(null,b),h=Qp(f.sort(oq),kq),k=Qp(f.sort(pq),lq),l=v(function(a,b,c){return function(a,b){Qd(c,b.a)&&a.push(b);return a}}(c,d,e,f,h,k),[],b).sort(qq),m=Qp(l,mq),n=Sq(h),c=ke(Xf.c(function(){return function(a){return a.tx}}(c,d,e,f,h,k,l,m,n)),ue,536870912,h);return Bq(new p(null,8,[Jj,a,Ul,h,wk,k,Zk,m,ol,n,ek,c,Qn,d,pk,Mf?Mf(0):Lf.call(null,0)],null))};Tq.A=2;
function Dq(b){var a;a=b.hash;a=H.c?H.c(a):H.call(null,a);return 0===a?(a=b.hash,b=Wp(wc(b.Da),wc(b.wa)),Pf.b?Pf.b(a,b):Pf.call(null,a,b)):a}function Mq(b){var a=function(){var a=b.hash;return H.c?H.c(a):H.call(null,a)}();(function(){var a=uq(b,Ul,K);return r(a)?a:Wd})();if(0===a){var c=function(){var a=uq(b,Ul,K);return r(a)?a:Wd}(),a=b.hash,c=Wp(wc(yq(b)),Lc(c));return Pf.b?Pf.b(a,c):Pf.call(null,a,c)}return a}
function Eq(b,a){var c=a instanceof Aq||a instanceof Lq;if(c&&(c=G.b(yq(b),yq(a))))a:for(var c=uq(b,Ul,K),d=uq(a,Ul,K),c=q(c),d=q(d);;){if(null==c){c=null==d;break a}if(G.b(E(c),E(d)))c=F(c),d=F(d);else{c=!1;break a}}return c}function Cq(b,a,c){Sb(a,"#datascript/DB {");Sb(a,":schema ");Xi(yq(b),a,c);Sb(a,", :datoms ");Qi(a,function(a,b,c){return Qi(b,Xi,"["," ","]",c,new U(null,4,5,V,[a.e,a.a,a.v,a.tx],null))},"["," ","]",c,uq(b,Ul,K));return Sb(a,"}")}
function Jq(b,a,c,d,e){if(r(c)){var f=$a($a($a($a($a($a(Fc,e),d),c),a),Hl),$m);Iq.b?Iq.b(c,f):Iq.call(null,c,f)}a=Uq.b?Uq.b(b,a):Uq.call(null,b,a);f=(f=null!=d)?Vq.b?Vq.b(b,c):Vq.call(null,b,c):f;return new Xp(a,c,r(f)?Wq.b?Wq.b(b,d):Wq.call(null,b,d):d,Uq.b?Uq.b(b,e):Uq.call(null,b,e),null)}
function Gq(b,a,c){var d=N(c,0),e=N(c,1),f=N(c,2);c=N(c,3);switch(a instanceof R?a.V:null){case "eavt":return Jq(b,d,e,f,c);case "aevt":return Jq(b,e,d,f,c);case "avet":return Jq(b,f,d,e,c);default:throw Error([t("No matching clause: "),t(a)].join(""));}}function Xq(b,a,c,d,e,f,h,k){this.cb=b;this.bb=a;this.Sa=c;this.hb=d;this.Ta=e;this.i=f;this.g=h;this.j=k;this.m=2229667594;this.C=8192}g=Xq.prototype;g.G=function(b,a){return gb.f(this,a,null)};
g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "db-before":return this.cb;case "db-after":return this.bb;case "tx-data":return this.Sa;case "tempids":return this.hb;case "tx-meta":return this.Ta;default:return Ac(this.g,a,c)}};
g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.db.TxReport{",", ","}",c,T.b(new U(null,5,5,V,[new U(null,2,5,V,[em,this.cb],null),new U(null,2,5,V,[Lk,this.bb],null),new U(null,2,5,V,[fm,this.Sa],null),new U(null,2,5,V,[Ij,this.hb],null),new U(null,2,5,V,[Rn,this.Ta],null)],null),this.g))};g.U=function(){return new bh(0,this,5,new U(null,5,5,V,[em,Lk,fm,Ij,Rn],null),ic(this.g))};g.N=function(){return this.i};
g.P=function(){return 5+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Y=function(b,a){return Qd(new Vd(null,new p(null,5,[Ij,null,Lk,null,em,null,fm,null,Rn,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new Xq(this.cb,this.bb,this.Sa,this.hb,this.Ta,this.i,tf(td.b(this.g,a)),null)};
g.T=function(b,a,c){return r(S.b?S.b(em,a):S.call(null,em,a))?new Xq(c,this.bb,this.Sa,this.hb,this.Ta,this.i,this.g,null):r(S.b?S.b(Lk,a):S.call(null,Lk,a))?new Xq(this.cb,c,this.Sa,this.hb,this.Ta,this.i,this.g,null):r(S.b?S.b(fm,a):S.call(null,fm,a))?new Xq(this.cb,this.bb,c,this.hb,this.Ta,this.i,this.g,null):r(S.b?S.b(Ij,a):S.call(null,Ij,a))?new Xq(this.cb,this.bb,this.Sa,c,this.Ta,this.i,this.g,null):r(S.b?S.b(Rn,a):S.call(null,Rn,a))?new Xq(this.cb,this.bb,this.Sa,this.hb,c,this.i,this.g,
null):new Xq(this.cb,this.bb,this.Sa,this.hb,this.Ta,this.i,O.f(this.g,a,c),null)};g.M=function(){return q(T.b(new U(null,5,5,V,[new U(null,2,5,V,[em,this.cb],null),new U(null,2,5,V,[Lk,this.bb],null),new U(null,2,5,V,[fm,this.Sa],null),new U(null,2,5,V,[Ij,this.hb],null),new U(null,2,5,V,[Rn,this.Ta],null)],null),this.g))};g.O=function(b,a){return new Xq(this.cb,this.bb,this.Sa,this.hb,this.Ta,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};
function Yq(b){return new Xq(em.c(b),Lk.c(b),fm.c(b),Ij.c(b),Rn.c(b),null,td.h(b,em,J([Lk,fm,Ij,Rn],0)),null)}function Zq(b,a,c){return Qd(zq(b,c),a)}function Vq(b,a){return Zq(b,a,fl)}function Hq(b,a){return Zq(b,a,bk)}
function $q(b,a){for(;;){if("number"===typeof a)return a;if(Dd(a)){if(sf.b(M(a),2))throw yj([t("Lookup ref should contain 2 elements: "),t(X.h(J([a],0)))].join(""),new p(null,2,[vn,Xm,Cl,a],null));if(Zq(b,E(a),nk))return null==hd(a)?null:Nl.c(E(uq(b,Zk,a)));throw yj([t("Lookup ref attribute should be marked as :db/unique: "),t(X.h(J([a],0)))].join(""),new p(null,2,[vn,Uj,Cl,a],null));}if(Ea(a))a=cd(a,0);else throw yj([t("Expected number or lookup ref for entity id, got "),t(X.h(J([a],0)))].join(""),
new p(null,2,[vn,Zm,Cl,a],null));}}function Wq(b,a){var c=$q(b,a);if(r(c))return c;throw yj([t("Nothing found for entity id "),t(X.h(J([a],0)))].join(""),new p(null,2,[vn,mn,Cl,a],null));}function Uq(b,a){return r(a)?Wq(b,a):null}function Iq(b,a){if(b instanceof R||"string"===typeof b)return null;throw yj([t("Bad entity attribute "),t(X.h(J([b],0))),t(" at "),t(X.h(J([a],0))),t(", expected keyword or string")].join(""),new p(null,3,[vn,Un,Qj,b,pn,a],null));}
function ar(b,a){if(null==b)throw yj([t("Cannot store nil as a value at "),t(X.h(J([a],0)))].join(""),new p(null,3,[vn,Un,hl,b,pn,a],null));return null}function br(b){return ng(b,new U(null,2,5,V,[em,ek],null))+1}function cr(b){return G.b(b,Tm)||G.b(b,":db/current-tx")}function dr(b,a){return a>ol.c(b)&&536870912>a?O.f(b,ol,a):b}function er(b,a,c){b=Vp(a)?pg(b,new U(null,2,5,V,[Ij,a],null),c):b;a=cr(a)?pg(b,new U(null,2,5,V,[Ij,a],null),c):b;return qg.S(a,new U(null,1,5,V,[Lk],null),dr,c)}
function fr(b,a){var c;c=a.added;c=r(c)?Zq(b,a.a,nk):c;if(r(c)&&(c=tf(uq(b,Zk,new U(null,2,5,V,[a.a,a.v],null))),r(c)))throw yj([t("Cannot add "),t(X.h(J([a],0))),t(" because of unique constraint: "),t(X.h(J([c],0)))].join(""),new p(null,3,[vn,zj,Qj,a.a,Gk,a],null));c=Hq(b,a.a);if(r(a.added)){var d=qg.W(b,new U(null,1,5,V,[Ul],null),tp,a,oq),d=qg.W(d,new U(null,1,5,V,[wk],null),tp,a,pq);c=c?qg.W(d,new U(null,1,5,V,[Zk],null),tp,a,qq):d;c=dr(c,a.e);return O.f(c,pk,Mf?Mf(0):Lf.call(null,0))}d=E(sq(b,
new U(null,3,5,V,[a.e,a.a,a.v],null)));if(r(d)){var e=qg.W(b,new U(null,1,5,V,[Ul],null),sp,d,oq),e=qg.W(e,new U(null,1,5,V,[wk],null),sp,d,pq);c=c?qg.W(e,new U(null,1,5,V,[Zk],null),sp,d,qq):e;return O.f(c,pk,Mf?Mf(0):Lf.call(null,0))}return b}function gr(b,a){return qg.S(qg.S(b,new U(null,1,5,V,[Lk],null),fr,a),new U(null,1,5,V,[fm],null),nd,a)}
function hr(b){if(b instanceof R)return G.b("_",rd(Se(b),0));if("string"===typeof b)return Pd(Ni(/(?:([^\/]+)\/)?_([^\/]+)/,b));throw yj([t("Bad attribute type: "),t(X.h(J([b],0))),t(", expected keyword or string")].join(""),new p(null,2,[vn,Un,Qj,b],null));}
function ir(b){if(b instanceof R)return hr(b)?Re.b(Qe(b),Fe.b(Se(b),1)):Re.b(Qe(b),[t("_"),t(Se(b))].join(""));if("string"===typeof b){var a=Ni(/(?:([^\/]+)\/)?([^\/]+)/,b);N(a,0);b=N(a,1);a=N(a,2);return G.b("_",rd(a,0))?r(b)?[t(b),t("/"),t(Fe.b(a,1))].join(""):Fe.b(a,1):r(b)?[t(b),t("/_"),t(a)].join(""):[t("_"),t(a)].join("")}throw yj([t("Bad attribute type: "),t(X.h(J([b],0))),t(", expected keyword or string")].join(""),new p(null,2,[vn,Un,Qj,b],null));}
function jr(b,a){var c=N(a,0),d=N(a,1),e=N(a,2),f=ln.c(b);if(null==f||0>f||null==a||f===c)return a;throw yj([t("Conflicting upsert: "),t(X.h(J([new U(null,2,5,V,[d,e],null)],0))),t(" resolves to "),t(X.h(J([c],0))),t(", but entity already has :db/id "),t(X.h(J([f],0)))].join(""),new p(null,3,[vn,Ml,go,b,Co,a],null));}
function kr(b,a){var c=tf(zq(b,Wj));return r(c)?E(jr(a,ie(function(c){return function(e,f,h){if(Qd(c,f)){var k=Nl.c(E(uq(b,Zk,new U(null,2,5,V,[f,h],null))));if(r(k)){if(null==e)return new U(null,3,5,V,[k,f,h],null);if(G.b(Cc(e,0),k))return e;var l=N(e,0),m=N(e,1);e=N(e,2);throw yj([t("Conflicting upserts: "),t(X.h(J([new U(null,2,5,V,[m,e],null)],0))),t(" resolves to "),t(X.h(J([l],0))),t(", but "),t(X.h(J([new U(null,2,5,V,[f,h],null)],0))),t(" resolves to "),t(X.h(J([k],0)))].join(""),new p(null,
4,[vn,Ml,go,a,Co,new U(null,3,5,V,[k,f,h],null),oo,new U(null,3,5,V,[l,m,e],null)],null));}}return e}}(c,c),null,a))):null}function lr(b,a,c){hr(a)||Zq(b,a,Tn)?(a=Ea.c?Ea.c(c):Ea.call(null,c),a=r(a)?a:Bd(c)&&!Ed(c),b=Fa(a)?new U(null,1,5,V,[c],null):G.b(M(c),2)&&Zq(b,E(c),Wj)?new U(null,1,5,V,[c],null):c):b=new U(null,1,5,V,[c],null);return b}
function mr(b,a){return function(a){return function e(f){return new Te(null,function(a){return function(){for(var c=f;;){var l=q(c);if(l){var m=l,n=E(m),u=N(n,0),y=N(n,1);if(sf.b(u,ln)){var A=Iq(u,ph([ln,a,u,y])),D=hr(u),x=D?ir(u):u;if(D&&!Vq(b,x))throw yj([t("Bad attribute "),t(X.h(J([u],0))),t(": reverse attribute name requires {:db/valueType :db.type/ref} in schema")].join(""),new p(null,3,[vn,Un,Qj,u,pn,ph([ln,a,u,y])],null));if(l=q(function(a,c,e,f,h,k,l,m,n,u,x){return function Ha(y){return new Te(null,
function(a,c,e,f,h,k,l,m,n,u,x){return function(){for(;;){var a=q(y);if(a){if(P(a)){var c=z(a),h=M(c),k=Xe(h);a:for(var m=0;;)if(m<h){var n=w.b(c,m),n=Vq(b,f)&&Ed(n)?O.f(n,ir(l),x):e?new U(null,4,5,V,[Cn,n,f,x],null):new U(null,4,5,V,[Cn,x,f,n],null);k.add(n);m+=1}else{c=!0;break a}return c?Ze(bf(k),Ha(B(a))):Ze(bf(k),null)}k=E(a);return bd(Vq(b,f)&&Ed(k)?O.f(k,ir(l),x):e?new U(null,4,5,V,[Cn,k,f,x],null):new U(null,4,5,V,[Cn,x,f,k],null),Ha(Ec(a)))}return null}}}(a,c,e,f,h,k,l,m,n,u,x),null,null)}}(c,
A,D,x,null,n,u,y,m,l,a)(lr(b,u,y))))return T.b(l,e(Ec(c)))}c=Ec(c)}else return null}}}(a),null,null)}}(ln.c(a))(a)}function nr(b,a){N(a,0);var c=N(a,1),d=N(a,2),e=N(a,3),f=N(a,4);Iq(d,a);ar(e,a);var f=r(f)?f:br(b),h=Lk.c(b),c=Wq(h,c),e=Vq(h,d)?Wq(h,e):e,k=new Xp(c,d,e,f,!0);if(Zq(h,d,Tn))return Ad(sq(h,new U(null,3,5,V,[c,d,e],null)))?gr(b,k):b;h=E(sq(h,new U(null,2,5,V,[c,d],null)));return r(h)?G.b(h.v,e)?b:gr(gr(b,new Xp(c,d,h.v,f,!1)),k):gr(b,k)}
function or(b,a){var c=br(b);return gr(b,new Xp(a.e,a.a,a.v,c,!1))}function pr(b,a){return W.f(Wd,Hf.b(gg(function(a){return Zq(b,a.a,Il)}),Xf.c(function(a){return new U(null,2,5,V,[Vl,a.v],null)})),a)}function qr(b,a,c,d){if(Qd(Ij.c(b),c))throw yj([t("Conflicting upsert: "),t(X.h(J([c],0))),t(" resolves"),t(" both to "),t(X.h(J([d],0))),t(" and "),t(X.h(J([Cc(Ij.c(b),c)],0)))].join(""),new p(null,1,[vn,Ml],null));b=pg(b,new U(null,2,5,V,[Ij,c],null),d);return rr.b?rr.b(b,a):rr.call(null,b,a)}
function rr(b,a){if(null!=a&&!Dd(a))throw yj([t("Bad transaction data "),t(X.h(J([a],0))),t(", expected sequential collection")].join(""),new p(null,2,[vn,Un,fm,a],null));for(var c=b,d=a;;){var e=d,f=N(e,0),h=Ee(e,1),k=Lk.c(c);if(null==f)return qg.f(pg(c,new U(null,2,5,V,[Ij,Tm],null),br(c)),new U(null,2,5,V,[Lk,ek],null),Nc);if(Ed(f)){var l=ln.c(f);if(cr(l))var m=br(c),n=er(c,l,m),h=bd(O.f(f,ln,m),h),c=n,d=h;else if(Dd(l))m=Wq(k,l),n=c,h=bd(O.f(f,ln,m),h),c=n,d=h;else{var u=kr(k,f);if(r(u)){var y=
u;if(Vp(l)&&Qd(Ij.c(c),l)&&sf.b(y,Cc(Ij.c(c),l)))return qr(b,a,l,y);m=er(c,l,y);h=T.b(mr(k,O.f(f,ln,y)),h);c=m;d=h}else if("number"===typeof l||null==l)m=null==l?ol.c(k)+1:0>l?function(){var a=Cc(Ij.c(c),l);return r(a)?a:ol.c(k)+1}():l,n=O.f(f,ln,m),m=er(c,l,m),h=T.b(mr(k,n),h),c=m,d=h;else throw yj([t("Expected number or lookup ref for :db/id, got "),t(X.h(J([l],0)))].join(""),new p(null,2,[vn,Zm,go,f],null));}}else if(Dd(f)){var A=f,D=N(A,0),n=N(A,1),m=N(A,2),x=N(A,3);if(G.b(D,Ll))n=f,u=N(n,0),
m=N(n,1),x=Ee(n,2),n=c,h=T.b(of(m,k,x),h),c=n,d=h;else if(G.b(D,Ym)){var L=f,u=N(L,0),I=N(L,1),Q=N(L,2),Va=N(L,3),La=N(L,4),lb=Wq(k,I),na=Iq(Q,f),pc=Vq(k,Q)?Wq(k,Va):Va,Ka=Vq(k,Q)?Wq(k,La):La,Pa=ar(Ka,f),ea=sq(k,new U(null,2,5,V,[lb,Q],null));if(Zq(k,Q,Tn))if(r(Df(function(a,b,c,d,e,f,h,k,l,m,n){return function(a){return G.b(a.v,n)}}(c,d,L,u,I,Q,Va,La,lb,na,pc,Ka,Pa,ea,A,D,n,m,x,e,f,h,k),ea)))c=m=nr(c,new U(null,4,5,V,[Cn,lb,Q,Ka],null)),d=h;else throw yj([t(":db.fn/cas failed on datom ["),t(X.h(J([lb],
0))),t(" "),t(X.h(J([Q],0))),t(" "),t(X.h(J([Xf.b(kk,ea)],0))),t("], expected "),t(X.h(J([pc],0)))].join(""),new p(null,4,[vn,Tj,Do,ea,dn,pc,Uk,Ka],null));else if(n=kk.c(E(ea)),G.b(n,pc))c=m=nr(c,new U(null,4,5,V,[Cn,lb,Q,Ka],null)),d=h;else throw yj([t(":db.fn/cas failed on datom ["),t(X.h(J([lb],0))),t(" "),t(X.h(J([Q],0))),t(" "),t(X.h(J([n],0))),t("], expected "),t(X.h(J([pc],0)))].join(""),new p(null,4,[vn,Tj,Do,E(ea),dn,pc,Uk,Ka],null));}else if(cr(n))n=c,h=bd(new U(null,4,5,V,[D,br(c),m,x],
null),h),c=n,d=h;else if(Vq(k,m)&&cr(x))x=c,h=bd(new U(null,4,5,V,[D,n,m,br(c)],null),h),c=x,d=h;else if(Vp(n)){if(sf.b(D,Cn))throw yj(""+t("Negative entity ids are resolved for :db/add only"),new p(null,2,[vn,Un,El,f],null));var y=Zq(k,m,Wj)?Nl.c(E(uq(k,Zk,new U(null,2,5,V,[m,x],null)))):null,Xa=ng(c,new U(null,2,5,V,[Ij,n],null));if(r(function(){var a=y;return r(a)?(a=Xa,r(a)?sf.b(y,Xa):a):a}()))return qr(b,a,n,y);f=function(){var a=y;if(r(a))return a;a=Xa;return r(a)?a:ol.c(k)+1}();n=er(c,n,f);
h=bd(new U(null,4,5,V,[D,f,m,x],null),h);c=n;d=h}else if(Vq(k,m)&&Vp(x))u=ng(c,new U(null,2,5,V,[Ij,x],null)),r(u)?(x=c,h=bd(new U(null,4,5,V,[D,n,m,u],null),h),c=x,d=h):(h=er(c,x,ol.c(k)+1),m=d,c=h,d=m);else if(G.b(D,Cn))c=m=nr(c,f),d=h;else if(G.b(D,hm))u=$q(k,n),r(u)&&(I=u,n=Vq(k,m)?Wq(k,x):x,Iq(m,f),ar(n,f),m=E(sq(k,new U(null,3,5,V,[I,m,n],null))),r(m)&&(c=m=or(c,m))),d=h;else if(G.b(D,Wm))u=$q(k,n),r(u)&&(I=u,u=Iq(m,f),ea=sq(k,new U(null,2,5,V,[I,m],null)),m=v(or,c,ea),h=T.b(pr(k,ea),h),c=m),
d=h;else if(G.b(D,Vl))u=$q(k,n),r(u)&&(I=u,ea=sq(k,new U(null,1,5,V,[I],null)),m=fg(function(a,b,c,d,e,f,h,k,l,m,n,u,x,y){return function(a){return sq(y,new U(null,3,5,V,[null,a,d],null))}}(c,d,ea,I,u,A,D,n,m,x,e,f,h,k),J([zq(k,fl)],0)),m=v(or,c,T.b(ea,m)),h=T.b(pr(k,ea),h),c=m),d=h;else throw yj([t("Unknown operation at "),t(X.h(J([f],0))),t(", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute or :db.fn/retractEntity")].join(""),new p(null,3,[vn,Un,ll,D,fm,f],null));}else if(r(gq(f)))D=
f,n=N(D,0),m=N(D,1),x=N(D,2),f=N(D,3),D=N(D,4),r(D)?c=m=nr(c,new U(null,5,5,V,[Cn,n,m,x,f],null)):(f=c,h=bd(new U(null,4,5,V,[hm,n,m,x],null),h),c=f),d=h;else throw yj([t("Bad entity type at "),t(X.h(J([f],0))),t(", expected map or vector")].join(""),new p(null,2,[vn,Un,fm,f],null));}};function sr(){}var tr=function tr(a,c,d){if(null!=a&&null!=a.ha)return a.ha(a,c,d);var e=tr[ba(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);e=tr._;if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw Ja("ITraversable.-collect",a);},ur=function ur(a,c){if(null!=a&&null!=a.ia)return a.ia(a,c);var d=ur[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=ur._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ja("ITraversable.-collect-vars",a);};
function vr(b,a){return Dd(b)&&G.b(M(b),a)}function wr(b,a){return Dd(a)?v(function(a,d){var e=b.c?b.c(d):b.call(null,d);return r(e)?nd.b(a,e):Pc(null)},K,a):null}function xr(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;return yr(arguments[0],arguments[1],2<a.length?new za(a.slice(2),0):null)}
function yr(b,a,c){var d=N(c,0),e=r(d)?d:K;return r(b.c?b.c(a):b.call(null,a))?nd.b(e,a):(null!=a?a.ga||(a.ab?0:Ga(sr,a)):Ga(sr,a))?tr(a,b,e):r(Md.c?Md.c(a):Md.call(null,a))?v(function(){return function(a,c){return yr(b,c,J([a],0))}}(e,c,d),e,a):e}function zr(b){var a=Ad(b);return a?a:lf(Rd,b)}function Ar(b,a){return dd(b,new p(null,1,[Fl,a],null))}function Br(b){var a=Fl.c(wd(b));return r(a)?a:b}function Cr(b,a,c){this.i=b;this.g=a;this.j=c;this.m=2229667594;this.C=8192}g=Cr.prototype;
g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a){default:return Ac(this.g,a,c)}};g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.parser.Placeholder{",", ","}",c,T.b(K,this.g))};g.U=function(){return new bh(0,this,0,K,ic(this.g))};g.N=function(){return this.i};g.P=function(){return 0+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};
g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Y=function(b,a){return Qd(Wd,a)?td.b(dd(W.b(Ud,this),this.i),a):new Cr(this.i,tf(td.b(this.g,a)),null)};g.T=function(b,a,c){return new Cr(this.i,O.f(this.g,a,c),null)};g.M=function(){return q(T.b(K,this.g))};g.O=function(b,a){return new Cr(a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};g.ga=!0;g.ha=function(b,a,c){return c};g.ia=function(b,a){return a};
function Dr(b,a,c,d){this.symbol=b;this.i=a;this.g=c;this.j=d;this.m=2229667594;this.C=8192}g=Dr.prototype;g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "symbol":return this.symbol;default:return Ac(this.g,a,c)}};g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.parser.Variable{",", ","}",c,T.b(new U(null,1,5,V,[new U(null,2,5,V,[Yk,this.symbol],null)],null),this.g))};
g.U=function(){return new bh(0,this,1,new U(null,1,5,V,[Yk],null),ic(this.g))};g.N=function(){return this.i};g.P=function(){return 1+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Y=function(b,a){return Qd(new Vd(null,new p(null,1,[Yk,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new Dr(this.symbol,this.i,tf(td.b(this.g,a)),null)};
g.T=function(b,a,c){return r(S.b?S.b(Yk,a):S.call(null,Yk,a))?new Dr(c,this.i,this.g,null):new Dr(this.symbol,this.i,O.f(this.g,a,c),null)};g.M=function(){return q(T.b(new U(null,1,5,V,[new U(null,2,5,V,[Yk,this.symbol],null)],null),this.g))};g.O=function(b,a){return new Dr(this.symbol,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};g.ga=!0;g.ha=function(b,a,c){return yr(a,this.symbol,J([c],0))};
g.ia=function(b,a){return Y.b?Y.b(a,this.symbol):Y.call(null,a,this.symbol)};function Er(b,a,c,d){this.symbol=b;this.i=a;this.g=c;this.j=d;this.m=2229667594;this.C=8192}g=Er.prototype;g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "symbol":return this.symbol;default:return Ac(this.g,a,c)}};
g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.parser.SrcVar{",", ","}",c,T.b(new U(null,1,5,V,[new U(null,2,5,V,[Yk,this.symbol],null)],null),this.g))};g.U=function(){return new bh(0,this,1,new U(null,1,5,V,[Yk],null),ic(this.g))};g.N=function(){return this.i};g.P=function(){return 1+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};
g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Y=function(b,a){return Qd(new Vd(null,new p(null,1,[Yk,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new Er(this.symbol,this.i,tf(td.b(this.g,a)),null)};g.T=function(b,a,c){return r(S.b?S.b(Yk,a):S.call(null,Yk,a))?new Er(c,this.i,this.g,null):new Er(this.symbol,this.i,O.f(this.g,a,c),null)};g.M=function(){return q(T.b(new U(null,1,5,V,[new U(null,2,5,V,[Yk,this.symbol],null)],null),this.g))};
g.O=function(b,a){return new Er(this.symbol,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};g.ga=!0;g.ha=function(b,a,c){return yr(a,this.symbol,J([c],0))};g.ia=function(b,a){return Y.b?Y.b(a,this.symbol):Y.call(null,a,this.symbol)};function Fr(b,a,c){this.i=b;this.g=a;this.j=c;this.m=2229667594;this.C=8192}g=Fr.prototype;g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a){default:return Ac(this.g,a,c)}};
g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.parser.DefaultSrc{",", ","}",c,T.b(K,this.g))};g.U=function(){return new bh(0,this,0,K,ic(this.g))};g.N=function(){return this.i};g.P=function(){return 0+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};
g.Y=function(b,a){return Qd(Wd,a)?td.b(dd(W.b(Ud,this),this.i),a):new Fr(this.i,tf(td.b(this.g,a)),null)};g.T=function(b,a,c){return new Fr(this.i,O.f(this.g,a,c),null)};g.M=function(){return q(T.b(K,this.g))};g.O=function(b,a){return new Fr(a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};g.ga=!0;g.ha=function(b,a,c){return c};g.ia=function(b,a){return a};function Gr(b,a,c){this.i=b;this.g=a;this.j=c;this.m=2229667594;this.C=8192}g=Gr.prototype;
g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a){default:return Ac(this.g,a,c)}};g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.parser.RulesVar{",", ","}",c,T.b(K,this.g))};g.U=function(){return new bh(0,this,0,K,ic(this.g))};g.N=function(){return this.i};g.P=function(){return 0+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};
g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Y=function(b,a){return Qd(Wd,a)?td.b(dd(W.b(Ud,this),this.i),a):new Gr(this.i,tf(td.b(this.g,a)),null)};g.T=function(b,a,c){return new Gr(this.i,O.f(this.g,a,c),null)};g.M=function(){return q(T.b(K,this.g))};g.O=function(b,a){return new Gr(a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};g.ga=!0;g.ha=function(b,a,c){return c};g.ia=function(b,a){return a};
function Hr(b,a,c,d){this.value=b;this.i=a;this.g=c;this.j=d;this.m=2229667594;this.C=8192}g=Hr.prototype;g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "value":return this.value;default:return Ac(this.g,a,c)}};g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.parser.Constant{",", ","}",c,T.b(new U(null,1,5,V,[new U(null,2,5,V,[hl,this.value],null)],null),this.g))};
g.U=function(){return new bh(0,this,1,new U(null,1,5,V,[hl],null),ic(this.g))};g.N=function(){return this.i};g.P=function(){return 1+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Y=function(b,a){return Qd(new Vd(null,new p(null,1,[hl,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new Hr(this.value,this.i,tf(td.b(this.g,a)),null)};
g.T=function(b,a,c){return r(S.b?S.b(hl,a):S.call(null,hl,a))?new Hr(c,this.i,this.g,null):new Hr(this.value,this.i,O.f(this.g,a,c),null)};g.M=function(){return q(T.b(new U(null,1,5,V,[new U(null,2,5,V,[hl,this.value],null)],null),this.g))};g.O=function(b,a){return new Hr(this.value,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};g.ga=!0;g.ha=function(b,a,c){return yr(a,this.value,J([c],0))};g.ia=function(b,a){return Y.b?Y.b(a,this.value):Y.call(null,a,this.value)};
function Ir(b,a,c,d){this.symbol=b;this.i=a;this.g=c;this.j=d;this.m=2229667594;this.C=8192}g=Ir.prototype;g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "symbol":return this.symbol;default:return Ac(this.g,a,c)}};g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.parser.PlainSymbol{",", ","}",c,T.b(new U(null,1,5,V,[new U(null,2,5,V,[Yk,this.symbol],null)],null),this.g))};
g.U=function(){return new bh(0,this,1,new U(null,1,5,V,[Yk],null),ic(this.g))};g.N=function(){return this.i};g.P=function(){return 1+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Y=function(b,a){return Qd(new Vd(null,new p(null,1,[Yk,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new Ir(this.symbol,this.i,tf(td.b(this.g,a)),null)};
g.T=function(b,a,c){return r(S.b?S.b(Yk,a):S.call(null,Yk,a))?new Ir(c,this.i,this.g,null):new Ir(this.symbol,this.i,O.f(this.g,a,c),null)};g.M=function(){return q(T.b(new U(null,1,5,V,[new U(null,2,5,V,[Yk,this.symbol],null)],null),this.g))};g.O=function(b,a){return new Ir(this.symbol,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};g.ga=!0;g.ha=function(b,a,c){return yr(a,this.symbol,J([c],0))};
g.ia=function(b,a){return Y.b?Y.b(a,this.symbol):Y.call(null,a,this.symbol)};function Jr(b){return b instanceof C&&G.b(E(Se(b)),"?")?new Dr(b,null,null,null):null}function Kr(b){return b instanceof C&&G.b(E(Se(b)),"$")?new Er(b,null,null,null):null}function Lr(b){return b instanceof C?null:new Hr(b,null,null,null)}function Mr(b){return b instanceof C&&Fa(Jr(b))&&Fa(Kr(b))&&Fa(G.b(Pl,b)?new Gr(null,null,null):null)&&Fa(G.b(Kl,b)?new Cr(null,null,null):null)?new Ir(b,null,null,null):null}
function Nr(b){return r(Mr(b))?new Dr(b,null,null,null):null}function Or(b){var a=Jr(b);if(r(a))return a;a=Lr(b);return r(a)?a:Kr(b)}function Pr(b,a,c,d,e){this.required=b;this.Bb=a;this.i=c;this.g=d;this.j=e;this.m=2229667594;this.C=8192}g=Pr.prototype;g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "required":return this.required;case "free":return this.Bb;default:return Ac(this.g,a,c)}};
g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.parser.RuleVars{",", ","}",c,T.b(new U(null,2,5,V,[new U(null,2,5,V,[wo,this.required],null),new U(null,2,5,V,[Sk,this.Bb],null)],null),this.g))};g.U=function(){return new bh(0,this,2,new U(null,2,5,V,[wo,Sk],null),ic(this.g))};g.N=function(){return this.i};g.P=function(){return 2+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};
g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Y=function(b,a){return Qd(new Vd(null,new p(null,2,[Sk,null,wo,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new Pr(this.required,this.Bb,this.i,tf(td.b(this.g,a)),null)};
g.T=function(b,a,c){return r(S.b?S.b(wo,a):S.call(null,wo,a))?new Pr(c,this.Bb,this.i,this.g,null):r(S.b?S.b(Sk,a):S.call(null,Sk,a))?new Pr(this.required,c,this.i,this.g,null):new Pr(this.required,this.Bb,this.i,O.f(this.g,a,c),null)};g.M=function(){return q(T.b(new U(null,2,5,V,[new U(null,2,5,V,[wo,this.required],null),new U(null,2,5,V,[Sk,this.Bb],null)],null),this.g))};g.O=function(b,a){return new Pr(this.required,this.Bb,a,this.g,this.j)};
g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};g.ga=!0;g.ha=function(b,a,c){return yr(a,this.Bb,J([yr(a,this.required,J([c],0))],0))};g.ia=function(b,a){var c=Y.b?Y.b(a,this.required):Y.call(null,a,this.required),d=this.Bb;return Y.b?Y.b(c,d):Y.call(null,c,d)};function Qr(b,a,c){this.i=b;this.g=a;this.j=c;this.m=2229667594;this.C=8192}g=Qr.prototype;g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a){default:return Ac(this.g,a,c)}};
g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.parser.BindIgnore{",", ","}",c,T.b(K,this.g))};g.U=function(){return new bh(0,this,0,K,ic(this.g))};g.N=function(){return this.i};g.P=function(){return 0+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};
g.Y=function(b,a){return Qd(Wd,a)?td.b(dd(W.b(Ud,this),this.i),a):new Qr(this.i,tf(td.b(this.g,a)),null)};g.T=function(b,a,c){return new Qr(this.i,O.f(this.g,a,c),null)};g.M=function(){return q(T.b(K,this.g))};g.O=function(b,a){return new Qr(a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};g.ga=!0;g.ha=function(b,a,c){return c};g.ia=function(b,a){return a};function Rr(b,a,c,d){this.qa=b;this.i=a;this.g=c;this.j=d;this.m=2229667594;this.C=8192}g=Rr.prototype;
g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "variable":return this.qa;default:return Ac(this.g,a,c)}};g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.parser.BindScalar{",", ","}",c,T.b(new U(null,1,5,V,[new U(null,2,5,V,[rk,this.qa],null)],null),this.g))};g.U=function(){return new bh(0,this,1,new U(null,1,5,V,[rk],null),ic(this.g))};g.N=function(){return this.i};
g.P=function(){return 1+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Y=function(b,a){return Qd(new Vd(null,new p(null,1,[rk,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new Rr(this.qa,this.i,tf(td.b(this.g,a)),null)};g.T=function(b,a,c){return r(S.b?S.b(rk,a):S.call(null,rk,a))?new Rr(c,this.i,this.g,null):new Rr(this.qa,this.i,O.f(this.g,a,c),null)};
g.M=function(){return q(T.b(new U(null,1,5,V,[new U(null,2,5,V,[rk,this.qa],null)],null),this.g))};g.O=function(b,a){return new Rr(this.qa,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};g.ga=!0;g.ha=function(b,a,c){return yr(a,this.qa,J([c],0))};g.ia=function(b,a){return Y.b?Y.b(a,this.qa):Y.call(null,a,this.qa)};function Sr(b,a,c,d){this.jb=b;this.i=a;this.g=c;this.j=d;this.m=2229667594;this.C=8192}g=Sr.prototype;g.G=function(b,a){return gb.f(this,a,null)};
g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "bindings":return this.jb;default:return Ac(this.g,a,c)}};g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.parser.BindTuple{",", ","}",c,T.b(new U(null,1,5,V,[new U(null,2,5,V,[Wk,this.jb],null)],null),this.g))};g.U=function(){return new bh(0,this,1,new U(null,1,5,V,[Wk],null),ic(this.g))};g.N=function(){return this.i};g.P=function(){return 1+M(this.g)};
g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Y=function(b,a){return Qd(new Vd(null,new p(null,1,[Wk,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new Sr(this.jb,this.i,tf(td.b(this.g,a)),null)};g.T=function(b,a,c){return r(S.b?S.b(Wk,a):S.call(null,Wk,a))?new Sr(c,this.i,this.g,null):new Sr(this.jb,this.i,O.f(this.g,a,c),null)};
g.M=function(){return q(T.b(new U(null,1,5,V,[new U(null,2,5,V,[Wk,this.jb],null)],null),this.g))};g.O=function(b,a){return new Sr(this.jb,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};g.ga=!0;g.ha=function(b,a,c){return yr(a,this.jb,J([c],0))};g.ia=function(b,a){return Y.b?Y.b(a,this.jb):Y.call(null,a,this.jb)};function Tr(b,a,c,d){this.ra=b;this.i=a;this.g=c;this.j=d;this.m=2229667594;this.C=8192}g=Tr.prototype;g.G=function(b,a){return gb.f(this,a,null)};
g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "binding":return this.ra;default:return Ac(this.g,a,c)}};g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.parser.BindColl{",", ","}",c,T.b(new U(null,1,5,V,[new U(null,2,5,V,[jm,this.ra],null)],null),this.g))};g.U=function(){return new bh(0,this,1,new U(null,1,5,V,[jm],null),ic(this.g))};g.N=function(){return this.i};g.P=function(){return 1+M(this.g)};
g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Y=function(b,a){return Qd(new Vd(null,new p(null,1,[jm,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new Tr(this.ra,this.i,tf(td.b(this.g,a)),null)};g.T=function(b,a,c){return r(S.b?S.b(jm,a):S.call(null,jm,a))?new Tr(c,this.i,this.g,null):new Tr(this.ra,this.i,O.f(this.g,a,c),null)};
g.M=function(){return q(T.b(new U(null,1,5,V,[new U(null,2,5,V,[jm,this.ra],null)],null),this.g))};g.O=function(b,a){return new Tr(this.ra,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};g.ga=!0;g.ha=function(b,a,c){return yr(a,this.ra,J([c],0))};g.ia=function(b,a){return Y.b?Y.b(a,this.ra):Y.call(null,a,this.ra)};function Ur(b){return G.b(Kl,b)?Ar(new Qr(null,null,null),b):null}
function Wr(b){if(r(function(){var a=vr(b,2);return r(a)?G.b(hd(b),ao):a}())){var a=function(){var a=E(b);return Xr.c?Xr.c(a):Xr.call(null,a)}();if(r(a))return Ar(new Tr(a,null,null,null),b);throw yj(""+t("Cannot parse collection binding"),new p(null,2,[vn,zn,Fn,b],null));}return null}function Yr(b){var a=Ur(b);return r(a)?a:Xr.c?Xr.c(b):Xr.call(null,b)}
function Zr(b){var a=wr(Yr,b);if(r(a)){if(Ad(a))throw yj(""+t("Tuple binding cannot be empty"),new p(null,2,[vn,zn,Fn,b],null));return Ar(new Sr(a,null,null,null),b)}return null}
function Xr(b){var a=Wr(b);if(r(a))return a;a=vr(b,1);a=r(a)?Dd(E(b)):a;a=r(a)?Ar(new Tr(Zr(E(b)),null,null,null),b):null;if(r(a))return a;a=Zr(b);if(r(a))return a;a=Ur(b);if(r(a))return a;a=Jr(b);a=r(a)?Ar(new Rr(a,null,null,null),b):null;if(r(a))return a;throw yj(""+t("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)"),new p(null,2,[vn,zn,Fn,b],null));}
var $r=function $r(a){if(null!=a&&null!=a.Jc)return a.Jc(a);var c=$r[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=$r._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ja("IFindVars.-find-vars",a);};Dr.prototype.Jc=function(){return new U(null,1,5,V,[this.symbol],null)};function as(b,a,c,d,e){this.$=b;this.Z=a;this.i=c;this.g=d;this.j=e;this.m=2229667594;this.C=8192}g=as.prototype;g.Jc=function(){return $r(md(this.Z))};g.G=function(b,a){return gb.f(this,a,null)};
g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "fn":return this.$;case "args":return this.Z;default:return Ac(this.g,a,c)}};g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.parser.Aggregate{",", ","}",c,T.b(new U(null,2,5,V,[new U(null,2,5,V,[lk,this.$],null),new U(null,2,5,V,[Cj,this.Z],null)],null),this.g))};g.U=function(){return new bh(0,this,2,new U(null,2,5,V,[lk,Cj],null),ic(this.g))};g.N=function(){return this.i};
g.P=function(){return 2+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Y=function(b,a){return Qd(new Vd(null,new p(null,2,[Cj,null,lk,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new as(this.$,this.Z,this.i,tf(td.b(this.g,a)),null)};
g.T=function(b,a,c){return r(S.b?S.b(lk,a):S.call(null,lk,a))?new as(c,this.Z,this.i,this.g,null):r(S.b?S.b(Cj,a):S.call(null,Cj,a))?new as(this.$,c,this.i,this.g,null):new as(this.$,this.Z,this.i,O.f(this.g,a,c),null)};g.M=function(){return q(T.b(new U(null,2,5,V,[new U(null,2,5,V,[lk,this.$],null),new U(null,2,5,V,[Cj,this.Z],null)],null),this.g))};g.O=function(b,a){return new as(this.$,this.Z,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};g.ga=!0;
g.ha=function(b,a,c){return yr(a,this.Z,J([yr(a,this.$,J([c],0))],0))};g.ia=function(b,a){var c=Y.b?Y.b(a,this.$):Y.call(null,a,this.$),d=this.Z;return Y.b?Y.b(c,d):Y.call(null,c,d)};function bs(b,a,c,d,e,f){this.source=b;this.qa=a;this.pattern=c;this.i=d;this.g=e;this.j=f;this.m=2229667594;this.C=8192}g=bs.prototype;g.Jc=function(){return $r(this.qa)};g.G=function(b,a){return gb.f(this,a,null)};
g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "source":return this.source;case "variable":return this.qa;case "pattern":return this.pattern;default:return Ac(this.g,a,c)}};g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.parser.Pull{",", ","}",c,T.b(new U(null,3,5,V,[new U(null,2,5,V,[Fl,this.source],null),new U(null,2,5,V,[rk,this.qa],null),new U(null,2,5,V,[Ho,this.pattern],null)],null),this.g))};
g.U=function(){return new bh(0,this,3,new U(null,3,5,V,[Fl,rk,Ho],null),ic(this.g))};g.N=function(){return this.i};g.P=function(){return 3+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};
g.Y=function(b,a){return Qd(new Vd(null,new p(null,3,[rk,null,Fl,null,Ho,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new bs(this.source,this.qa,this.pattern,this.i,tf(td.b(this.g,a)),null)};
g.T=function(b,a,c){return r(S.b?S.b(Fl,a):S.call(null,Fl,a))?new bs(c,this.qa,this.pattern,this.i,this.g,null):r(S.b?S.b(rk,a):S.call(null,rk,a))?new bs(this.source,c,this.pattern,this.i,this.g,null):r(S.b?S.b(Ho,a):S.call(null,Ho,a))?new bs(this.source,this.qa,c,this.i,this.g,null):new bs(this.source,this.qa,this.pattern,this.i,O.f(this.g,a,c),null)};
g.M=function(){return q(T.b(new U(null,3,5,V,[new U(null,2,5,V,[Fl,this.source],null),new U(null,2,5,V,[rk,this.qa],null),new U(null,2,5,V,[Ho,this.pattern],null)],null),this.g))};g.O=function(b,a){return new bs(this.source,this.qa,this.pattern,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};g.ga=!0;g.ha=function(b,a,c){return yr(a,this.pattern,J([yr(a,this.qa,J([yr(a,this.source,J([c],0))],0))],0))};
g.ia=function(b,a){var c;c=Y.b?Y.b(a,this.source):Y.call(null,a,this.source);var d=this.qa;c=Y.b?Y.b(c,d):Y.call(null,c,d);d=this.pattern;return Y.b?Y.b(c,d):Y.call(null,c,d)};var cs=function cs(a){if(null!=a&&null!=a.pc)return a.pc(a);var c=cs[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=cs._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ja("IFindElements.find-elements",a);};function ds(b,a,c,d){this.elements=b;this.i=a;this.g=c;this.j=d;this.m=2229667594;this.C=8192}g=ds.prototype;
g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "elements":return this.elements;default:return Ac(this.g,a,c)}};g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.parser.FindRel{",", ","}",c,T.b(new U(null,1,5,V,[new U(null,2,5,V,[Rl,this.elements],null)],null),this.g))};g.U=function(){return new bh(0,this,1,new U(null,1,5,V,[Rl],null),ic(this.g))};g.N=function(){return this.i};
g.P=function(){return 1+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Y=function(b,a){return Qd(new Vd(null,new p(null,1,[Rl,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new ds(this.elements,this.i,tf(td.b(this.g,a)),null)};g.pc=function(){return this.elements};
g.T=function(b,a,c){return r(S.b?S.b(Rl,a):S.call(null,Rl,a))?new ds(c,this.i,this.g,null):new ds(this.elements,this.i,O.f(this.g,a,c),null)};g.M=function(){return q(T.b(new U(null,1,5,V,[new U(null,2,5,V,[Rl,this.elements],null)],null),this.g))};g.O=function(b,a){return new ds(this.elements,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};g.ga=!0;g.ha=function(b,a,c){return yr(a,this.elements,J([c],0))};
g.ia=function(b,a){return Y.b?Y.b(a,this.elements):Y.call(null,a,this.elements)};function es(b,a,c,d){this.element=b;this.i=a;this.g=c;this.j=d;this.m=2229667594;this.C=8192}g=es.prototype;g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "element":return this.element;default:return Ac(this.g,a,c)}};
g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.parser.FindColl{",", ","}",c,T.b(new U(null,1,5,V,[new U(null,2,5,V,[Ck,this.element],null)],null),this.g))};g.U=function(){return new bh(0,this,1,new U(null,1,5,V,[Ck],null),ic(this.g))};g.N=function(){return this.i};g.P=function(){return 1+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};
g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Y=function(b,a){return Qd(new Vd(null,new p(null,1,[Ck,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new es(this.element,this.i,tf(td.b(this.g,a)),null)};g.pc=function(){return new U(null,1,5,V,[this.element],null)};g.T=function(b,a,c){return r(S.b?S.b(Ck,a):S.call(null,Ck,a))?new es(c,this.i,this.g,null):new es(this.element,this.i,O.f(this.g,a,c),null)};
g.M=function(){return q(T.b(new U(null,1,5,V,[new U(null,2,5,V,[Ck,this.element],null)],null),this.g))};g.O=function(b,a){return new es(this.element,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};g.ga=!0;g.ha=function(b,a,c){return yr(a,this.element,J([c],0))};g.ia=function(b,a){return Y.b?Y.b(a,this.element):Y.call(null,a,this.element)};function fs(b,a,c,d){this.element=b;this.i=a;this.g=c;this.j=d;this.m=2229667594;this.C=8192}g=fs.prototype;
g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "element":return this.element;default:return Ac(this.g,a,c)}};g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.parser.FindScalar{",", ","}",c,T.b(new U(null,1,5,V,[new U(null,2,5,V,[Ck,this.element],null)],null),this.g))};g.U=function(){return new bh(0,this,1,new U(null,1,5,V,[Ck],null),ic(this.g))};g.N=function(){return this.i};
g.P=function(){return 1+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Y=function(b,a){return Qd(new Vd(null,new p(null,1,[Ck,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new fs(this.element,this.i,tf(td.b(this.g,a)),null)};g.pc=function(){return new U(null,1,5,V,[this.element],null)};
g.T=function(b,a,c){return r(S.b?S.b(Ck,a):S.call(null,Ck,a))?new fs(c,this.i,this.g,null):new fs(this.element,this.i,O.f(this.g,a,c),null)};g.M=function(){return q(T.b(new U(null,1,5,V,[new U(null,2,5,V,[Ck,this.element],null)],null),this.g))};g.O=function(b,a){return new fs(this.element,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};g.ga=!0;g.ha=function(b,a,c){return yr(a,this.element,J([c],0))};
g.ia=function(b,a){return Y.b?Y.b(a,this.element):Y.call(null,a,this.element)};function gs(b,a,c,d){this.elements=b;this.i=a;this.g=c;this.j=d;this.m=2229667594;this.C=8192}g=gs.prototype;g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "elements":return this.elements;default:return Ac(this.g,a,c)}};
g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.parser.FindTuple{",", ","}",c,T.b(new U(null,1,5,V,[new U(null,2,5,V,[Rl,this.elements],null)],null),this.g))};g.U=function(){return new bh(0,this,1,new U(null,1,5,V,[Rl],null),ic(this.g))};g.N=function(){return this.i};g.P=function(){return 1+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};
g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Y=function(b,a){return Qd(new Vd(null,new p(null,1,[Rl,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new gs(this.elements,this.i,tf(td.b(this.g,a)),null)};g.pc=function(){return this.elements};g.T=function(b,a,c){return r(S.b?S.b(Rl,a):S.call(null,Rl,a))?new gs(c,this.i,this.g,null):new gs(this.elements,this.i,O.f(this.g,a,c),null)};
g.M=function(){return q(T.b(new U(null,1,5,V,[new U(null,2,5,V,[Rl,this.elements],null)],null),this.g))};g.O=function(b,a){return new gs(this.elements,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};g.ga=!0;g.ha=function(b,a,c){return yr(a,this.elements,J([c],0))};g.ia=function(b,a){return Y.b?Y.b(a,this.elements):Y.call(null,a,this.elements)};function hs(b){return b instanceof as}function is(b){return b instanceof bs}
function js(b){var a=Jr(b);if(r(a))return a;a:{if(Dd(b)&&G.b(E(b),Yj)){if(3<=M(b)&&4>=M(b)){var c=(a=G.b(M(b),4))?rd(b,1):Qm,a=a?F(F(b)):F(b),d=N(a,0),a=N(a,1),c=Kr(c),d=Jr(d);var e=Jr(a);r(e)?a=e:(e=Nr(a),a=r(e)?e:Lr(a));if(r(r(c)?r(d)?a:d:c)){a=new bs(c,d,a,null,null,null);break a}}throw yj(""+t("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable | plain-symbol)]"),new p(null,2,[vn,Oj,Ok,b],null));}a=null}if(r(a))return a;a:{if(Dd(b)&&G.b(E(b),Rj)){if(3<=M(b)&&(N(b,
0),c=N(b,1),a=Ee(b,2),c=Jr(c),a=wr(Or,a),r(r(c)?a:c))){a=new as(c,a,null,null,null);break a}throw yj(""+t("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]"),new p(null,2,[vn,Oj,Ok,b],null));}a=null}r(a)?b=a:Dd(b)&&2<=M(b)?(a=N(b,0),b=Ee(b,1),a=Mr(a),b=wr(Or,b),b=r(r(a)?b:a)?new as(a,b,null,null,null):null):b=null;return b}
function ks(b){var a;a=wr(js,b);a=null==a?null:new ds(a,null,null,null);if(r(a))return a;a:{if(Dd(b)&&G.b(M(b),1)&&(a=E(b),Dd(a)&&G.b(M(a),2)&&G.b(hd(a),ao))){a=js(E(a));a=null==a?null:new es(a,null,null,null);break a}a=null}if(r(a))return a;Dd(b)&&G.b(M(b),2)&&G.b(hd(b),Ln)?(a=js(E(b)),a=null==a?null:new fs(a,null,null,null)):a=null;if(r(a))return a;Dd(b)&&G.b(M(b),1)?(a=E(b),a=wr(js,a),a=null==a?null:new gs(a,null,null,null)):a=null;if(r(a))return a;throw yj(""+t("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)"),
new p(null,2,[vn,Oj,Ok,b],null));}function ls(b){var a;a=Kr(b);r(a)||(a=G.b(Pl,b)?new Gr(null,null,null):null,a=r(a)?a:Nr(b));return r(a)?Ar(new Rr(a,null,null,null),b):Xr(b)}function ms(b,a,c,d,e){this.source=b;this.pattern=a;this.i=c;this.g=d;this.j=e;this.m=2229667594;this.C=8192}g=ms.prototype;g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "source":return this.source;case "pattern":return this.pattern;default:return Ac(this.g,a,c)}};
g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.parser.Pattern{",", ","}",c,T.b(new U(null,2,5,V,[new U(null,2,5,V,[Fl,this.source],null),new U(null,2,5,V,[Ho,this.pattern],null)],null),this.g))};g.U=function(){return new bh(0,this,2,new U(null,2,5,V,[Fl,Ho],null),ic(this.g))};g.N=function(){return this.i};g.P=function(){return 2+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};
g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Y=function(b,a){return Qd(new Vd(null,new p(null,2,[Fl,null,Ho,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new ms(this.source,this.pattern,this.i,tf(td.b(this.g,a)),null)};
g.T=function(b,a,c){return r(S.b?S.b(Fl,a):S.call(null,Fl,a))?new ms(c,this.pattern,this.i,this.g,null):r(S.b?S.b(Ho,a):S.call(null,Ho,a))?new ms(this.source,c,this.i,this.g,null):new ms(this.source,this.pattern,this.i,O.f(this.g,a,c),null)};g.M=function(){return q(T.b(new U(null,2,5,V,[new U(null,2,5,V,[Fl,this.source],null),new U(null,2,5,V,[Ho,this.pattern],null)],null),this.g))};g.O=function(b,a){return new ms(this.source,this.pattern,a,this.g,this.j)};
g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};g.ga=!0;g.ha=function(b,a,c){return yr(a,this.pattern,J([yr(a,this.source,J([c],0))],0))};g.ia=function(b,a){var c=Y.b?Y.b(a,this.source):Y.call(null,a,this.source),d=this.pattern;return Y.b?Y.b(c,d):Y.call(null,c,d)};function ns(b,a,c,d,e){this.$=b;this.Z=a;this.i=c;this.g=d;this.j=e;this.m=2229667594;this.C=8192}g=ns.prototype;g.G=function(b,a){return gb.f(this,a,null)};
g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "fn":return this.$;case "args":return this.Z;default:return Ac(this.g,a,c)}};g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.parser.Predicate{",", ","}",c,T.b(new U(null,2,5,V,[new U(null,2,5,V,[lk,this.$],null),new U(null,2,5,V,[Cj,this.Z],null)],null),this.g))};g.U=function(){return new bh(0,this,2,new U(null,2,5,V,[lk,Cj],null),ic(this.g))};g.N=function(){return this.i};
g.P=function(){return 2+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Y=function(b,a){return Qd(new Vd(null,new p(null,2,[Cj,null,lk,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new ns(this.$,this.Z,this.i,tf(td.b(this.g,a)),null)};
g.T=function(b,a,c){return r(S.b?S.b(lk,a):S.call(null,lk,a))?new ns(c,this.Z,this.i,this.g,null):r(S.b?S.b(Cj,a):S.call(null,Cj,a))?new ns(this.$,c,this.i,this.g,null):new ns(this.$,this.Z,this.i,O.f(this.g,a,c),null)};g.M=function(){return q(T.b(new U(null,2,5,V,[new U(null,2,5,V,[lk,this.$],null),new U(null,2,5,V,[Cj,this.Z],null)],null),this.g))};g.O=function(b,a){return new ns(this.$,this.Z,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};g.ga=!0;
g.ha=function(b,a,c){return yr(a,this.Z,J([yr(a,this.$,J([c],0))],0))};g.ia=function(b,a){var c=Y.b?Y.b(a,this.$):Y.call(null,a,this.$),d=this.Z;return Y.b?Y.b(c,d):Y.call(null,c,d)};function os(b,a,c,d,e,f){this.$=b;this.Z=a;this.ra=c;this.i=d;this.g=e;this.j=f;this.m=2229667594;this.C=8192}g=os.prototype;g.G=function(b,a){return gb.f(this,a,null)};
g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "fn":return this.$;case "args":return this.Z;case "binding":return this.ra;default:return Ac(this.g,a,c)}};g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.parser.Function{",", ","}",c,T.b(new U(null,3,5,V,[new U(null,2,5,V,[lk,this.$],null),new U(null,2,5,V,[Cj,this.Z],null),new U(null,2,5,V,[jm,this.ra],null)],null),this.g))};
g.U=function(){return new bh(0,this,3,new U(null,3,5,V,[lk,Cj,jm],null),ic(this.g))};g.N=function(){return this.i};g.P=function(){return 3+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Y=function(b,a){return Qd(new Vd(null,new p(null,3,[Cj,null,lk,null,jm,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new os(this.$,this.Z,this.ra,this.i,tf(td.b(this.g,a)),null)};
g.T=function(b,a,c){return r(S.b?S.b(lk,a):S.call(null,lk,a))?new os(c,this.Z,this.ra,this.i,this.g,null):r(S.b?S.b(Cj,a):S.call(null,Cj,a))?new os(this.$,c,this.ra,this.i,this.g,null):r(S.b?S.b(jm,a):S.call(null,jm,a))?new os(this.$,this.Z,c,this.i,this.g,null):new os(this.$,this.Z,this.ra,this.i,O.f(this.g,a,c),null)};g.M=function(){return q(T.b(new U(null,3,5,V,[new U(null,2,5,V,[lk,this.$],null),new U(null,2,5,V,[Cj,this.Z],null),new U(null,2,5,V,[jm,this.ra],null)],null),this.g))};
g.O=function(b,a){return new os(this.$,this.Z,this.ra,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};g.ga=!0;g.ha=function(b,a,c){return yr(a,this.ra,J([yr(a,this.Z,J([yr(a,this.$,J([c],0))],0))],0))};g.ia=function(b,a){var c;c=Y.b?Y.b(a,this.$):Y.call(null,a,this.$);var d=this.Z;c=Y.b?Y.b(c,d):Y.call(null,c,d);d=this.ra;return Y.b?Y.b(c,d):Y.call(null,c,d)};
function ps(b,a,c,d,e,f){this.source=b;this.name=a;this.Z=c;this.i=d;this.g=e;this.j=f;this.m=2229667594;this.C=8192}g=ps.prototype;g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "source":return this.source;case "name":return this.name;case "args":return this.Z;default:return Ac(this.g,a,c)}};
g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.parser.RuleExpr{",", ","}",c,T.b(new U(null,3,5,V,[new U(null,2,5,V,[Fl,this.source],null),new U(null,2,5,V,[al,this.name],null),new U(null,2,5,V,[Cj,this.Z],null)],null),this.g))};g.U=function(){return new bh(0,this,3,new U(null,3,5,V,[Fl,al,Cj],null),ic(this.g))};g.N=function(){return this.i};g.P=function(){return 3+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};
g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Y=function(b,a){return Qd(new Vd(null,new p(null,3,[Cj,null,al,null,Fl,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new ps(this.source,this.name,this.Z,this.i,tf(td.b(this.g,a)),null)};
g.T=function(b,a,c){return r(S.b?S.b(Fl,a):S.call(null,Fl,a))?new ps(c,this.name,this.Z,this.i,this.g,null):r(S.b?S.b(al,a):S.call(null,al,a))?new ps(this.source,c,this.Z,this.i,this.g,null):r(S.b?S.b(Cj,a):S.call(null,Cj,a))?new ps(this.source,this.name,c,this.i,this.g,null):new ps(this.source,this.name,this.Z,this.i,O.f(this.g,a,c),null)};
g.M=function(){return q(T.b(new U(null,3,5,V,[new U(null,2,5,V,[Fl,this.source],null),new U(null,2,5,V,[al,this.name],null),new U(null,2,5,V,[Cj,this.Z],null)],null),this.g))};g.O=function(b,a){return new ps(this.source,this.name,this.Z,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};g.ga=!0;g.ha=function(b,a,c){return yr(a,this.Z,J([yr(a,this.name,J([yr(a,this.source,J([c],0))],0))],0))};
g.ia=function(b,a){var c;c=Y.b?Y.b(a,this.source):Y.call(null,a,this.source);var d=this.name;c=Y.b?Y.b(c,d):Y.call(null,c,d);d=this.Z;return Y.b?Y.b(c,d):Y.call(null,c,d)};function qs(b,a,c,d,e,f){this.source=b;this.ib=a;this.da=c;this.i=d;this.g=e;this.j=f;this.m=2229667594;this.C=8192}g=qs.prototype;g.G=function(b,a){return gb.f(this,a,null)};
g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "source":return this.source;case "vars":return this.ib;case "clauses":return this.da;default:return Ac(this.g,a,c)}};g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.parser.Not{",", ","}",c,T.b(new U(null,3,5,V,[new U(null,2,5,V,[Fl,this.source],null),new U(null,2,5,V,[Go,this.ib],null),new U(null,2,5,V,[Dn,this.da],null)],null),this.g))};
g.U=function(){return new bh(0,this,3,new U(null,3,5,V,[Fl,Go,Dn],null),ic(this.g))};g.N=function(){return this.i};g.P=function(){return 3+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};
g.Y=function(b,a){return Qd(new Vd(null,new p(null,3,[Fl,null,Dn,null,Go,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new qs(this.source,this.ib,this.da,this.i,tf(td.b(this.g,a)),null)};
g.T=function(b,a,c){return r(S.b?S.b(Fl,a):S.call(null,Fl,a))?new qs(c,this.ib,this.da,this.i,this.g,null):r(S.b?S.b(Go,a):S.call(null,Go,a))?new qs(this.source,c,this.da,this.i,this.g,null):r(S.b?S.b(Dn,a):S.call(null,Dn,a))?new qs(this.source,this.ib,c,this.i,this.g,null):new qs(this.source,this.ib,this.da,this.i,O.f(this.g,a,c),null)};
g.M=function(){return q(T.b(new U(null,3,5,V,[new U(null,2,5,V,[Fl,this.source],null),new U(null,2,5,V,[Go,this.ib],null),new U(null,2,5,V,[Dn,this.da],null)],null),this.g))};g.O=function(b,a){return new qs(this.source,this.ib,this.da,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};g.ga=!0;g.ha=function(b,a,c){return yr(a,this.da,J([yr(a,this.ib,J([yr(a,this.source,J([c],0))],0))],0))};
g.ia=function(b,a){var c;c=Y.b?Y.b(a,this.source):Y.call(null,a,this.source);var d=this.ib;c=Y.b?Y.b(c,d):Y.call(null,c,d);d=this.da;return Y.b?Y.b(c,d):Y.call(null,c,d)};function rs(b,a,c,d,e,f){this.source=b;this.fb=a;this.da=c;this.i=d;this.g=e;this.j=f;this.m=2229667594;this.C=8192}g=rs.prototype;g.G=function(b,a){return gb.f(this,a,null)};
g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "source":return this.source;case "rule-vars":return this.fb;case "clauses":return this.da;default:return Ac(this.g,a,c)}};g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.parser.Or{",", ","}",c,T.b(new U(null,3,5,V,[new U(null,2,5,V,[Fl,this.source],null),new U(null,2,5,V,[Rk,this.fb],null),new U(null,2,5,V,[Dn,this.da],null)],null),this.g))};
g.U=function(){return new bh(0,this,3,new U(null,3,5,V,[Fl,Rk,Dn],null),ic(this.g))};g.N=function(){return this.i};g.P=function(){return 3+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};
g.Y=function(b,a){return Qd(new Vd(null,new p(null,3,[Rk,null,Fl,null,Dn,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new rs(this.source,this.fb,this.da,this.i,tf(td.b(this.g,a)),null)};
g.T=function(b,a,c){return r(S.b?S.b(Fl,a):S.call(null,Fl,a))?new rs(c,this.fb,this.da,this.i,this.g,null):r(S.b?S.b(Rk,a):S.call(null,Rk,a))?new rs(this.source,c,this.da,this.i,this.g,null):r(S.b?S.b(Dn,a):S.call(null,Dn,a))?new rs(this.source,this.fb,c,this.i,this.g,null):new rs(this.source,this.fb,this.da,this.i,O.f(this.g,a,c),null)};
g.M=function(){return q(T.b(new U(null,3,5,V,[new U(null,2,5,V,[Fl,this.source],null),new U(null,2,5,V,[Rk,this.fb],null),new U(null,2,5,V,[Dn,this.da],null)],null),this.g))};g.O=function(b,a){return new rs(this.source,this.fb,this.da,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};g.ga=!0;g.ha=function(b,a,c){return yr(a,this.da,J([yr(a,this.fb,J([yr(a,this.source,J([c],0))],0))],0))};
g.ia=function(b,a){var c;c=Y.b?Y.b(a,this.source):Y.call(null,a,this.source);var d=this.fb;c=Y.b?Y.b(c,d):Y.call(null,c,d);d=this.da;return Y.b?Y.b(c,d):Y.call(null,c,d)};function ss(b,a,c,d){this.da=b;this.i=a;this.g=c;this.j=d;this.m=2229667594;this.C=8192}g=ss.prototype;g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "clauses":return this.da;default:return Ac(this.g,a,c)}};
g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.parser.And{",", ","}",c,T.b(new U(null,1,5,V,[new U(null,2,5,V,[Dn,this.da],null)],null),this.g))};g.U=function(){return new bh(0,this,1,new U(null,1,5,V,[Dn],null),ic(this.g))};g.N=function(){return this.i};g.P=function(){return 1+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};
g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Y=function(b,a){return Qd(new Vd(null,new p(null,1,[Dn,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new ss(this.da,this.i,tf(td.b(this.g,a)),null)};g.T=function(b,a,c){return r(S.b?S.b(Dn,a):S.call(null,Dn,a))?new ss(c,this.i,this.g,null):new ss(this.da,this.i,O.f(this.g,a,c),null)};g.M=function(){return q(T.b(new U(null,1,5,V,[new U(null,2,5,V,[Dn,this.da],null)],null),this.g))};
g.O=function(b,a){return new ss(this.da,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};g.ga=!0;g.ha=function(b,a,c){return yr(a,this.da,J([c],0))};g.ia=function(b,a){return Y.b?Y.b(a,this.da):Y.call(null,a,this.da)};function ts(b){var a=G.b(Kl,b)?new Cr(null,null,null):null;if(r(a))return a;a=Jr(b);return r(a)?a:Lr(b)}
function us(b){if(Dd(b)){var a=Kr(E(b));return r(a)?new U(null,2,5,V,[a,F(b)],null):new U(null,2,5,V,[new Fr(null,null,null),b],null)}return null}function vs(b){if(Dd(b)){var a=N(b,0);b=Ee(b,1);b=null==b?K:b;var c=Mr(a),a=r(c)?c:Jr(a);b=wr(Or,b);return r(r(a)?b:a)?new U(null,2,5,V,[a,b],null):null}return null}var Y=function Y(a,c){return c instanceof Dr?nd.b(a,c):c instanceof qs?W.b(a,Go.c(c)):c instanceof rs?Y(a,Rk.c(c)):(null!=c?c.ga||(c.ab?0:Ga(sr,c)):Ga(sr,c))?ur(c,a):Dd(c)?v(Y,a,c):a};
function ws(b){return Y(K,b)}function xs(b,a,c){a=Ro.b(Ai(b),Ai(ws(a)));if(!Ad(a))throw yj([t("Join variable not declared inside clauses: "),t(X.h(J([jg(Yk,a)],0)))].join(""),new p(null,2,[vn,Fk,Fn,c],null));if(Ad(b))throw yj(""+t("Join variables should not be empty"),new p(null,2,[vn,Fk,Fn,c],null));}function ys(b,a){xs(Go.c(b),Dn.c(b),a);return b}
function zs(b,a){for(var c=null!=b&&(b.m&64||b.Ia)?lf(Nf,b):b,d=Cc(c,Rk),e=null!=d&&(d.m&64||d.Ia)?lf(Nf,d):d,d=Cc(e,wo),e=Cc(e,Sk),f=Cc(c,Dn),c=T.b(d,e),d=q(f),e=null,h=f=0;;)if(h<f){var k=e.L(null,h);xs(c,new U(null,1,5,V,[k],null),a);h+=1}else if(d=q(d))e=d,P(e)?(d=z(e),h=B(e),e=d,f=M(d),d=h):(d=E(e),xs(c,new U(null,1,5,V,[d],null),a),d=F(e),e=null,f=0),h=0;else break;return b}
function Vf(b){if(Dd(b)&&G.b(yo,E(b))){var a;a=F(b);a=As.c?As.c(a):As.call(null,a);if(r(tf(a)))return new ss(a,null,null,null);throw yj(""+t("Cannot parse 'and' clause, expected [ 'and' clause+ ]"),new p(null,2,[vn,Fk,Fn,b],null));}return null}
function Wf(b){var a;a:{var c=us(b);if(r(c)){a=N(c,0);var d=N(c,1),c=N(d,0),d=Ee(d,1);if(G.b(Am,c)){c=As.c?As.c(d):As.call(null,d);if(r(c)){a=ys(Ar(new qs(a,ge(Ci.c(ws(c))),c,null,null,null),b),b);break a}throw yj(""+t("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]"),new p(null,2,[vn,Fk,Fn,b],null));}}a=null}if(r(a))return a;a:{c=us(b);if(r(c)){a=N(c,0);var e=N(c,1),c=N(e,0),d=N(e,1),e=Ee(e,2);if(G.b(Vm,c)){c=wr(Jr,d);d=As.c?As.c(e):As.call(null,e);if(r(r(c)?d:c)){a=ys(Ar(new qs(a,
c,d,null,null,null),b),b);break a}throw yj(""+t("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]"),new p(null,2,[vn,Fk,Fn,b],null));}}a=null}if(r(a))return a;a:{c=us(b);if(r(c)&&(a=N(c,0),d=N(c,1),c=N(d,0),d=Ee(d,1),G.b(bm,c))){c=wr(Uf(),d);if(r(c)){a=zs(Ar(new rs(a,new Pr(null,ge(Ci.c(ws(c))),null,null,null),c,null,null,null),b),b);break a}throw yj(""+t("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]"),new p(null,2,[vn,Fk,Fn,b],null));}a=null}if(r(a))return a;
a:{c=us(b);if(r(c)&&(a=N(c,0),d=N(c,1),e=N(d,0),c=N(d,1),d=Ee(d,2),G.b(yl,e))){if(Dd(c)){var f=Dd(E(c))?new U(null,2,5,V,[E(c),F(c)],null):new U(null,2,5,V,[null,c],null),e=N(f,0),f=N(f,1),e=wr(Jr,e),f=wr(Jr,f);if(Ad(e)&&Ad(f))throw yj(""+t("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]"),new p(null,2,[vn,Mk,Fn,c],null));if(!r(zr(T.b(e,f))))throw yj(""+t("Rule variables should be distinct"),new p(null,2,[vn,Mk,Fn,c],null));c=new Pr(e,f,null,null,null)}else throw yj(""+
t("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]"),new p(null,2,[vn,Mk,Fn,c],null));d=wr(Uf(),d);if(r(r(c)?d:c)){a=zs(Ar(new rs(a,c,d,null,null,null),b),b);break a}throw yj(""+t("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]"),new p(null,2,[vn,Fk,Fn,b],null));}a=null}if(r(a))return a;a:{if(r(vr(b,1))&&(c=vs(E(b)),r(c))){a=N(c,0);c=N(c,1);a=Ar(new ns(a,c,null,null,null),b);break a}a=null}if(r(a))return a;a:{if(r(vr(b,2))&&(c=N(b,0),
a=N(b,1),d=vs(c),r(d))){c=N(d,0);d=N(d,1);a=Xr(a);a=r(a)?Ar(new os(c,d,a,null,null,null),b):null;break a}a=null}if(r(a))return a;a:{c=us(b);if(r(c)&&(a=N(c,0),c=N(c,1),d=N(c,0),c=Ee(c,1),d=Mr(d),e=wr(ts,c),r(d))){if(Ad(c))throw yj(""+t("rule-expr requires at least one argument"),new p(null,2,[vn,Fk,Fn,b],null));if(null==e)throw yj(""+t("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]"),new p(null,2,[vn,Fk,Fn,b],null));a=new ps(a,d,e,null,null,null);break a}a=null}if(r(a))return a;
a:{c=us(b);if(r(c)&&(a=N(c,0),c=N(c,1),c=wr(ts,c),r(c))){if(Ad(c))throw yj(""+t("Pattern could not be empty"),new p(null,2,[vn,Fk,Fn,b],null));a=Ar(new ms(a,c,null,null,null),b);break a}a=null}if(r(a))return a;throw yj(""+t("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)"),new p(null,2,[vn,Fk,Fn,b],null));}function As(b){return wr(Wf,b)}
function Bs(b,a,c,d,e,f,h){this.find=b;this.Za=a;this.Ua=c;this.Ya=d;this.i=e;this.g=f;this.j=h;this.m=2229667594;this.C=8192}g=Bs.prototype;g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "find":return this.find;case "with":return this.Za;case "in":return this.Ua;case "where":return this.Ya;default:return Ac(this.g,a,c)}};
g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.parser.Query{",", ","}",c,T.b(new U(null,4,5,V,[new U(null,2,5,V,[Ej,this.find],null),new U(null,2,5,V,[Rm,this.Za],null),new U(null,2,5,V,[Fo,this.Ua],null),new U(null,2,5,V,[jk,this.Ya],null)],null),this.g))};g.U=function(){return new bh(0,this,4,new U(null,4,5,V,[Ej,Rm,Fo,jk],null),ic(this.g))};g.N=function(){return this.i};g.P=function(){return 4+M(this.g)};
g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Y=function(b,a){return Qd(new Vd(null,new p(null,4,[Ej,null,jk,null,Rm,null,Fo,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new Bs(this.find,this.Za,this.Ua,this.Ya,this.i,tf(td.b(this.g,a)),null)};
g.T=function(b,a,c){return r(S.b?S.b(Ej,a):S.call(null,Ej,a))?new Bs(c,this.Za,this.Ua,this.Ya,this.i,this.g,null):r(S.b?S.b(Rm,a):S.call(null,Rm,a))?new Bs(this.find,c,this.Ua,this.Ya,this.i,this.g,null):r(S.b?S.b(Fo,a):S.call(null,Fo,a))?new Bs(this.find,this.Za,c,this.Ya,this.i,this.g,null):r(S.b?S.b(jk,a):S.call(null,jk,a))?new Bs(this.find,this.Za,this.Ua,c,this.i,this.g,null):new Bs(this.find,this.Za,this.Ua,this.Ya,this.i,O.f(this.g,a,c),null)};
g.M=function(){return q(T.b(new U(null,4,5,V,[new U(null,2,5,V,[Ej,this.find],null),new U(null,2,5,V,[Rm,this.Za],null),new U(null,2,5,V,[Fo,this.Ua],null),new U(null,2,5,V,[jk,this.Ya],null)],null),this.g))};g.O=function(b,a){return new Bs(this.find,this.Za,this.Ua,this.Ya,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};g.ga=!0;g.ha=function(b,a,c){return yr(a,this.Ya,J([yr(a,this.Ua,J([yr(a,this.Za,J([yr(a,this.find,J([c],0))],0))],0))],0))};
g.ia=function(b,a){return Y(Y(Y(Y(a,this.find),this.Za),this.Ua),this.Ya)};function Cs(b){for(var a=Ud,c=null;;){var d=E(b);if(r(d))d instanceof R?c=d:a=qg.S(a,new U(null,1,5,V,[c],null),Jf(nd,K),d),b=F(b);else return a}}
function Ds(b,a){var c=Ai(ws(Ej.c(b))),d=Ai(Rm.c(b)),e=Ai(ws(Fo.c(b))),f=Ai(ws(jk.c(b))),e=Ro.b(Po(c,d),Po(f,e)),c=Qo.b(c,d);if(!Ad(e))throw yj([t("Query for unknown vars: "),t(X.h(J([jg(Yk,e)],0)))].join(""),new p(null,3,[vn,Lo,Go,e,Fn,a],null));if(!Ad(c))throw yj([t(":in and :with should not use same variables: "),t(X.h(J([jg(Yk,c)],0)))].join(""),new p(null,3,[vn,Lo,Go,c,Fn,a],null));var h=ws(Fo.c(b)),k=xr(function(){return function(a){return a instanceof Er}}(h),Fo.c(b)),l=xr(function(){return function(a){return a instanceof
Gr}}(h,k),Fo.c(b));if(!r(function(){var a=zr(h);return r(a)?(a=zr(k),r(a)?zr(l):a):a}()))throw yj(""+t("Vars used in :in should be distinct"),new p(null,2,[vn,Lo,Fn,a],null));c=ws(Rm.c(b));if(!r(zr(c)))throw yj(""+t("Vars used in :with should be distinct"),new p(null,2,[vn,Lo,Fn,a],null));c=yr(function(a){return a instanceof Er},Fo.c(b),J([Wd],0));d=yr(function(){return function(a){return a instanceof Er}}(c),jk.c(b),J([Wd],0));c=Ro.b(d,c);if(!Ad(c))throw yj([t("Where uses unknown source vars: "),
t(X.h(J([jg(Yk,c)],0)))].join(""),new p(null,3,[vn,Lo,Go,c,Fn,a],null));c=xr(function(a){return a instanceof ps},jk.c(b));d=xr(function(){return function(a){return a instanceof Gr}}(c),Fo.c(b));if(!Ad(c)&&Ad(d))throw yj(""+t("Missing rules var '%' in :in"),new p(null,2,[vn,Lo,Fn,a],null));};function Es(b,a,c,d,e){this.Wb=b;this.yd=a;this.Ad=c;this.xd=d;this.ta=e;this.m=2147484416;this.C=0}g=Es.prototype;g.T=function(b,a,c){return Fs.f?Fs.f(this,a,c):Fs.call(null,this,a,c)};g.Rb=function(b,a){return hb(this.Wb,a)};g.G=function(b,a){return gb.f(this.Wb,a,null)};g.F=function(b,a,c){return gb.f(this.Wb,a,c)};g.I=function(b,a,c){return Tb(Yb(this.Wb),a,c)};function Gs(b,a,c,d,e){return new Es(b,a,c,d,e)}
function Fs(b,a,c){var d=b.Wb,e=b.yd,f=b.Ad,h=b.xd;b=b.ta;var k=f.b?f.b(a,null):f.call(null,a,null);if(r(k))return Gs(d,O.f(td.b(e,k),h,a),O.f(f,a,h),h+1,b);a=Gs(O.f(d,a,c),O.f(e,h,a),O.f(f,a,h),h+1,b);return Hs.c?Hs.c(a):Hs.call(null,a)}function Hs(b){if(M(b.Wb)>b.ta){var a=b.Wb,c=b.yd,d=b.Ad,e=b.xd;b=b.ta;var f=E(c),h=N(f,0),f=N(f,1);return Gs(td.b(a,f),td.b(c,h),td.b(d,f),e,b)}return b};function Is(b,a,c,d,e){this.bc=b;this.Ea=a;this.i=c;this.g=d;this.j=e;this.m=2229667594;this.C=8192}g=Is.prototype;g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "wildcard?":return this.bc;case "attrs":return this.Ea;default:return Ac(this.g,a,c)}};
g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.pull-parser.PullSpec{",", ","}",c,T.b(new U(null,2,5,V,[new U(null,2,5,V,[Xn,this.bc],null),new U(null,2,5,V,[on,this.Ea],null)],null),this.g))};g.U=function(){return new bh(0,this,2,new U(null,2,5,V,[Xn,on],null),ic(this.g))};g.N=function(){return this.i};g.P=function(){return 2+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};
g.w=function(b,a){var c;c=a?(c=this.constructor===a.constructor)?ah(this,a):c:a;return c?!0:!1};g.Y=function(b,a){return Qd(new Vd(null,new p(null,2,[on,null,Xn,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new Is(this.bc,this.Ea,this.i,tf(td.b(this.g,a)),null)};g.T=function(b,a,c){return(S.b?S.b(Xn,a):S.call(null,Xn,a))?new Is(c,this.Ea,this.i,this.g,null):(S.b?S.b(on,a):S.call(null,on,a))?new Is(this.bc,c,this.i,this.g,null):new Is(this.bc,this.Ea,this.i,O.f(this.g,a,c),null)};
g.M=function(){return q(T.b(new U(null,2,5,V,[new U(null,2,5,V,[Xn,this.bc],null),new U(null,2,5,V,[on,this.Ea],null)],null),this.g))};g.O=function(b,a){return new Is(this.bc,this.Ea,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};var Js=function Js(a){if(null!=a&&null!=a.Jb)return a.Jb(a);var c=Js[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=Js._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ja("IPullSpecComponent.-as-spec",a);};
function Ks(b,a,c,d){this.X=b;this.i=a;this.g=c;this.j=d;this.m=2229667594;this.C=8192}g=Ks.prototype;g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "attr":return this.X;default:return Ac(this.g,a,c)}};g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.pull-parser.PullAttrName{",", ","}",c,T.b(new U(null,1,5,V,[new U(null,2,5,V,[Mo,this.X],null)],null),this.g))};
g.U=function(){return new bh(0,this,1,new U(null,1,5,V,[Mo],null),ic(this.g))};g.N=function(){return this.i};g.P=function(){return 1+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Jb=function(){return new U(null,2,5,V,[this.X,new p(null,1,[Mo,this.X],null)],null)};
g.Y=function(b,a){return Qd(new Vd(null,new p(null,1,[Mo,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new Ks(this.X,this.i,tf(td.b(this.g,a)),null)};g.T=function(b,a,c){return r(S.b?S.b(Mo,a):S.call(null,Mo,a))?new Ks(c,this.i,this.g,null):new Ks(this.X,this.i,O.f(this.g,a,c),null)};g.M=function(){return q(T.b(new U(null,1,5,V,[new U(null,2,5,V,[Mo,this.X],null)],null),this.g))};g.O=function(b,a){return new Ks(this.X,a,this.g,this.j)};
g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};function Ls(b,a,c,d,e){this.X=b;this.Ob=a;this.i=c;this.g=d;this.j=e;this.m=2229667594;this.C=8192}g=Ls.prototype;g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "attr":return this.X;case "rattr":return this.Ob;default:return Ac(this.g,a,c)}};
g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.pull-parser.PullReverseAttrName{",", ","}",c,T.b(new U(null,2,5,V,[new U(null,2,5,V,[Mo,this.X],null),new U(null,2,5,V,[yk,this.Ob],null)],null),this.g))};g.U=function(){return new bh(0,this,2,new U(null,2,5,V,[Mo,yk],null),ic(this.g))};g.N=function(){return this.i};g.P=function(){return 2+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};
g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Jb=function(){return new U(null,2,5,V,[this.Ob,new p(null,1,[Mo,this.X],null)],null)};g.Y=function(b,a){return Qd(new Vd(null,new p(null,2,[yk,null,Mo,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new Ls(this.X,this.Ob,this.i,tf(td.b(this.g,a)),null)};
g.T=function(b,a,c){return r(S.b?S.b(Mo,a):S.call(null,Mo,a))?new Ls(c,this.Ob,this.i,this.g,null):r(S.b?S.b(yk,a):S.call(null,yk,a))?new Ls(this.X,c,this.i,this.g,null):new Ls(this.X,this.Ob,this.i,O.f(this.g,a,c),null)};g.M=function(){return q(T.b(new U(null,2,5,V,[new U(null,2,5,V,[Mo,this.X],null),new U(null,2,5,V,[yk,this.Ob],null)],null),this.g))};g.O=function(b,a){return new Ls(this.X,this.Ob,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};
function Ms(b,a,c,d,e){this.X=b;this.ta=a;this.i=c;this.g=d;this.j=e;this.m=2229667594;this.C=8192}g=Ms.prototype;g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "attr":return this.X;case "limit":return this.ta;default:return Ac(this.g,a,c)}};
g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.pull-parser.PullLimitExpr{",", ","}",c,T.b(new U(null,2,5,V,[new U(null,2,5,V,[Mo,this.X],null),new U(null,2,5,V,[Dk,this.ta],null)],null),this.g))};g.U=function(){return new bh(0,this,2,new U(null,2,5,V,[Mo,Dk],null),ic(this.g))};g.N=function(){return this.i};g.P=function(){return 2+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};
g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Jb=function(){return pg(Js(this.X),new U(null,2,5,V,[1,Dk],null),this.ta)};g.Y=function(b,a){return Qd(new Vd(null,new p(null,2,[Dk,null,Mo,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new Ms(this.X,this.ta,this.i,tf(td.b(this.g,a)),null)};
g.T=function(b,a,c){return r(S.b?S.b(Mo,a):S.call(null,Mo,a))?new Ms(c,this.ta,this.i,this.g,null):r(S.b?S.b(Dk,a):S.call(null,Dk,a))?new Ms(this.X,c,this.i,this.g,null):new Ms(this.X,this.ta,this.i,O.f(this.g,a,c),null)};g.M=function(){return q(T.b(new U(null,2,5,V,[new U(null,2,5,V,[Mo,this.X],null),new U(null,2,5,V,[Dk,this.ta],null)],null),this.g))};g.O=function(b,a){return new Ms(this.X,this.ta,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};
function Ns(b,a,c,d,e){this.X=b;this.value=a;this.i=c;this.g=d;this.j=e;this.m=2229667594;this.C=8192}g=Ns.prototype;g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "attr":return this.X;case "value":return this.value;default:return Ac(this.g,a,c)}};
g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.pull-parser.PullDefaultExpr{",", ","}",c,T.b(new U(null,2,5,V,[new U(null,2,5,V,[Mo,this.X],null),new U(null,2,5,V,[hl,this.value],null)],null),this.g))};g.U=function(){return new bh(0,this,2,new U(null,2,5,V,[Mo,hl],null),ic(this.g))};g.N=function(){return this.i};g.P=function(){return 2+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};
g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Jb=function(){return pg(Js(this.X),new U(null,2,5,V,[1,Qk],null),this.value)};g.Y=function(b,a){return Qd(new Vd(null,new p(null,2,[hl,null,Mo,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new Ns(this.X,this.value,this.i,tf(td.b(this.g,a)),null)};
g.T=function(b,a,c){return r(S.b?S.b(Mo,a):S.call(null,Mo,a))?new Ns(c,this.value,this.i,this.g,null):r(S.b?S.b(hl,a):S.call(null,hl,a))?new Ns(this.X,c,this.i,this.g,null):new Ns(this.X,this.value,this.i,O.f(this.g,a,c),null)};g.M=function(){return q(T.b(new U(null,2,5,V,[new U(null,2,5,V,[Mo,this.X],null),new U(null,2,5,V,[hl,this.value],null)],null),this.g))};g.O=function(b,a){return new Ns(this.X,this.value,a,this.g,this.j)};
g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};function Os(b,a,c){this.i=b;this.g=a;this.j=c;this.m=2229667594;this.C=8192}g=Os.prototype;g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a){default:return Ac(this.g,a,c)}};g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.pull-parser.PullWildcard{",", ","}",c,T.b(K,this.g))};g.U=function(){return new bh(0,this,0,K,ic(this.g))};g.N=function(){return this.i};
g.P=function(){return 0+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Y=function(b,a){return Qd(Wd,a)?td.b(dd(W.b(Ud,this),this.i),a):new Os(this.i,tf(td.b(this.g,a)),null)};g.T=function(b,a,c){return new Os(this.i,O.f(this.g,a,c),null)};g.M=function(){return q(T.b(K,this.g))};g.O=function(b,a){return new Os(a,this.g,this.j)};
g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};function Ps(b,a,c,d){this.ta=b;this.i=a;this.g=c;this.j=d;this.m=2229667594;this.C=8192}g=Ps.prototype;g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "limit":return this.ta;default:return Ac(this.g,a,c)}};
g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.pull-parser.PullRecursionLimit{",", ","}",c,T.b(new U(null,1,5,V,[new U(null,2,5,V,[Dk,this.ta],null)],null),this.g))};g.U=function(){return new bh(0,this,1,new U(null,1,5,V,[Dk],null),ic(this.g))};g.N=function(){return this.i};g.P=function(){return 1+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};
g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Jb=function(){return new U(null,2,5,V,[tm,this.ta],null)};g.Y=function(b,a){return Qd(new Vd(null,new p(null,1,[Dk,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new Ps(this.ta,this.i,tf(td.b(this.g,a)),null)};g.T=function(b,a,c){return r(S.b?S.b(Dk,a):S.call(null,Dk,a))?new Ps(c,this.i,this.g,null):new Ps(this.ta,this.i,O.f(this.g,a,c),null)};
g.M=function(){return q(T.b(new U(null,1,5,V,[new U(null,2,5,V,[Dk,this.ta],null)],null),this.g))};g.O=function(b,a){return new Ps(this.ta,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};function Qs(b,a,c,d,e){this.X=b;this.Nb=a;this.i=c;this.g=d;this.j=e;this.m=2229667594;this.C=8192}g=Qs.prototype;g.G=function(b,a){return gb.f(this,a,null)};
g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "attr":return this.X;case "porrl":return this.Nb;default:return Ac(this.g,a,c)}};g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.pull-parser.PullMapSpecEntry{",", ","}",c,T.b(new U(null,2,5,V,[new U(null,2,5,V,[Mo,this.X],null),new U(null,2,5,V,[om,this.Nb],null)],null),this.g))};g.U=function(){return new bh(0,this,2,new U(null,2,5,V,[Mo,om],null),ic(this.g))};g.N=function(){return this.i};
g.P=function(){return 2+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Jb=function(){return sg(Js(this.X),1,nd,Js(this.Nb))};g.Y=function(b,a){return Qd(new Vd(null,new p(null,2,[om,null,Mo,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new Qs(this.X,this.Nb,this.i,tf(td.b(this.g,a)),null)};
g.T=function(b,a,c){return r(S.b?S.b(Mo,a):S.call(null,Mo,a))?new Qs(c,this.Nb,this.i,this.g,null):r(S.b?S.b(om,a):S.call(null,om,a))?new Qs(this.X,c,this.i,this.g,null):new Qs(this.X,this.Nb,this.i,O.f(this.g,a,c),null)};g.M=function(){return q(T.b(new U(null,2,5,V,[new U(null,2,5,V,[Mo,this.X],null),new U(null,2,5,V,[om,this.Nb],null)],null),this.g))};g.O=function(b,a){return new Qs(this.X,this.Nb,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};
function Rs(b,a){return a instanceof Os?O.f(b,Xn,!0):sg(b,on,hf,Js(a))}function at(b,a,c,d){this.Zb=b;this.i=a;this.g=c;this.j=d;this.m=2229667594;this.C=8192}g=at.prototype;g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "specs":return this.Zb;default:return Ac(this.g,a,c)}};
g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.pull-parser.PullPattern{",", ","}",c,T.b(new U(null,1,5,V,[new U(null,2,5,V,[bn,this.Zb],null)],null),this.g))};g.U=function(){return new bh(0,this,1,new U(null,1,5,V,[bn],null),ic(this.g))};g.N=function(){return this.i};g.P=function(){return 1+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};
g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Jb=function(){var b=new Is(!1,Vb(Ud),null,null,null),b=v(Rs,b,this.Zb);return new U(null,2,5,V,[rn,rg(b,on,gf)],null)};g.Y=function(b,a){return Qd(new Vd(null,new p(null,1,[bn,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new at(this.Zb,this.i,tf(td.b(this.g,a)),null)};
g.T=function(b,a,c){return r(S.b?S.b(bn,a):S.call(null,bn,a))?new at(c,this.i,this.g,null):new at(this.Zb,this.i,O.f(this.g,a,c),null)};g.M=function(){return q(T.b(new U(null,1,5,V,[new U(null,2,5,V,[bn,this.Zb],null)],null),this.g))};g.O=function(b,a){return new at(this.Zb,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};var bt=new Vd(null,new p(null,3,[ak,null,"*",null,dl,null],null),null);
function ct(b){return b instanceof R||"string"===typeof b?hr(b)?new Ls(ir(b),b,null,null,null):new Ks(b,null,null,null):null}var dt=new Vd(null,new p(null,2,["...",null,ao,null],null),null);function et(b){return Dd(b)&&G.b(3,M(b))}var ft=new Vd(null,new p(null,3,[vl,null,Dk,null,"limit",null],null),null);
function gt(b){var a=N(b,0),c=N(b,1),d=N(b,2);if(r(ft.c?ft.c(a):ft.call(null,a))){c=(a=null==d||"number"===typeof d&&0<d)?ct(c):a;if(r(c))return new Ms(c,d,null,null,null);throw yj(""+t('Expected ["limit" attr-name (positive-number | nil)]'),new p(null,2,[vn,eo,Ok,b],null));}return null}var ht=new Vd(null,new p(null,3,[Xl,null,Qk,null,"default",null],null),null);
function it(b){var a=N(b,0),c=N(b,1);b=function(){var b=ct(a);return r(b)?b:r(et(a))?gt(a):null}();if(r(b)){var d=function(){var a;a=r(dt.c?dt.c(c):dt.call(null,c))?new Ps(null,null,null,null):"number"===typeof c&&0<c?new Ps(c,null,null,null):null;return r(a)?a:jt.c?jt.c(c):jt.call(null,c)}();if(r(d))return new Qs(b,d,null,null,null);throw yj(""+t("Expected (pattern | recursion-limit)"),new p(null,2,[vn,eo,Ok,new U(null,2,5,V,[a,c],null)],null));}throw yj(""+t("Expected (attr-name | limit-expr)"),
new p(null,2,[vn,eo,Ok,new U(null,2,5,V,[a,c],null)],null));}
function kt(b){var a=ct(b);if(r(a))return a;a=r(bt.c?bt.c(b):bt.call(null,b))?new Os(null,null,null):null;if(r(a))return a;a=Ed(b)?it(E(b)):null;if(r(a))return a;if(r(et(b))){if(a=gt(b),!r(a))b:{var c=N(b,0),d=N(b,1),a=N(b,2);if(r(ht.c?ht.c(c):ht.call(null,c))){c=ht.c?ht.c(c):ht.call(null,c);d=r(c)?ct(d):c;if(r(d)){a=new Ns(d,a,null,null,null);break b}throw yj(""+t('Expected ["default" attr-name any-value]'),new p(null,2,[vn,eo,Ok,b],null));}a=null}}else a=null;if(r(a))return a;throw yj(""+t("Cannot parse attr-spec, expected: (attr-name | wildcard | map-spec | attr-expr)"),
new p(null,2,[vn,eo,Ok,b],null));}function lt(b){return Ed(b)?mo:r(bt.c?bt.c(b):bt.call(null,b))?ok:Vk}function mt(b){return W.f(K,Xf.c(function(a){return nd.b(Ud,a)}),b)}function nt(b){b=vj(lt,b);var a=r(tf(Cc(b,ok)))?new U(null,1,5,V,[dl],null):K;return W.f(W.b(a,Cc(b,Vk)),Hf.b(Xf.c(mt),jj),Cc(b,mo))}function jt(b){return Dd(b)?new at(W.f(K,Xf.c(kt),nt(b)),null,null,null):null}
function ot(b){var a;a=null==b?null:jt(b);a=null==a?null:rd(Js(a),1);if(r(a))return a;throw yj(""+t("Cannot parse pull pattern, expected: [attr-spec+]"),new p(null,2,[vn,eo,Ok,b],null));};function pt(b,a){return v(hf,b,a)}function ut(b,a,c){return sd([ik,wl,Al,tm,bn,Xn,qo,Ho,No],[c,a,Ho,new p(null,2,[wn,Ud,um,Wd],null),q(on.c(b)),Xn.c(b),Vb(Ud),b,Vb(K)])}function vt(b,a,c,d){return O.f(ut(b,a,c),Mo,d)}function wt(b,a,c){var d=Ho.c(b);return O.h(b,wl,a,J([bn,q(on.c(d)),Xn,Xn.c(d),qo,Vb(Ud),No,function(){var a=No.c(b);return q(c)?hf.b(a,c):a}()],0))}
function cu(b,a,c){var d=null!=b&&(b.m&64||b.Ia)?lf(Nf,b):b,e=Cc(d,wn),d=Cc(d,um);return O.h(b,wn,rg(e,a,Jf(Nc,0)),J([um,nd.b(d,c)],0))}function du(b,a,c){var d;d=Qd(og(b,new U(null,2,5,V,[tm,um],null),Wd),c);return r(d)?nd.b(a,sg(b,No,hf,new p(null,1,[ln,c],null))):null}function eu(b,a){var c=qo.c(a),c=null==c?null:Yb(c);return null==c?null:Cc(c,b)}var fu=If(eu,jl);function gu(b,a){var c=Mo.c(b),c=cu(tm.c(b),c,a);return O.f(vt(Ho.c(b),new U(null,1,5,V,[a],null),!1,jl),tm,c)}
function hu(b){var a=N(b,0);b=Ee(b,1);var c=q(wl.c(a));if(c){var a=wt(a,Ec(c),fu.c?fu.c(a):fu.call(null,a)),c=E(c),d=du(a,b,c);return r(d)?d:nd.h(b,a,J([gu(a,c)],0))}c=fu.c?fu.c(a):fu.call(null,a);d=No.c(a);c=q(c)?hf.b(d,c):d;return nd.b(b,O.h(a,Al,qk,J([No,c],0)))}function iu(b,a,c,d,e){var f=null!=d&&(d.m&64||d.Ia)?lf(Nf,d):d,h=Cc(f,tm),f=Cc(f,Ho),k=Ac(Cc(h,wn),b,0);return G.b(tm.c(Cc(on.c(f),b)),k)?nd.b(e,d):hu(nd.h(e,d,J([new p(null,7,[Al,tm,Ho,f,Mo,b,ik,a,wl,c,tm,h,No,Vb(K)],null)],0)))}
var ju=function(b){return function(a,c,d,e,f){a=cu(tm.c(a),d,c);return O.f(vt(b,f,e,d),tm,a)}}(new Is(!0,Ud,null,null,null));
function ku(b,a,c,d,e,f,h,k){var l=N(k,0),m=Ee(k,1),n=Ac(h,Dk,1E3),u=tf(r(n)?W.f(K,Yf(n),f):f);if(r(u)){var y=Vq(b,c),A=y&&Zq(b,c,Il),D=r(e)?Zq(b,c,Tn):!A,x=r(e)?function(){return function(a){return a.v}}(y,A,D,n,u,k,l,m):function(){return function(a){return a.e}}(y,A,D,n,u,k,l,m);if(Qd(h,rn))return nd.h(m,l,J([vt(rn.c(h),jg(x,u),D,a)],0));if(Qd(h,tm))return iu(a,D,jg(x,u),l,m);if(r(A?e:A))return nd.h(m,l,J([ju(l,d,a,D,jg(x,u))],0));var L=function(){return y?Hf.b(function(){return function(a){return sd([ln],
[a])}}(x,y,A,D,x,n,u,k,l,m),x):x}(),I=!D;return nd.b(m,tg(l,qo,jf,a,function(){var a=W.f(K,Xf.c(L),u);return I?E(a):a}()))}return nd.b(m,Qd(h,Qk)?tg(l,qo,jf,a,Qk.c(h)):l)}var lu=gg(function(b){var a=N(b,0);b=N(b,1);return sf.b(a,Mo.c(b))});function mu(b,a,c){return vt(O.h(Ho.c(b),on,c,J([Xn,!1],0)),new U(null,1,5,V,[a],null),!1,ck)}function nu(b,a){return nd.b(Ec(b),sg(E(b),qo,pt,Yb(a)))}function ou(b){var a=N(b,0);b=Ee(b,1);var c=Vj.c(a),a=eu(ck,a);return nu(b,pt(c,r(a)?a:Ud))}
function pu(b,a){var c=N(a,0),d=Ee(a,1),e=q(Bo.c(c));if(e){var f=E(e),e=N(f,0),f=N(f,1),h=Ac(ng(c,new U(null,2,5,V,[Ho,on],null)),e,Ud);return ku(b,e,e,Mn.c(c),!0,f,h,nd.b(d,rg(c,Bo,Ec)))}e=tf(W.f(Ud,lu,ng(c,new U(null,2,5,V,[Ho,on],null))));return r(e)?(c=O.h(c,Al,kl,J([Vj,qo.c(c),qo,Vb(Ud)],0)),nd.h(d,c,J([mu(c,Mn.c(c),e)],0))):nu(d,qo.c(c))}
function qu(b,a,c,d,e){var f=vj(function(a){return a.a},uq(b,Ul,new U(null,1,5,V,[d],null))),h=null!=a&&(a.m&64||a.Ia)?lf(Nf,a):a,k=Cc(h,Mo),h=Cc(h,tm),k=null!=k?cu(h,k,d):h;return pu(b,nd.h(c,a,J([new p(null,6,[Al,jo,qo,ff(new p(null,1,[ln,d],null)),Mn,d,Ho,e,Bo,q(f),tm,k],null)],0)))}
function ru(b,a){for(;;){var c=a,d=N(c,0),e=Ee(c,1);if(c=q(wl.c(d))){if(r(Xn.c(d))){var f=b,d=O.h(d,bn,K,J([Mn,E(c),Xn,!1],0)),c=e,h=null!=d&&(d.m&64||d.Ia)?lf(Nf,d):d,e=Cc(h,Mn),h=Cc(h,Ho),k=du(d,c,e);return r(k)?k:qu(f,d,c,e,h)}if(f=q(bn.c(d))){h=f;f=E(h);Ho.c(d);e=nd.b(e,O.f(d,bn,Ec(h)));d=b;h=f;c=E(c);f=N(h,0);h=N(h,1);if(G.b(ln,f))d=r(tf(uq(d,Ul,new U(null,1,5,V,[c],null))))?nd.b(Ec(e),tg(E(e),qo,jf,ln,c)):e;else var k=Mo.c(h),l=G.b(f,k),m=l?uq(d,Ul,new U(null,2,5,V,[c,k],null)):uq(d,Zk,new U(null,
2,5,V,[k,c],null)),d=ku(d,f,k,c,l,m,h,e);return d}f=b;d=nd.b(e,wt(d,Ec(c),tf(gf(qo.c(d)))));b=f;a=d}else return nd.b(e,O.f(d,Al,qk))}}
function su(b,a){for(;;)switch(Al.c(E(a))instanceof R?Al.c(E(a)).V:null){case "expand":var c=b,d=pu(b,a);b=c;a=d;continue;case "expand-rev":c=b;d=ou(a);b=c;a=d;continue;case "pattern":c=b;d=ru(b,a);b=c;a=d;continue;case "recursion":c=b;d=hu(a);b=c;a=d;continue;case "done":var c=a,e=N(c,0),f=Ee(c,1),h=function(){var a=gf(No.c(e));return Fa(ik.c(e))?E(a):a}();if(q(f)){c=b;d=nd.b(Ec(f),function(){var a=E(f);return r(h)?tg(a,qo,jf,Mo.c(e),h):a}());b=c;a=d;continue}else return h;default:throw Error([t("No matching clause: "),
t(Al.c(E(a)))].join(""));}}function tu(b,a,c,d){c=W.f(K,Xf.c(function(a){return Wq(b,a)}),c);return su(b,$a(Fc,ut(a,c,d)))}function uu(b,a,c){return tu(b,ot(a),new U(null,1,5,V,[c],null),!1)}function vu(b,a,c){return tu(b,ot(a),c,!0)};var wu=function wu(a){if(null!=a&&null!=a.sd)return a.sd();var c=wu[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=wu._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ja("PushbackReader.read-char",a);},xu=function xu(a,c){if(null!=a&&null!=a.td)return a.td(0,c);var d=xu[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=xu._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ja("PushbackReader.unread",a);};
function yu(b,a,c){this.aa=b;this.buffer=a;this.Ra=c}yu.prototype.sd=function(){return 0===this.buffer.length?(this.Ra+=1,this.aa[this.Ra]):this.buffer.pop()};yu.prototype.td=function(b,a){return this.buffer.push(a)};function zu(b){var a=!/[^\t\n\r ]/.test(b);return r(a)?a:","===b}function Au(b){throw Error(lf(t,b));}
function Bu(b,a){for(var c=new ha(a),d=wu(b);;){var e;if(!(e=null==d||zu(d))){e=d;var f="#"!==e;e=f?(f="'"!==e)?(f=":"!==e)?Cu.c?Cu.c(e):Cu.call(null,e):f:f:f}if(e)return xu(b,d),c.toString();c.append(d);d=wu(b)}}function Du(b){for(;;){var a=wu(b);if("\n"===a||"\r"===a||null==a)return b}}var Eu=Pi("^([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+))(N)?$"),Fu=Pi("^([-+]?[0-9]+)/([0-9]+)$"),Gu=Pi("^([-+]?[0-9]+(\\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?$"),Hu=Pi("^[:]?([^0-9/].*/)?([^0-9/][^/]*)$");
function Iu(b,a){var c=b.exec(a);return null!=c&&c[0]===a?1===c.length?c[0]:c:null}var Ju=Pi("^[0-9A-Fa-f]{2}$"),Ku=Pi("^[0-9A-Fa-f]{4}$");function Lu(b,a,c){return r(Ni(b,c))?c:Au(J(["Unexpected unicode escape \\",a,c],0))}function Mu(b){return String.fromCharCode(parseInt(b,16))}
function Nu(b){var a=wu(b),c="t"===a?"\t":"r"===a?"\r":"n"===a?"\n":"\\"===a?"\\":'"'===a?'"':"b"===a?"\b":"f"===a?"\f":null;r(c)?a=c:"x"===a?(b=(new ha(wu(b),wu(b))).toString(),a=Mu(Lu(Ju,a,b))):"u"===a?(b=(new ha(wu(b),wu(b),wu(b),wu(b))).toString(),a=Mu(Lu(Ku,a,b))):a=/[^0-9]/.test(a)?Au(J(["Unexpected unicode escape \\",a],0)):String.fromCharCode(a);return a}
function Ou(b,a){for(var c=Vb(K);;){var d;a:{d=zu;for(var e=a,f=wu(e);;)if(r(d.c?d.c(f):d.call(null,f)))f=wu(e);else{d=f;break a}}r(d)||Au(J(["EOF while reading"],0));if(b===d)return Yb(c);e=Cu.c?Cu.c(d):Cu.call(null,d);r(e)?d=e.b?e.b(a,d):e.call(null,a,d):(xu(a,d),d=Pu.S?Pu.S(a,!0,null,!0):Pu.call(null,a,!0,null));c=d===a?c:hf.b(c,d)}}function Qu(b,a){return Au(J(["Reader for ",a," not implemented yet"],0))}
function Ru(b,a){var c=wu(b),d=Su.c?Su.c(c):Su.call(null,c);if(r(d))return d.b?d.b(b,a):d.call(null,b,a);d=Tu.b?Tu.b(b,c):Tu.call(null,b,c);return r(d)?d:Au(J(["No dispatch macro for ",c],0))}function Uu(b,a){return Au(J(["Unmatched delimiter ",a],0))}function Vu(b){return lf(Ne,Ou(")",b))}function Wu(b){return Ou("]",b)}function Xu(b){b=Ou("}",b);Ff(M(b))&&Au(J(["Map literal must contain an even number of forms"],0));return lf(Nf,b)}
function Yu(b){for(var a=new ha,c=wu(b);;){if(null==c)return Au(J(["EOF while reading"],0));if("\\"===c)a.append(Nu(b));else{if('"'===c)return a.toString();a.append(c)}c=wu(b)}}
function Zu(b){for(var a=new ha,c=wu(b);;){if(null==c)return Au(J(["EOF while reading"],0));if("\\"===c){a.append(c);var d=wu(b);if(null==d)return Au(J(["EOF while reading"],0));var e=function(){var b=a;b.append(d);return b}(),f=wu(b)}else{if('"'===c)return a.toString();e=function(){var b=a;b.append(c);return b}();f=wu(b)}a=e;c=f}}
function $u(b,a){var c=Bu(b,a),d=-1!=c.indexOf("/");r(r(d)?1!==c.length:d)?c=Dc.b(Fe.f(c,0,c.indexOf("/")),Fe.f(c,c.indexOf("/")+1,c.length)):(d=Dc.c(c),c="nil"===c?null:"true"===c?!0:"false"===c?!1:"/"===c?en:d);return c}function av(b,a){var c=Bu(b,a),d=Fe.b(c,1);return 1===d.length?d:"tab"===d?"\t":"return"===d?"\r":"newline"===d?"\n":"space"===d?" ":"backspace"===d?"\b":"formfeed"===d?"\f":"u"===d.charAt(0)?Mu(Fe.b(d,1)):"o"===d.charAt(0)?Qu(0,c):Au(J(["Unknown character literal: ",c],0))}
function bv(b){b=Bu(b,wu(b));var a=Iu(Hu,b);b=a[0];var c=a[1],a=a[2];return void 0!==c&&":/"===c.substring(c.length-2,c.length)||":"===a[a.length-1]||-1!==b.indexOf("::",1)?Au(J(["Invalid token: ",b],0)):null!=c&&0<c.length?Re.b(c.substring(0,c.indexOf("/")),a):Re.c(b)}function cv(b){return function(a){return $a($a(Fc,Pu.S?Pu.S(a,!0,null,!0):Pu.call(null,a,!0,null)),b)}}function dv(){return function(){return Au(J(["Unreadable form"],0))}}
function ev(b){var a;a=Pu.S?Pu.S(b,!0,null,!0):Pu.call(null,b,!0,null);a=a instanceof C?new p(null,1,[Hn,a],null):"string"===typeof a?new p(null,1,[Hn,a],null):a instanceof R?ph([a,!0]):a;Ed(a)||Au(J(["Metadata must be Symbol,Keyword,String or Map"],0));b=Pu.S?Pu.S(b,!0,null,!0):Pu.call(null,b,!0,null);return(null!=b?b.m&262144||b.ne||(b.m?0:Ga(Cb,b)):Ga(Cb,b))?dd(b,ti.h(J([wd(b),a],0))):Au(J(["Metadata can only be applied to IWithMetas"],0))}function fv(b){return Ai(Ou("}",b))}
function gv(b){return Pi(Zu(b))}function hv(b){Pu.S?Pu.S(b,!0,null,!0):Pu.call(null,b,!0,null);return b}function Cu(b){return'"'===b?Yu:":"===b?bv:";"===b?Du:"'"===b?cv(Af):"@"===b?cv(io):"^"===b?ev:"`"===b?Qu:"~"===b?Qu:"("===b?Vu:")"===b?Uu:"["===b?Wu:"]"===b?Uu:"{"===b?Xu:"}"===b?Uu:"\\"===b?av:"#"===b?Ru:null}function Su(b){return"{"===b?fv:"\x3c"===b?dv():'"'===b?gv:"!"===b?Du:"_"===b?hv:null}
function Pu(b,a,c){for(;;){var d=wu(b);if(null==d)return r(a)?Au(J(["EOF while reading"],0)):c;if(!zu(d))if(";"===d)b=Du.b?Du.b(b,d):Du.call(null,b);else{var e=Cu(d);if(r(e))e=e.b?e.b(b,d):e.call(null,b,d);else{var e=b,f=void 0;!(f=!/[^0-9]/.test(d))&&(f=void 0,f="+"===d||"-"===d)&&(f=wu(e),xu(e,f),f=!/[^0-9]/.test(f));if(f)a:for(e=b,d=new ha(d),f=wu(e);;){var h;h=null==f;h||(h=(h=zu(f))?h:Cu.c?Cu.c(f):Cu.call(null,f));if(r(h)){xu(e,f);d=e=d.toString();f=void 0;r(Iu(Eu,d))?(d=Iu(Eu,d),f=d[2],null!=
(G.b(f,"")?null:f)?f=0:(f=r(d[3])?[d[3],10]:r(d[4])?[d[4],16]:r(d[5])?[d[5],8]:r(d[6])?[d[7],parseInt(d[6],10)]:[null,null],h=f[0],null==h?f=null:(f=parseInt(h,f[1]),f="-"===d[1]?-f:f))):(f=void 0,r(Iu(Fu,d))?(d=Iu(Fu,d),f=parseInt(d[1],10)/parseInt(d[2],10)):f=r(Iu(Gu,d))?parseFloat(d):null);d=f;e=r(d)?d:Au(J(["Invalid number format [",e,"]"],0));break a}d.append(f);f=wu(e)}else e=$u(b,d)}if(e!==b)return e}}}
function iv(b){if("string"!==typeof b)throw Error("Cannot read from non-string object.");return Pu(new yu(b,[],-1),!1,null)}var jv=function(b,a){return function(c,d){return Cc(d?a:b,c)}}(new U(null,13,5,V,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),new U(null,13,5,V,[null,31,29,31,30,31,30,31,31,30,31,30,31],null)),kv=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;function lv(b){b=parseInt(b,10);return Fa(isNaN(b))?b:null}
function mv(b,a,c,d){b<=a&&a<=c||Au(J([[t(d),t(" Failed:  "),t(b),t("\x3c\x3d"),t(a),t("\x3c\x3d"),t(c)].join("")],0));return a}
function nv(b){var a=Ni(kv,b);N(a,0);var c=N(a,1),d=N(a,2),e=N(a,3),f=N(a,4),h=N(a,5),k=N(a,6),l=N(a,7),m=N(a,8),n=N(a,9),u=N(a,10);if(Fa(a))return Au(J([[t("Unrecognized date/time syntax: "),t(b)].join("")],0));var y=lv(c),A=function(){var a=lv(d);return a?a:1}();b=function(){var a=lv(e);return a?a:1}();var a=function(){var a=lv(f);return a?a:0}(),c=function(){var a=lv(h);return a?a:0}(),D=function(){var a=lv(k);return r(a)?a:0}(),x=function(){var a;a:if(G.b(3,M(l)))a=l;else if(3<M(l))a=Fe.f(l,0,
3);else for(a=new ha(l);;)if(3>a.Hb.length)a=a.append("0");else{a=a.toString();break a}a=lv(a);return r(a)?a:0}(),m=(G.b(m,"-")?-1:1)*(60*function(){var a=lv(n);return r(a)?a:0}()+function(){var a=lv(u);return r(a)?a:0}());return new U(null,8,5,V,[y,mv(1,A,12,"timestamp month field must be in range 1..12"),mv(1,b,function(){var a;if(a=0===xe(y,4))a=(a=Fa(0===xe(y,100)))?a:0===xe(y,400);return jv.b?jv.b(A,a):jv.call(null,A,a)}(),"timestamp day field must be in range 1..last day in month"),mv(0,a,23,
"timestamp hour field must be in range 0..23"),mv(0,c,59,"timestamp minute field must be in range 0..59"),mv(0,D,G.b(c,59)?60:59,"timestamp second field must be in range 0..60"),mv(0,x,999,"timestamp millisecond field must be in range 0..999"),m],null)}
var ov,pv=new p(null,4,["inst",function(b){var a;if("string"===typeof b)if(a=nv(b),r(a)){b=N(a,0);var c=N(a,1),d=N(a,2),e=N(a,3),f=N(a,4),h=N(a,5),k=N(a,6);a=N(a,7);a=new Date(Date.UTC(b,c-1,d,e,f,h,k)-6E4*a)}else a=Au(J([[t("Unrecognized date/time syntax: "),t(b)].join("")],0));else a=Au(J(["Instance literal expects a string for its timestamp."],0));return a},"uuid",function(b){return"string"===typeof b?new wj(b,null):Au(J(["UUID literal expects a string as its representation."],0))},"queue",function(b){return Gd(b)?
W.b(Yg,b):Au(J(["Queue literal expects a vector for its elements."],0))},"js",function(b){if(Gd(b)){var a=[];b=q(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.L(null,e);a.push(f);e+=1}else if(b=q(b))c=b,P(c)?(b=z(c),e=B(c),c=b,d=M(b),b=e):(b=E(c),a.push(b),b=F(c),c=null,d=0),e=0;else break;return a}if(Ed(b)){a={};b=q(b);c=null;for(e=d=0;;)if(e<d){var h=c.L(null,e),f=N(h,0),h=N(h,1);a[Se(f)]=h;e+=1}else if(b=q(b))P(b)?(d=z(b),b=B(b),c=d,d=M(d)):(d=E(b),c=N(d,0),d=N(d,1),a[Se(c)]=d,b=F(b),c=null,d=0),
e=0;else break;return a}return Au(J([[t("JS literal expects a vector or map containing "),t("only string or unqualified keyword keys")].join("")],0))}],null);ov=Mf?Mf(pv):Lf.call(null,pv);var qv=Mf?Mf(null):Lf.call(null,null);
function Tu(b,a){var c=$u(b,a),d=Cc(H.c?H.c(ov):H.call(null,ov),""+t(c)),e=H.c?H.c(qv):H.call(null,qv);return r(d)?(c=Pu(b,!0,null),d.c?d.c(c):d.call(null,c)):r(e)?(d=Pu(b,!0,null),e.b?e.b(c,d):e.call(null,c,d)):Au(J(["Could not find tag parser for ",""+t(c)," in ",X.h(J([lh(H.c?H.c(ov):H.call(null,ov))],0))],0))}function rv(b,a){var c=""+t(b);Cc(H.c?H.c(ov):H.call(null,ov),c);Qf.S(ov,O,c,a)};function sv(b,a){var c;if(c="number"===typeof a||Dd(a)?$q(b,a):null){var d=Sf(!1),e=Sf(Ud);return tv.S?tv.S(b,c,d,e):tv.call(null,b,c,d,e)}return null}function uv(b,a,c){return Zq(b,a,Tn)?Vq(b,a)?v(function(a,c){return nd.b(a,sv(b,kk.c(c)))},Wd,c):v(function(a,b){return nd.b(a,kk.c(b))},Wd,c):Vq(b,a)?sv(b,kk.c(E(c))):kk.c(E(c))}
function vv(b,a,c,d){a=tf(sq(b,new U(null,3,5,V,[null,c,a],null)));return r(a)?Zq(b,c,Il)?sv(b,Nl.c(E(a))):v(function(){return function(a,c){return nd.b(a,sv(b,Nl.c(c)))}}(a,a),Wd,a):d}function wv(b){return r(b)?be(b):null}
function xv(b){yv.c?yv.c(b):yv.call(null,b);return function c(d){return new Te(null,function(){for(;;){var e=q(d);if(e){if(P(e)){var f=z(e),h=M(f),k=Xe(h);a:for(var l=0;;)if(l<h){var m=w.b(f,l),n=N(m,0),m=N(m,1),n=Zq(b.db,n,Tn)?new U(null,2,5,V,[n,wv(m)],null):new U(null,2,5,V,[n,m],null);k.add(n);l+=1}else{f=!0;break a}return f?Ze(bf(k),c(B(e))):Ze(bf(k),null)}f=E(e);k=N(f,0);f=N(f,1);return bd(Zq(b.db,k,Tn)?new U(null,2,5,V,[k,wv(f)],null):new U(null,2,5,V,[k,f],null),c(Ec(e)))}return null}},null,
null)}(function(){var c=b.cache;return H.c?H.c(c):H.call(null,c)}())}function zv(b,a,c,d){this.db=b;this.eid=a;this.dd=c;this.cache=d;this.m=2162164483;this.C=0}g=zv.prototype;g.entry_set=function(){return be(Xf.b(be,xv(this)))};
g.forEach=function(){function b(a,b){for(var c=q(xv(this)),h=null,k=0,l=0;;)if(l<k){var m=h.L(null,l),n=N(m,0),m=N(m,1);a.call(b,m,n,this);l+=1}else if(c=q(c))P(c)?(h=z(c),c=B(c),n=h,k=M(h),h=n):(h=E(c),n=N(h,0),m=N(h,1),a.call(b,m,n,this),c=F(c),h=null,k=0),l=0;else return null}function a(a){for(var b=q(xv(this)),c=null,h=0,k=0;;)if(k<h){var l=c.L(null,k),m=N(l,0),l=N(l,1);a.f?a.f(l,m,this):a.call(null,l,m,this);k+=1}else if(b=q(b))P(b)?(c=z(b),b=B(b),m=c,h=M(c),c=m):(c=E(b),m=N(c,0),l=N(c,1),a.f?
a.f(l,m,this):a.call(null,l,m,this),b=F(b),c=null,h=0),k=0;else return null}var c=null,c=function(c,e){switch(arguments.length){case 1:return a.call(this,c);case 2:return b.call(this,c,e)}throw Error("Invalid arity: "+arguments.length);};c.c=a;c.b=b;return c}();g.get=function(b){if(G.b(b,":db/id"))return this.eid;if(hr(b))return wv(vv(this.db,this.eid,ir(b),null));var a=Av?Av(this,b):Bv.call(null,this,b);return Zq(this.db,b,Tn)?wv(a):a};g.key_set=function(){return be(lh(this))};g.entries=function(){return fh(xv(this))};
g.value_set=function(){return be(Xf.b(hd,xv(this)))};g.toString=function(){return kc(this)};g.keys=function(){return Hc(lh(this))};g.values=function(){return Hc(Xf.b(hd,xv(this)))};g.equiv=function(b){return Cv.b?Cv.b(this,b):Cv.call(null,this,b)};g.has=function(b){return null!=this.get(b)};g.w=function(b,a){return Cv.b?Cv.b(this,a):Cv.call(null,this,a)};g.K=function(){return wc(this.eid)};g.M=function(){yv.c?yv.c(this):yv.call(null,this);return q(H.c?H.c(this.cache):H.call(null,this.cache))};
g.P=function(){yv.c?yv.c(this):yv.call(null,this);return M(H.c?H.c(this.cache):H.call(null,this.cache))};g.G=function(b,a){return Dv?Dv(this,a,null):Bv.call(null,this,a,null)};g.F=function(b,a,c){return Dv?Dv(this,a,c):Bv.call(null,this,a,c)};g.Rb=function(b,a){return sf.b(qn,Dv?Dv(this,a,qn):Bv.call(null,this,a,qn))};
g.call=function(){function b(a,b,c){return Dv?Dv(this,b,c):Bv.call(null,this,b,c)}function a(a,b){return Av?Av(this,b):Bv.call(null,this,b)}var c=null,c=function(c,e,f){switch(arguments.length){case 2:return a.call(this,0,e);case 3:return b.call(this,0,e,f)}throw Error("Invalid arity: "+arguments.length);};c.b=a;c.f=b;return c}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Ra(a)))};g.c=function(b){return Av?Av(this,b):Bv.call(null,this,b)};
g.b=function(b,a){return Dv?Dv(this,b,a):Bv.call(null,this,b,a)};g.I=function(b,a,c){return Tb(O.f(H.c?H.c(this.cache):H.call(null,this.cache),ln,this.eid),a,c)};function tv(b,a,c,d){return new zv(b,a,c,d)}function Cv(b,a){return a instanceof zv&&G.b(b.eid,a.eid)}
function Bv(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 2:return Av(arguments[0],arguments[1]);case 3:return Dv(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(a.length)].join(""));}}function Av(b,a){return Dv(b,a,null)}
function Dv(b,a,c){if(G.b(a,ln))return b.eid;if(hr(a))return vv(b.db,b.eid,ir(a),c);var d=function(){var a=b.cache;return H.c?H.c(a):H.call(null,a)}().call(null,a);if(r(d))return d;if(r(function(){var a=b.dd;return H.c?H.c(a):H.call(null,a)}()))return c;d=tf(sq(b.db,new U(null,2,5,V,[b.eid,a],null)));r(d)&&(c=uv(b.db,a,d),Tf(b.cache,O.f(function(){var a=b.cache;return H.c?H.c(a):H.call(null,a)}(),a,c)));return c}
function Ev(b,a){return ie(function(a,d,e){return O.f(a,d,Zq(b,d,Il)?Zq(b,d,Tn)?Ai(Xf.b(yv,e)):yv.c?yv.c(e):yv.call(null,e):e)},Ud,a)}function Fv(b,a){return v(function(a,d){var e=zo.c(E(d));return O.f(a,e,uv(b,e,d))},Ud,Li(zo,a))}function yv(b){var a;a=b.dd;a=H.c?H.c(a):H.call(null,a);r(a)||(a=tf(sq(b.db,new U(null,1,5,V,[b.eid],null))),r(a)&&(a=Ev(b.db,Fv(b.db,a)),hc(b.cache,a),hc(b.dd,!0)));return b}fa("datascript.impl.entity.Entity.prototype.get",zv.prototype.get);
fa("datascript.impl.entity.Entity.prototype.has",zv.prototype.has);fa("datascript.impl.entity.Entity.prototype.forEach",zv.prototype.forEach);fa("datascript.impl.entity.Entity.prototype.key_set",zv.prototype.key_set);fa("datascript.impl.entity.Entity.prototype.value_set",zv.prototype.value_set);fa("datascript.impl.entity.Entity.prototype.entry_set",zv.prototype.entry_set);fa("datascript.impl.entity.Entity.prototype.keys",zv.prototype.keys);fa("datascript.impl.entity.Entity.prototype.values",zv.prototype.values);
fa("datascript.impl.entity.Entity.prototype.entries",zv.prototype.entries);fa("cljs.core.ES6Iterator.prototype.next",Gc.prototype.next);fa("cljs.core.ES6EntriesIterator.prototype.next",ch.prototype.next);function Gv(b,a,c,d,e,f){this.Pb=b;this.Qb=a;this.rules=c;this.i=d;this.g=e;this.j=f;this.m=2229667594;this.C=8192}g=Gv.prototype;g.G=function(b,a){return gb.f(this,a,null)};g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "rels":return this.Pb;case "sources":return this.Qb;case "rules":return this.rules;default:return Ac(this.g,a,c)}};
g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.query.Context{",", ","}",c,T.b(new U(null,3,5,V,[new U(null,2,5,V,[gm,this.Pb],null),new U(null,2,5,V,[$k,this.Qb],null),new U(null,2,5,V,[Ol,this.rules],null)],null),this.g))};g.U=function(){return new bh(0,this,3,new U(null,3,5,V,[gm,$k,Ol],null),ic(this.g))};g.N=function(){return this.i};g.P=function(){return 3+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};
g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Y=function(b,a){return Qd(new Vd(null,new p(null,3,[$k,null,Ol,null,gm,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new Gv(this.Pb,this.Qb,this.rules,this.i,tf(td.b(this.g,a)),null)};
g.T=function(b,a,c){return r(S.b?S.b(gm,a):S.call(null,gm,a))?new Gv(c,this.Qb,this.rules,this.i,this.g,null):r(S.b?S.b($k,a):S.call(null,$k,a))?new Gv(this.Pb,c,this.rules,this.i,this.g,null):r(S.b?S.b(Ol,a):S.call(null,Ol,a))?new Gv(this.Pb,this.Qb,c,this.i,this.g,null):new Gv(this.Pb,this.Qb,this.rules,this.i,O.f(this.g,a,c),null)};
g.M=function(){return q(T.b(new U(null,3,5,V,[new U(null,2,5,V,[gm,this.Pb],null),new U(null,2,5,V,[$k,this.Qb],null),new U(null,2,5,V,[Ol,this.rules],null)],null),this.g))};g.O=function(b,a){return new Gv(this.Pb,this.Qb,this.rules,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};function Hv(b,a,c,d,e){this.Ea=b;this.$b=a;this.i=c;this.g=d;this.j=e;this.m=2229667594;this.C=8192}g=Hv.prototype;g.G=function(b,a){return gb.f(this,a,null)};
g.F=function(b,a,c){switch(a instanceof R?a.V:null){case "attrs":return this.Ea;case "tuples":return this.$b;default:return Ac(this.g,a,c)}};g.I=function(b,a,c){return Qi(a,function(){return function(b){return Qi(a,Xi,""," ","",c,b)}}(this),"#datascript.query.Relation{",", ","}",c,T.b(new U(null,2,5,V,[new U(null,2,5,V,[on,this.Ea],null),new U(null,2,5,V,[Nj,this.$b],null)],null),this.g))};g.U=function(){return new bh(0,this,2,new U(null,2,5,V,[on,Nj],null),ic(this.g))};g.N=function(){return this.i};
g.P=function(){return 2+M(this.g)};g.K=function(){var b=this.j;return null!=b?b:this.j=b=Ge(this)};g.w=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?ah(this,a):c:a;return r(c)?!0:!1};g.Y=function(b,a){return Qd(new Vd(null,new p(null,2,[Nj,null,on,null],null),null),a)?td.b(dd(W.b(Ud,this),this.i),a):new Hv(this.Ea,this.$b,this.i,tf(td.b(this.g,a)),null)};
g.T=function(b,a,c){return r(S.b?S.b(on,a):S.call(null,on,a))?new Hv(c,this.$b,this.i,this.g,null):r(S.b?S.b(Nj,a):S.call(null,Nj,a))?new Hv(this.Ea,c,this.i,this.g,null):new Hv(this.Ea,this.$b,this.i,O.f(this.g,a,c),null)};g.M=function(){return q(T.b(new U(null,2,5,V,[new U(null,2,5,V,[on,this.Ea],null),new U(null,2,5,V,[Nj,this.$b],null)],null),this.g))};g.O=function(b,a){return new Hv(this.Ea,this.$b,a,this.g,this.j)};g.R=function(b,a){return Gd(a)?jb(this,w.b(a,0),w.b(a,1)):v($a,this,a)};
function Iv(b,a){return Qo.b(Ai(lh(b)),Ai(lh(a)))}function Jv(b){return W.f(K,jj,b)}var Kv=function Kv(a,c){return G.b(Kl,a)?!0:G.b(new U(null,1,5,V,[dl],null),a)?Dd(c):a instanceof C?G.b(c,a):Dd(a)?G.b(md(a),dl)?Dd(c)&&Cf(function(a){var c=N(a,0);a=N(a,1);return Kv(c,a)},Xf.f(Kg,Di(a),c)):Dd(c)&&G.b(M(c),M(a))&&Cf(function(a){var c=N(a,0);a=N(a,1);return Kv(c,a)},Xf.f(Kg,a,c)):a.c?a.c(c):a.call(null,c)};function Lv(b){return b instanceof C&&G.b("$",E(Se(b)))}
function Mv(b){return b instanceof C&&G.b("?",E(Se(b)))}function Nv(b){return b instanceof R||"string"===typeof b}function Ov(b){return Kv(new U(null,2,5,V,[Nv,Kl],null),b)}function Pv(b,a,c,d){var e=a.length,f=d.length,h;h=e+f;h=Qa?Array(h):Oa.call(null,h);for(var k=0;;)if(k<e)h[k]=b[a[k]],k+=1;else break;for(b=0;;)if(b<f)h[e+b]=c[d[b]],b+=1;else break;return h}function Qv(b,a){return new Hv(on.c(b),W.b(Nj.c(b),Nj.c(a)),null,null,null)}
var Rv=function Rv(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return Rv.s();case 2:return Rv.b(arguments[0],arguments[1]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};Rv.s=function(){return new Hv(Ud,new U(null,1,5,V,[Qa?[]:Oa.call(null,0)],null),null,null,null)};
Rv.b=function(b,a){var c=lh(on.c(b)),d=lh(on.c(a)),e=be(Xf.b(on.c(b),c)),f=be(Xf.b(on.c(a),d));return new Hv(Ei(T.b(c,d),mg.s()),gf(v(function(b,c,d,e){return function(f,u){return v(function(a,b,c,d){return function(a,b){return hf.b(a,Pv(u,c,b,d))}}(b,c,d,e),f,Nj.c(a))}}(c,d,e,f),Vb(K),Nj.c(b))),null,null,null)};Rv.A=2;var Sv=function Sv(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Sv.h(0<c.length?new za(c.slice(0),0):null)};
Sv.h=function(b){var a=M(b);return sf.b(Zf(a/2,b),$f(a/2,b))};Sv.A=0;Sv.H=function(b){return Sv.h(q(b))};var Tv=function Tv(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Tv.h(arguments[0],arguments[1],2<c.length?new za(c.slice(2),0):null)};Tv.h=function(b,a,c){return v(function(c,e){var f=E(sq(b,new U(null,2,5,V,[a,e],null)));return r(f)?Pc(new U(null,2,5,V,[zo.c(f),kk.c(f)],null)):null},null,c)};Tv.A=2;
Tv.H=function(b){var a=E(b),c=F(b);b=E(c);c=F(c);return Tv.h(a,b,c)};var Uv=function Uv(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Uv.h(0<c.length?new za(c.slice(0),0):null)};Uv.h=function(b){return v(function(a,b){return r(b)?b:Pc(b)},!0,b)};Uv.A=0;Uv.H=function(b){return Uv.h(q(b))};var Vv=function Vv(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Vv.h(0<c.length?new za(c.slice(0),0):null)};
Vv.h=function(b){return v(function(a,b){return r(b)?Pc(b):b},null,b)};Vv.A=0;Vv.H=function(b){return Vv.h(q(b))};
var Xv=sd([an,yo,En,Kj,gn,Ao,Dl,fo,ml,nm,Jn,en,sl,Yn,Am,nl,ko,tk,bl,dk,el,On,dm,Pn,zl,fk,po,co,Wn,no,zk,Zn,rl,dl,Ql,Mj,pl,im,bo,gl,gk,fn,ul,Vn,mk,am,vk,Kk,Bl,xn,Nn,Fj,Tl,yn,lm,Jl,Dm,Nk,hn,bm,Pm,Gj,zm],[function(b){return!0===b},Uv,Ff,function(b,a,c,d){if(null==d)throw yj(""+t("get-else: nil default value is not supported"),new p(null,1,[vn,$n],null));b=E(sq(b,new U(null,2,5,V,[a,c],null)));return r(b)?kk.c(b):d},se,ej,re,M,Tv,Da,Nc,oe,ye,function(b){return!1===b},Fa,je,Sv,function Wv(a,c){var d=Oi(a,
c),e=c.search(a),f=Bd(d)?E(d):d,h=Fe.b(c,e+M(f));return r(d)?new Te(null,function(c,d,e,f){return function(){return bd(c,q(f)?Wv(a,f):null)}}(d,e,f,h),null,null):null},qe,G,ve,le,Se,function(b,a,c){return null==Cc(sv(b,a),c)},je,tj,Gf,Ce,Nf,Xd,mg,ue,od,ne,X,gj,wd,function(b){return 0===b},sf,dj,te,Kg,sf,t,pe,me,function(b){return null!=b},function(b){return 0<b},sj,Ni,Ne,Fe,xe,mi,function(b,a){return b-a*ye(b,a)},Ef,Ia,function(b){return 0>b},tf,Vv,function(b,a){return b===a},Ai,Oi]),Yv=function(){function b(b){var e=
a(b);return c(function(){return function(a){return function k(b){return new Te(null,function(a){return function(){for(;;){var c=q(b);if(c){if(P(c)){var d=z(c),e=M(d),f=Xe(e);a:for(var D=0;;)if(D<e){var x=w.b(d,D)-a;f.add(x*x);D+=1}else{d=!0;break a}return d?Ze(bf(f),k(B(c))):Ze(bf(f),null)}f=E(c)-a;return bd(f*f,k(Ec(c)))}return null}}}(a),null,null)}}(e)(b)}())/M(b)}function a(a){return c(a)/M(a)}function c(a){return v(le,0,a)}return sd([pm,fo,Sn,Ek,el,Zn,uo,jn,Eo,tl,Bl,sn],[b,M,function(a){var b=
ae(Xd,a);a=M(a);var c=a>>1,h=rd(b,c);return Ef(a)?(h+rd(b,c-1))/2:h},c,function(){function a(b,c){return ge(v(function(a,c){return M(a)<b?ae(Xd,nd.b(a,c)):0>Xd(c,md(a))?ae(Xd,nd.b(Di(a),c)):a},K,c))}function b(a){return v(function(a,b){return 0>Xd(b,a)?b:a},E(a),F(a))}var c=null,c=function(c,f){switch(arguments.length){case 1:return b.call(this,c);case 2:return a.call(this,c,f)}throw Error("Invalid arity: "+arguments.length);};c.c=b;c.b=a;return c}(),function(){function a(b,c){return ge(v(function(a,
c){return M(a)<b?ae(Xd,nd.b(a,c)):0<Xd(c,E(a))?ae(Xd,nd.b(F(a),c)):a},K,c))}function b(a){return v(function(a,b){return 0<Xd(b,a)?b:a},E(a),F(a))}var c=null,c=function(c,f){switch(arguments.length){case 1:return b.call(this,c);case 2:return a.call(this,c,f)}throw Error("Invalid arity: "+arguments.length);};c.c=b;c.b=a;return c}(),function(a){return M(Ci.c(a))},Hf.b(ge,Ci),a,function(a){a=b(a);return Math.sqrt(a)},function(){function a(b,c){return ge(eg(b,function(){return uj(c)}))}var b=null,b=function(b,
c){switch(arguments.length){case 1:return uj(b);case 2:return a.call(this,b,c)}throw Error("Invalid arity: "+arguments.length);};b.c=function(a){return uj(a)};b.b=a;return b}(),function(a,b){return ge(Zf(a,fe(b)))}])}();function Zv(b){b="string"===typeof b?iv(b):b;return vj(jd,b)}function $v(b){var a=Md.c?Md.c(b):Md.call(null,b);return r(a)?a:Ea.c?Ea.c(b):Ea.call(null,b)}function aw(b){b=Xf.b(Yk,ge(Ci.c(ws(b))));return new Hv(Ei(b,mg.s()),K,null,null,null)}
var bw=function bw(a,c){if(null!=a&&null!=a.qc)return a.qc(a,c);var d=bw[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=bw._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ja("IBinding.in-\x3erel",a);};Qr.prototype.qc=function(){return Rv.s()};Rr.prototype.qc=function(b,a){return new Hv(ph([ng(this,new U(null,2,5,V,[rk,Yk],null)),0]),new U(null,1,5,V,[Aa(new U(null,1,5,V,[a],null))],null),null,null,null)};
Tr.prototype.qc=function(b,a){if(Fa($v(a)))throw yj([t("Cannot bind value "),t(X.h(J([a],0))),t(" to collection "),t(X.h(J([Br(this)],0)))].join(""),new p(null,3,[vn,cl,hl,a,jm,Br(this)],null));return Ad(a)?aw(this):he(Qv,Xf.b(function(a){return function(b){return bw(jm.c(a),b)}}(this),a))};
Sr.prototype.qc=function(b,a){if(Fa($v(a)))throw yj([t("Cannot bind value "),t(X.h(J([a],0))),t(" to tuple "),t(X.h(J([Br(this)],0)))].join(""),new p(null,3,[vn,cl,hl,a,jm,Br(this)],null));if(M(a)<M(Wk.c(this)))throw yj([t("Not enough elements in a collection "),t(X.h(J([a],0))),t(" to bind tuple "),t(X.h(J([Br(this)],0)))].join(""),new p(null,3,[vn,cl,hl,a,jm,Br(this)],null));return he(Rv,Xf.f(function(){return function(a,b){return bw(a,b)}}(this),Wk.c(this),a))};
function cw(b,a){var c=N(a,0),d=N(a,1);return c instanceof Rr&&rk.c(c)instanceof Er?qg.W(b,new U(null,1,5,V,[$k],null),O,ng(c,new U(null,2,5,V,[rk,Yk],null)),d):c instanceof Rr&&rk.c(c)instanceof Gr?O.f(b,Ol,Zv(d)):qg.S(b,new U(null,1,5,V,[gm],null),nd,bw(c,d))}function dw(b,a,c){return v(cw,b,Ei(a,c))}var ew=null,fw=null;
function gw(b,a){var c=b.c?b.c(a):b.call(null,a);return null!=ew&&Qd(ew,a)?function(a){return function(b){b=b[a];return"number"===typeof b?b:$q(fw,b)}}(c):function(a){return function(b){return b[a]}}(c)}function hw(b){return 1===M(b)?E(b):function(a){return function(b){return ef(a.map(function(){return function(a){return a.c?a.c(b):a.call(null,b)}}(a)))}}(be(b))}
function iw(b,a){for(var c=a,d=Vb(Ud);;){var e=E(c);if(r(e))var f=b.c?b.c(e):b.call(null,e),c=F(c),d=jf.f(d,f,nd.b(Ac(d,f,Fc),e));else return Yb(d)}}
function jw(b,a){var c=Nj.c(b),d=Nj.c(a),e=on.c(b),f=on.c(a),h=ge(Iv(on.c(b),on.c(a))),k=Xf.b(function(a,b,c){return function(a){return gw(c,a)}}(c,d,e,f,h),h),l=Xf.b(function(a,b,c,d){return function(a){return gw(d,a)}}(c,d,e,f,h,k),h),m=lh(e),n=ge(Ro.b(Ai(lh(f)),Ai(lh(e)))),u=be(Xf.b(e,m)),y=be(Xf.b(f,n)),A=hw(k),D=iw(A,c),x=hw(l),c=gf(v(function(a,b,c,d,e,f,h,k,l,m,n,u,x,y){return function(D,A){var Ab=y.c?y.c(A):y.call(null,A),Bb=Cc(x,Ab);return r(Bb)?v(function(a,b,c,d,e,f,h,k,l,m,n,u,x,y){return function(a,
b){return hf.b(a,Pv(b,x,A,y))}}(Bb,Bb,Ab,a,b,c,d,e,f,h,k,l,m,n,u,x,y),D,Bb):D}}(c,d,e,f,h,k,l,m,n,u,y,A,D,x),Vb(K),d));return new Hv(Ei(T.b(m,n),mg.s()),c,null,null,null)}function kw(b,a){var c=jg(function(a){return a instanceof C?null:a},a),d=sq(b,c),c=W.b(Ud,hg(function(){return function(a){var b=N(a,0);N(a,1);return Mv(b)}}(c,d),Xf.f(Kg,a,new U(null,4,5,V,["e","a","v","tx"],null))));return new Hv(c,d,null,null,null)}
function lw(b,a){var c=hg(function(b){a:for(var c=a;;){var d=b;if(r(r(d)?c:d)){var d=E(b),k=E(c);if(k instanceof C||G.b(d,k))b=F(b),c=F(c);else{b=!1;break a}}else{b=!0;break a}}return b},b),d=W.b(Ud,hg(function(){return function(a){var b=N(a,0);N(a,1);return Mv(b)}}(c),Xf.f(Kg,a,mg.s())));return new Hv(d,Xf.b(be,c),null,null,null)}function mw(b){return r(Lv(E(b)))?b:T.b(new U(null,1,5,V,[Qm],null),b)}function nw(b,a){return(null!=b?b.$c||(b.ab?0:Ga(rq,b)):Ga(rq,b))?kw(b,a):lw(b,a)}
function ow(b,a){for(var c=b,d=a,e=K;;){var f=E(c);if(r(f))r(tf(Iv(on.c(d),on.c(f))))?(c=F(c),d=jw(f,d)):(c=F(c),e=nd.b(e,f));else return nd.b(e,d)}}function pw(b,a){return Df(function(b){return Qd(on.c(b),a)?b:null},gm.c(b))}function qw(b,a){var c=pw(b,a);if(r(c)){var d=E(Nj.c(c));return r(d)?d[on.c(c).call(null,a)]:null}return null}
function rw(b,a){var c=hg(function(b){return!Ad(Qo.b(Ai(a),Ai(lh(on.c(b)))))},gm.c(b)),d=he(Rv,c);return new U(null,2,5,V,[qg.f(b,new U(null,1,5,V,[gm],null),function(a){return function(b){return ig(Ai(a),b)}}(c,d)),d],null)}
function sw(b,a,c,d){b=$k.c(b);a=on.c(a);for(var e=M(d),f=Qa?Array(e):Oa.call(null,e),h=Qa?Array(e):Oa.call(null,e),k=0;;)if(k<e){var l=rd(d,k);if(l instanceof C){var m=Cc(b,l);r(m)?f[k]=m:h[k]=Cc(a,l)}else f[k]=l;k+=1}else break;return function(a,b,d,e,f){return function(a){for(var b=0;;)if(b<d){var h=f[b];r(h)&&(e[b]=a[h]);b+=1}else break;return lf(c,e)}}(b,a,e,f,h)}
function tw(b,a){var c=N(a,0),d=N(c,0),e=Ee(c,1),f=function(){var c=Cc(Xv,d);if(r(c))return c;c=qw(b,d);if(r(c))return c;if(r(null))return null;if(null==pw(b,d))throw yj([t("Unknown predicate '"),t(d),t(" in "),t(a)].join(""),new p(null,3,[vn,$n,Fn,a,vm,d],null));return null}(),h=rw(b,hg(yc,e)),k=N(h,0),l=N(h,1),m=r(f)?function(){var b=sw(k,l,f,e);return qg.f(l,new U(null,1,5,V,[Nj],null),function(a){return function(b){return hg(a,b)}}(b,a,c,d,e,f,h,k,l))}():O.f(l,Nj,K);return qg.S(k,new U(null,1,
5,V,[gm],null),nd,m)}
function uw(b,a){var c=N(a,0),d=N(c,0),e=Ee(c,1),f=N(a,1),h=Xr(f),k=function(){var c=Cc(Xv,d);if(r(c))return c;c=qw(b,d);if(r(c))return c;if(r(null))return null;if(null==pw(b,d))throw yj([t("Unknown function '"),t(d),t(" in "),t(a)].join(""),new p(null,3,[vn,$n,Fn,a,vm,d],null));return null}(),l=rw(b,hg(yc,e)),m=N(l,0),n=N(l,1),u=r(k)?function(){var b=sw(m,n,k,e),u=function(){return function(a,b,c,d,e,f,h,k,l,m,n){return function ea(u){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n){return function(){for(var b=
u;;)if(b=q(b)){if(P(b)){var c=z(b),d=M(c),e=Xe(d);a:for(var f=0;;)if(f<d){var k=w.b(c,f),l=a.c?a.c(k):a.call(null,k);null!=l&&(k=Rv.b(new Hv(on.c(n),new U(null,1,5,V,[k],null),null,null,null),bw(h,l)),e.add(k));f+=1}else{c=!0;break a}return c?Ze(bf(e),ea(B(b))):Ze(bf(e),null)}e=E(b);c=a.c?a.c(e):a.call(null,e);if(null!=c)return bd(Rv.b(new Hv(on.c(n),new U(null,1,5,V,[e],null),null,null,null),bw(h,c)),ea(Ec(b)));b=Ec(b)}else return null}}(a,b,c,d,e,f,h,k,l,m,n),null,null)}}(b,a,c,d,e,f,h,k,l,m,n)(Nj.c(n))}();
return Ad(u)?Rv.b(n,aw(h)):he(Qv,u)}():Rv.b(O.f(n,Nj,K),aw(h));return qg.S(m,new U(null,1,5,V,[gm],null),ow,u)}function vw(b,a){return Dd(a)&&Qd(Ol.c(b),r(Lv(E(a)))?hd(a):E(a))}var ww=Mf?Mf(0):Lf.call(null,0);
function xw(b,a){var c=N(b,0),d=Ee(b,1),e=Qf.b(ww,Nc),f=Cc(Ol.c(a),c);return function(a,b,c,d,e){return function y(f){return new Te(null,function(a,b,c,d,e){return function(){for(;;){var h=q(f);if(h){var k=h;if(P(k)){var l=z(k),m=M(l),n=Xe(m);return function(){for(var f=0;;)if(f<m){var y=w.b(l,f),A=y,ea=N(A,0),Ka=N(ea,0),Ha=Ee(ea,1),Pa=Ee(A,1),Ya=Ei(Ha,c);$e(n,Tp(function(a,b,c,d,e,f,h,k,l,m,n,x,y,D,A,I,L){return function(a){if(r(Mv(a))){var b=h.c?h.c(a):h.call(null,a);return r(b)?b:Dc.c([t(Se(a)),
t("__auto__"),t(L)].join(""))}return a}}(f,A,ea,Ka,Ha,Pa,Ya,y,l,m,n,k,h,a,b,c,d,e),Pa));f+=1}else return!0}()?Ze(bf(n),y(B(k))):Ze(bf(n),null)}var Ka=E(k),Pa=Ka,ea=N(Pa,0),Xa=N(ea,0),Ha=Ee(ea,1),Ya=Ee(Pa,1),ib=Ei(Ha,c);return bd(Tp(function(a,b,c,d,e,f,h,k,l,m,n,x,y){return function(a){if(r(Mv(a))){var b=f.c?f.c(a):f.call(null,a);return r(b)?b:Dc.c([t(Se(a)),t("__auto__"),t(y)].join(""))}return a}}(Pa,ea,Xa,Ha,Ya,ib,Ka,k,h,a,b,c,d,e),Ya),y(Ec(k)))}return null}}}(a,b,c,d,e),null,null)}}(b,c,d,e,f)(f)}
function yw(b,a){var c=ig(function(a){var b=N(a,0);a=N(a,1);return G.b(b,a)},Xf.f(Kg,b,a));return new U(null,2,5,V,[Xf.b(E,c),Xf.b(hd,c)],null)}
function zw(b,a){var c=N(b,0),d=Ee(b,1),e=Cc(a,c);return function(a,b,c,d){return function n(e){return new Te(null,function(a,b,c){return function(){for(;;){var a=q(e);if(a){if(P(a)){var b=z(a),d=M(b),f=Xe(d);a:for(var h=0;;)if(h<d){var k=w.b(b,h),l=yw(c,k),k=N(l,0),l=N(l,1),k=new U(null,1,5,V,[T.h(new U(null,1,5,V,[ko],null),k,J([l],0))],null);f.add(k);h+=1}else{b=!0;break a}return b?Ze(bf(f),n(B(a))):Ze(bf(f),null)}f=E(a);b=yw(c,f);f=N(b,0);b=N(b,1);return bd(new U(null,1,5,V,[T.h(new U(null,1,
5,V,[ko],null),f,J([b],0))],null),n(Ec(a)))}return null}}}(a,b,c,d),null,null)}}(b,c,d,e)(e)}function Aw(b){var a=Mf?Mf(K):Lf.call(null,K);Tp(function(a){return function(b){r(Mv.c?Mv.c(b):Mv.call(null,b))&&Qf.f(a,nd,b);return b}}(a),b);return H.c?H.c(a):H.call(null,a)}function Bw(b,a){var c=function(a){return function(b){b=N(b,0);N(b,0);b=Ee(b,1);return Cf(a,b)}}(Ai(Aw(b)));return new U(null,2,5,V,[hg(c,a),ig(c,a)],null)}
function Cw(b,a){for(var c=hg(Mv,a),d=Ei(c,mg.s()),e=function(){return function(a,b){return v(Dw,a,b)}}(c,d),f=function(a,b,c){return function(d){return Df(function(){return function(a){return Ad(Nj.c(a))}}(a,b,c),gm.c(d))}}(c,d,e),h=$a(Fc,new p(null,5,[ho,K,il,b,Dn,new U(null,1,5,V,[a],null),Bj,Ud,Sm,Ud],null)),k=new Hv(d,K,null,null,null);;){var l=E(h);if(r(l)){var m=l,n=Ki(function(){return function(a){return Fa(vw(b,a))}}(h,k,m,l,c,d,e,f),Dn.c(m)),u=N(n,0),y=N(n,1),A=N(y,0),D=Ee(y,1);if(null==
A)var x=e(il.c(m),u),x=Ew?Ew(x,c):Fw.call(null,x,c),L=new Hv(d,x,null,null,null),x=F(h),L=Qv(k,L);else{var I=A,Q=N(I,0),Va=Ee(I,1),La=zw(A,Bj.c(m)),lb=Bw(T.b(ho.c(m),u),T.b(La,Sm.c(m))),na=N(lb,0),pc=N(lb,1);if(r(Df(function(){return function(a){return G.b(a,new U(null,1,5,V,[Ne(ko)],null))}}(h,k,I,Q,Va,La,lb,na,pc,n,u,y,A,D,m,l,c,d,e,f),na)))x=F(h);else{var Ka=T.b(u,na),Pa=e(il.c(m),Ka);if(r(f(Pa)))x=F(h);else var ea=O.f(Bj.c(m),Q,nd.b(Ac(Bj.c(m),Q,K),Va)),Xa=xw(A,b),x=T.b(function(){return function(a,
b,c,d,e,f,h,k,l,m,n,u,x,y,D,A,I,L,Q,na,La,ea,Va,Ka){return function Yd(lb){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,D,A,I,L){return function(){for(;;){var a=q(lb);if(a){if(P(a)){var b=z(a),d=M(b),h=Xe(d);a:for(var k=0;;)if(k<d){var l=w.b(b,k),l=new p(null,5,[ho,e,il,f,Dn,Jv(J([l,L],0)),Bj,c,Sm,x],null);h.add(l);k+=1}else{b=!0;break a}return b?Ze(bf(h),Yd(B(a))):Ze(bf(h),null)}h=E(a);return bd(new p(null,5,[ho,e,il,f,Dn,Jv(J([h,L],0)),Bj,c,Sm,x],null),Yd(Ec(a)))}return null}}}(a,b,c,
d,e,f,h,k,l,m,n,u,x,y,D,A,I,L,Q,na,La,ea,Va,Ka),null,null)}}(h,k,ea,Xa,Ka,Pa,I,Q,Va,La,lb,na,pc,n,u,y,A,D,m,l,c,d,e,f)(Xa)}(),F(h))}L=k}h=x;k=L}else return k}}function Gw(b,a){if(null!=b?b.Ic||(b.ab?0:Ga(xq,b)):Ga(xq,b)){var c=N(a,0),d=N(a,1),e=N(a,2),f=N(a,3);return Mg(new U(null,4,5,V,[r(Ov(c))?Wq(b,c):c,d,r(function(){if(r(e)){var a=Nv(d);return r(a)?(a=Vq(b,d))?Ov(e):a:a}return e}())?Wq(b,e):e,r(Ov(f))?Wq(b,f):f],null),0,M(a))}return a}
function Lw(b,a){var c=N(a,0),d=N(a,1),e=N(a,2),f=N(a,3),c=r(Mv(c))?nd.b(Wd,c):Wd,f=r(Mv(f))?nd.b(c,f):c,c=Mv(e),d=r(c)?Fa(Mv(d))&&Vq(b,d):c;return r(d)?nd.b(f,e):f}
function Dw(b,a){if(r(function(){var b=new U(null,1,5,V,[new U(null,2,5,V,[yc,dl],null)],null);return Kv.b?Kv.b(b,a):Kv.call(null,b,a)}()))return tw(b,a);if(r(function(){var b=new U(null,2,5,V,[new U(null,2,5,V,[yc,dl],null),Kl],null);return Kv.b?Kv.b(b,a):Kv.call(null,b,a)}()))return uw(b,a);if(r(function(){var b=new U(null,1,5,V,[dl],null);return Kv.b?Kv.b(b,a):Kv.call(null,b,a)}())){var c=mw(a),d=N(c,0),c=Ee(c,1),d=Cc($k.c(b),d),c=Gw(d,c),e=nw(d,c),f=null!=d?d.Ic?!0:d.ab?!1:Ga(xq,d):Ga(xq,d),h=
fw,k=ew;fw=f?d:null;ew=f?Lw(d,c):null;try{return qg.S(b,new U(null,1,5,V,[gm],null),ow,e)}finally{ew=k,fw=h}}else throw Error([t("No matching clause: "),t(a)].join(""));}function Mw(b,a){if(r(vw(b,a))){var c=r(Lv(E(a)))?new U(null,2,5,V,[E(a),F(a)],null):new U(null,2,5,V,[Qm,a],null),d=N(c,0),c=N(c,1),d=ng(b,new U(null,2,5,V,[$k,d],null)),d=Cw(O.f(b,$k,new p(null,1,[Qm,d],null)),c);return qg.S(b,new U(null,1,5,V,[gm],null),ow,d)}return Dw(b,a)}
function Fw(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 2:return Ew(arguments[0],arguments[1]);case 3:return Nw(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(a.length)].join(""));}}function Ew(b,a){var c=gm.c(b),d=Nw,e=V,f;f=M(a);f=Qa?Array(f):Oa.call(null,f);return d(new U(null,1,5,e,[f],null),c,a)}
function Nw(b,a,c){for(;;){var d=E(a);if(r(d)){var e=d,f=ui(on.c(e),c);if(Ad(f))var h=b,k=F(a),l=c;else var m=be(Xf.b(function(a,b,c,d){return function(a){return Cc(d,a)}}(b,a,c,f,e,d),c)),n=M(c),h=function(){return function(a,b,c,d,e,f,h,k){return function La(l){return new Te(null,function(a,b,c,d,e,f,h,k){return function(){for(var m=l;;){var n=q(m);if(n){var u=n,x=E(u);if(n=q(function(a,b,c,d,e,f,h,k,l,m,n,u){return function Ak(x){return new Te(null,function(a,b,c,d,e,f,h,k,l){return function(){for(;;){var a=
q(x);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){for(var f=w.b(b,a),h=d,m=Ra(e),n=0;;)if(n<l){var u=k[n];r(u)&&(m[n]=f[u]);n+=1}else break;h.add(m);a+=1}else return!0}()?Ze(bf(d),Ak(B(a))):Ze(bf(d),null)}var f=E(a);return bd(function(){for(var a=Ra(e),b=0;;)if(b<l){var c=k[b];r(c)&&(a[b]=f[c]);b+=1}else break;return a}(),Ak(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u),null,null)}}(m,a,b,c,x,u,n,d,e,f,h,k)(Nj.c(h))))return T.b(n,La(Ec(m)));m=Ec(m)}else return null}}}(a,
b,c,d,e,f,h,k),null,null)}}(b,a,c,m,n,f,e,d)(b)}(),k=F(a),l=c;b=h;a=k;c=l}else return b}}function Ow(b,a){return Ai(Xf.b(ge,Ew(b,a)))}var Pw=function Pw(a,c){if(null!=a&&null!=a.rc)return a.rc(a,c);var d=Pw[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=Pw._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ja("IContextResolve.-context-resolve",a);};Dr.prototype.rc=function(b,a){return qw(a,this.symbol)};
Er.prototype.rc=function(b,a){return ng(a,new U(null,2,5,V,[$k,this.symbol],null))};Ir.prototype.rc=function(){var b=Cc(Yv,this.symbol);return r(b)?b:null};Hr.prototype.rc=function(){return this.value};function Qw(b,a,c){return lg(function(b,e,f){if(r(hs(b))){e=Pw(lk.c(b),a);b=Xf.b(function(){return function(b){return Pw(b,a)}}(e),Di(Cj.c(b)));var h=Xf.b(function(){return function(a){return rd(a,f)}}(e,b),c);return lf(e,T.b(b,new U(null,1,5,V,[h],null)))}return e},b,E(c))}
function Rw(b){var a=Gf(hs);return ig(Da,Xf.f(function(b,d){return r(a.c?a.c(b):a.call(null,b))?d:null},b,mg.s()))}
function Sw(b,a,c){var d=Rw(b),e=function(a){return function(b){return Xf.b(function(){return function(a){return rd(b,a)}}(a),a)}}(d);c=vj(e,c);return function(c,d,e){return function m(n){return new Te(null,function(){return function(){for(;;){var c=q(n);if(c){if(P(c)){var d=z(c),e=M(d),f=Xe(e);a:for(var h=0;;)if(h<e){var k=w.b(d,h);N(k,0);k=N(k,1);k=Qw(b,a,k);f.add(k);h+=1}else{d=!0;break a}return d?Ze(bf(f),m(B(c))):Ze(bf(f),null)}f=E(c);N(f,0);f=N(f,1);return bd(Qw(b,a,f),m(Ec(c)))}return null}}}(c,
d,e),null,null)}}(d,e,c)(c)}var Tw=function Tw(a,c){if(null!=a&&null!=a.sc)return a.sc(a,c);var d=Tw[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=Tw._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ja("IPostProcess.-post-process",a);};ds.prototype.sc=function(b,a){return a};es.prototype.sc=function(b,a){return W.f(K,Xf.c(E),a)};fs.prototype.sc=function(b,a){return jd(a)};gs.prototype.sc=function(b,a){return E(a)};
function Uw(b,a,c){return function(a){return function f(b){return new Te(null,function(a){return function(){for(;;){var c=q(b);if(c){var d=c;if(P(d)){var n=z(d),u=M(n),y=Xe(u);return function(){for(var b=0;;)if(b<u){var f=w.b(n,b);$e(y,kg(function(){return function(a,b){if(r(a)){var c=N(a,0),d=N(a,1);return tu(c,d,new U(null,1,5,V,[b],null),!1)}return b}}(b,f,n,u,y,d,c,a),a,f));b+=1}else return!0}()?Ze(bf(y),f(B(d))):Ze(bf(y),null)}var A=E(d);return bd(kg(function(){return function(a,b){if(r(a)){var c=
N(a,0),d=N(a,1);return tu(c,d,new U(null,1,5,V,[b],null),!1)}return b}}(A,d,c,a),a,A),f(Ec(d)))}return null}}}(a),null,null)}}(function(){return function e(b){return new Te(null,function(){for(;;){var c=q(b);if(c){if(P(c)){var k=z(c),l=M(k),m=Xe(l);a:for(var n=0;;)if(n<l){var u=w.b(k,n),u=r(is(u))?new U(null,2,5,V,[Pw(Fl.c(u),a),ot(Pw(Ho.c(u),a))],null):null;m.add(u);n+=1}else{k=!0;break a}return k?Ze(bf(m),e(B(c))):Ze(bf(m),null)}m=E(c);return bd(r(is(m))?new U(null,2,5,V,[Pw(Fl.c(m),a),ot(Pw(Ho.c(m),
a))],null):null,e(Ec(c)))}return null}},null,null)}(b)}())(c)}var Vw=Sf(Gs(Ud,ni(),Ud,0,100));
function Ww(b){var a=Ac(H.c?H.c(Vw):H.call(null,Vw),b,null);if(r(a))return a;if(Ed(b))a=b;else if(Dd(b))a=Cs(b);else throw yj(""+t("Query should be a vector or a map"),new p(null,2,[vn,Lo,Fn,b],null));var c=a,a=ks(Ej.c(c)),d=Rm.c(c);if(r(d)){var e=wr(Jr,d);if(r(e))d=e;else throw yj(""+t("Cannot parse :with clause, expected [ variable+ ]"),new p(null,2,[vn,sm,Fn,d],null));}else d=null;var e=Fo.b(c,new U(null,1,5,V,[Qm],null)),f=wr(ls,e);if(!r(f))throw yj(""+t("Cannot parse :in clause, expected (src-var | % | plain-symbol | bind-scalar | bind-tuple | bind-coll | bind-rel)"),
new p(null,2,[vn,Dj,Fn,e],null));e=f;c=jk.b(c,K);f=As(c);if(!r(f))throw yj(""+t("Cannot parse :where clause, expected [clause+]"),new p(null,2,[vn,Fk,Fn,c],null));a=new p(null,4,[Ej,a,Rm,d,Fo,e,jk,f],null);a=new Bs(Ej.c(a),Rm.c(a),Fo.c(a),jk.c(a),null,td.h(a,Ej,J([Rm,Fo,jk],0)),null);Ds(a,b);hc(Vw,O.f(xb(Vw),b,a));return a}var Xw=function Xw(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Xw.h(arguments[0],1<c.length?new za(c.slice(1),0):null)};
Xw.h=function(b,a){var c=Ww(b),d=Ej.c(c),e=cs(d),f=fg($r,J([cs(d)],0)),h=M(e),k=Rm.c(c),l=T.b(f,Xf.b(Yk,k)),m=Dd(b)?Cs(b):b,n=jk.c(m),u=dw(new Gv(K,Ud,Ud,null,null,null),Fo.c(c),a),y=Ow(v(Mw,u,n),l),c=r(Rm.c(m))?jg(function(a,b,c,d,e,f){return function(a){return ge(Mg(a,0,f))}}(y,c,d,e,f,h,k,l,m,n,u,y),y):y,c=r(Df(hs,e))?Sw(e,u,c):c,e=r(Df(is,e))?Uw(e,u,c):c;return Tw(d,e)};Xw.A=1;Xw.H=function(b){var a=E(b);b=F(b);return Xw.h(a,b)};var Yw,Zw;fa("datascript.core.q",Xw);fa("datascript.core.entity",sv);function $w(b){return b.db}fa("datascript.core.entity_db",$w);fa("datascript.core.datom",fq);fa("datascript.core.pull",uu);fa("datascript.core.pull_many",vu);fa("datascript.core.touch",yv);fa("datascript.core.empty_db",Fq);fa("datascript.core.init_db",Tq);fa("datascript.core.datom_QMARK_",gq);fa("datascript.core.db_QMARK_",Kq);fa("datascript.core.tx0",536870912);function ax(b){return b instanceof Lq}
fa("datascript.core.is_filtered",ax);function bx(b,a){if(r(ax(b))){var c=b.Ga;return new Lq(c,function(b,c,f){return function(b){var d=c.c?c.c(b):c.call(null,b);return r(d)?a.b?a.b(f,b):a.call(null,f,b):d}}(b,b.Pa,c),Mf?Mf(0):Lf.call(null,0),null,null,null)}return new Lq(b,function(c){return a.b?a.b(b,c):a.call(null,b,c)},Mf?Mf(0):Lf.call(null,0),null,null,null)}fa("datascript.core.filter",bx);
function cx(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 2:return cx.b(arguments[0],arguments[1]);case 3:return cx.f(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(a.length)].join(""));}}fa("datascript.core.with$",cx);cx.b=function(b,a){return cx.f(b,a,null)};
cx.f=function(b,a,c){if(r(ax(b)))throw yj("Filtered DB cannot be modified",new p(null,1,[vn,Gl],null));return rr(Yq(new p(null,5,[em,b,Lk,b,fm,K,Ij,Ud,Rn,c],null)),a)};cx.A=3;function dx(b,a){return Lk.c(cx.b(b,a))}fa("datascript.core.db_with",dx);
var ex=function ex(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return ex.b(arguments[0],arguments[1]);case 3:return ex.f(arguments[0],arguments[1],arguments[2]);case 4:return ex.S(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return ex.W(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return ex.sa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error([t("Invalid arity: "),
t(c.length)].join(""));}};fa("datascript.core.datoms",ex);ex.b=function(b,a){return uq(b,a,K)};ex.f=function(b,a,c){return uq(b,a,new U(null,1,5,V,[c],null))};ex.S=function(b,a,c,d){return uq(b,a,new U(null,2,5,V,[c,d],null))};ex.W=function(b,a,c,d,e){return uq(b,a,new U(null,3,5,V,[c,d,e],null))};ex.sa=function(b,a,c,d,e,f){return uq(b,a,new U(null,4,5,V,[c,d,e,f],null))};ex.A=6;
var fx=function fx(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return fx.b(arguments[0],arguments[1]);case 3:return fx.f(arguments[0],arguments[1],arguments[2]);case 4:return fx.S(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return fx.W(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return fx.sa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error([t("Invalid arity: "),
t(c.length)].join(""));}};fa("datascript.core.seek_datoms",fx);fx.b=function(b,a){return vq(b,a,K)};fx.f=function(b,a,c){return vq(b,a,new U(null,1,5,V,[c],null))};fx.S=function(b,a,c,d){return vq(b,a,new U(null,2,5,V,[c,d],null))};fx.W=function(b,a,c,d,e){return vq(b,a,new U(null,3,5,V,[c,d,e],null))};fx.sa=function(b,a,c,d,e,f){return vq(b,a,new U(null,4,5,V,[c,d,e,f],null))};fx.A=6;fa("datascript.core.index_range",function(b,a,c,d){return wq(b,a,c,d)});fa("datascript.core.entid",$q);
fa("datascript.core.conn_QMARK_",function(b){var a=null!=b?b.m&32768||b.ge?!0:b.m?!1:Ga(wb,b):Ga(wb,b);return a?Kq(H.c?H.c(b):H.call(null,b)):a});function gx(b){var a=new p(null,1,[lo,Mf?Mf(Ud):Lf.call(null,Ud)],null);return Lf.f?Lf.f(b,va,a):Lf.call(null,b,va,a)}fa("datascript.core.conn_from_db",gx);
var hx=function hx(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return hx.c(arguments[0]);case 2:return hx.b(arguments[0],arguments[1]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};fa("datascript.core.conn_from_datoms",hx);hx.c=function(b){return gx(Tq.c?Tq.c(b):Tq.call(null,b))};hx.b=function(b,a){return gx(Tq.b?Tq.b(b,a):Tq.call(null,b,a))};hx.A=2;
var ix=function ix(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return ix.s();case 1:return ix.c(arguments[0]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};fa("datascript.core.create_conn",ix);ix.s=function(){return gx(Fq.s?Fq.s():Fq.call(null))};ix.c=function(b){return gx(Fq.c?Fq.c(b):Fq.call(null,b))};ix.A=1;
function jx(b,a,c){var d=Mf?Mf(null):Lf.call(null,null);Qf.b(b,function(b){return function(d){d=cx.f(d,a,c);Pf.b?Pf.b(b,d):Pf.call(null,b,d);return Lk.c(d)}}(d));return H.c?H.c(d):H.call(null,d)}var kx=function kx(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return kx.b(arguments[0],arguments[1]);case 3:return kx.f(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};
fa("datascript.core.transact_BANG_",kx);kx.b=function(b,a){return kx.f(b,a,null)};kx.f=function(b,a,c){a=jx(b,a,c);b=lo.c(wd(b));b=H.c?H.c(b):H.call(null,b);b=q(b);c=null;for(var d=0,e=0;;)if(e<d){var f=c.L(null,e);N(f,0);f=N(f,1);f.c?f.c(a):f.call(null,a);e+=1}else if(b=q(b))P(b)?(d=z(b),b=B(b),c=d,d=M(d)):(c=E(b),N(c,0),c=N(c,1),c.c?c.c(a):c.call(null,a),b=F(b),c=null,d=0),e=0;else break;return a};kx.A=3;
var lx=function lx(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return lx.b(arguments[0],arguments[1]);case 3:return lx.f(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};fa("datascript.core.reset_conn_BANG_",lx);lx.b=function(b,a){return lx.f(b,a,null)};
lx.f=function(b,a,c){c=Yq(new p(null,4,[em,H.c?H.c(b):H.call(null,b),Lk,a,fm,T.b(Xf.b(function(a){return O.f(a,Tk,!1)},ex.b(H.c?H.c(b):H.call(null,b),Ul)),ex.b(a,Ul)),Rn,c],null));Pf.b?Pf.b(b,a):Pf.call(null,b,a);for(var d=q(function(){var a=lo.c(wd(b));return H.c?H.c(a):H.call(null,a)}()),e=null,f=0,h=0;;)if(h<f){var k=e.L(null,h);N(k,0);k=N(k,1);k.c?k.c(c):k.call(null,c);h+=1}else if(d=q(d))P(d)?(f=z(d),d=B(d),e=f,f=M(f)):(e=E(d),N(e,0),e=N(e,1),e.c?e.c(c):e.call(null,c),d=F(d),e=null,f=0),h=0;
else break;return a};lx.A=3;var mx=function mx(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return mx.b(arguments[0],arguments[1]);case 3:return mx.f(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};fa("datascript.core.listen_BANG_",mx);mx.b=function(b,a){return mx.f(b,sj.s(),a)};mx.f=function(b,a,c){Qf.S(lo.c(wd(b)),O,a,c);return a};mx.A=3;
function nx(b,a){return Qf.f(lo.c(wd(b)),td,a)}fa("datascript.core.unlisten_BANG_",nx);
for(var ox=q(new p(null,2,[Zl,function(b){return lf(fq,b)},tn,function(b){var a=null!=b&&(b.m&64||b.Ia)?lf(Nf,b):b,c=Cc(a,Jj),d=Cc(a,Bo);return Tq.b(Xf.b(function(){return function(a){var b=N(a,0),c=N(a,1),d=N(a,2);a=N(a,3);return new Xp(b,c,d,a,!0)}}(b,a,c,d),d),c)}],null)),px=null,qx=0,rx=0;;)if(rx<qx){var sx=px.L(null,rx),tx=N(sx,0),ux=N(sx,1);rv(tx,ux);rx+=1}else{var vx=q(ox);if(vx){var wx=vx;if(P(wx))var xx=z(wx),yx=B(wx),zx=xx,Ax=M(xx),ox=yx,px=zx,qx=Ax;else{var Bx=E(wx),Cx=N(Bx,0),Dx=N(Bx,
1);rv(Cx,Dx);ox=F(wx);px=null;qx=0}rx=0}else break}var Ex=Mf?Mf(-1E6):Lf.call(null,-1E6),Fx=function Fx(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return Fx.c(arguments[0]);case 2:return Fx.b(arguments[0],arguments[1]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};fa("datascript.core.tempid",Fx);Fx.c=function(b){return G.b(b,Cm)?Tm:Qf.b(Ex,te)};Fx.b=function(b,a){return G.b(b,Cm)?Tm:a};Fx.A=2;
fa("datascript.core.resolve_tempid",function(b,a,c){return Cc(a,c)});fa("datascript.core.db",function(b){return H.c?H.c(b):H.call(null,b)});var Gx=function Gx(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return Gx.b(arguments[0],arguments[1]);case 3:return Gx.f(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};fa("datascript.core.transact",Gx);
Gx.b=function(b,a){return Gx.f(b,a,null)};
Gx.f=function(b,a,c){var d=kx.f(b,a,c);"undefined"===typeof Yw&&(Yw=function(a,b,c,d,l){this.Td=a;this.Sa=b;this.Ta=c;this.kc=d;this.Yd=l;this.m=491520;this.C=1},Yw.prototype.O=function(){return function(a,b){return new Yw(this.Td,this.Sa,this.Ta,this.kc,b)}}(d),Yw.prototype.N=function(){return function(){return this.Yd}}(d),Yw.prototype.dc=function(){return function(){return this.kc}}(d),Yw.zd=function(){return function(){return new U(null,5,5,V,[Ik,An,Hj,Aj,qm],null)}}(d),Yw.Hc=!0,Yw.hc="datascript.core/t_datascript$core23980",
Yw.Oc=function(){return function(a,b){return Sb(b,"datascript.core/t_datascript$core23980")}}(d));return new Yw(b,a,c,d,Ud)};Gx.A=3;
var Hx=function Hx(a){var c=Mf?Mf(null):Lf.call(null,null),d=Mf?Mf(!1):Lf.call(null,!1);setTimeout(function(c,d){return function(){var h=a.s?a.s():a.call(null);Pf.b?Pf.b(c,h):Pf.call(null,c,h);return Pf.b?Pf.b(d,!0):Pf.call(null,d,!0)}}(c,d),0);"undefined"===typeof Zw&&(Zw=function(a,c,d,k,l){this.Wd=a;this.Ud=c;this.kc=d;this.be=k;this.Zd=l;this.m=491520;this.C=1},Zw.prototype.O=function(){return function(a,c){return new Zw(this.Wd,this.Ud,this.kc,this.be,c)}}(c,d),Zw.prototype.N=function(){return function(){return this.Zd}}(c,
d),Zw.prototype.dc=function(){return function(){return H.c?H.c(this.kc):H.call(null,this.kc)}}(c,d),Zw.zd=function(){return function(){return new U(null,5,5,V,[dd(hk,new p(null,2,[Hk,!0,zf,Ne(Af,Ne(new U(null,1,5,V,[Ko],null)))],null)),Ko,Aj,xl,nn],null)}}(c,d),Zw.Hc=!0,Zw.hc="datascript.core/t_datascript$core24002",Zw.Oc=function(){return function(a,c){return Sb(c,"datascript.core/t_datascript$core24002")}}(c,d));return new Zw(Hx,a,c,d,Ud)},Ix=function Ix(a){for(var c=[],d=arguments.length,e=0;;)if(e<
d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return Ix.b(arguments[0],arguments[1]);case 3:return Ix.f(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};fa("datascript.core.transact_async",Ix);Ix.b=function(b,a){return Ix.f(b,a,null)};Ix.f=function(b,a,c){return Hx(function(){return kx.f(b,a,c)})};Ix.A=3;function Jx(b,a){var c=b.toString(16),d=M(c);return d>a?Fe.f(c,0,a):d<a?[t(lf(t,cg(a-d,"0"))),t(c)].join(""):c}
var Kx=function Kx(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return Kx.s();case 1:return Kx.c(arguments[0]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};fa("datascript.core.squuid",Kx);Kx.s=function(){return Kx.c((new Date).getTime())};
Kx.c=function(b){b=[t(Jx(b/1E3|0,8)),t("-"),t(Jx(tj(65536),4)),t("-"),t(Jx(tj(65536)&4095|16384,4)),t("-"),t(Jx(tj(65536)&16383|32768,4)),t("-"),t(Jx(tj(65536),4)),t(Jx(tj(65536),4)),t(Jx(tj(65536),4))].join("");return new wj(b,null)};Kx.A=1;function Lx(b){b=Fe.f(""+t(b),0,8);return 1E3*parseInt(b,16)}fa("datascript.core.squuid_time_millis",Lx);ya();function Mx(b){var a=ae(Xd,b),c=M(b)-1;b=.5*M(b)|0;return rd(a,c<b?c:b)}function Nx(b){b=""+t(1<b?b.toFixed(1):.1<b?b.toFixed(2):.001<b?b.toFixed(2):b);return 6>=M(b)?[t(lf(t,cg(6-M(b)," "))),t(b)].join(""):b}function Z(){return performance.now()}function Ox(){return new Date};ya();var Px=Sf(0),Qx=new p(null,1,[ql,new p(null,2,[Xk,fl,cn,Tn],null)],null),Rx=dg(function(){return new p(null,6,[ln,hc(Px,xb(Px)+1),al,uj(new U(null,8,5,V,"Ivan Petr Sergei Oleg Yuri Dmitry Fedor Denis".split(" "),null)),Zj,uj(new U(null,6,5,V,"Ivanov Petrov Sidorov Kovalev Kuznetsov Voronoi".split(" "),null)),uk,uj(new U(null,2,5,V,[Jk,Lj],null)),sk,tj(10),Io,tj(1E5)],null)}),Sx;
Sx=Hf.b(Xf.c(function(b){return ie(function(a,c,d){return nd.b(a,function(){var a=ln.c(b);return fq.f?fq.f(a,c,d):fq.call(null,a,c,d)}())},K,td.b(b,ln))}),jj);function Tx(b,a){return dx(Fq.c?Fq.c(Qx):Fq.call(null,Qx),Ux(1,b,a))}
function Ux(b,a,c){if(0<a){var d=Xf.b(function(a){return b*c+a},mg.c(c));return T.b(Xf.b(function(){return function(a){return new p(null,3,[Cn,b,al,"Ivan",ql,a],null)}}(d),d),fg(function(){return function(b){return Ux(b,a-1,c)}}(d),J([d],0)))}return new U(null,1,5,V,[new p(null,2,[ln,b,al,"Ivan"],null)],null)}
function Vx(b,a){return dx(Fq.c?Fq.c(Qx):Fq.call(null,Qx),lf(T,function(){return function d(a){return new Te(null,function(){for(var f=a;;){var h=q(f);if(h){var k=h,l=E(k);if(h=q(function(a,d,e,f){return function D(h){return new Te(null,function(a,d){return function(){for(;;){var a=q(h);if(a){if(P(a)){var e=z(a),f=M(e),k=Xe(f);a:for(var l=0;;)if(l<f){var m=w.b(e,l),n=d*(b+1)+m+1;k.add(new U(null,2,5,V,[new p(null,3,[ln,d*(b+1)+m,al,"Ivan",ql,n],null),new p(null,2,[ln,n,al,"Ivan"],null)],null));l+=
1}else{e=!0;break a}return e?Ze(bf(k),D(B(a))):Ze(bf(k),null)}k=E(a);e=d*(b+1)+k+1;return bd(new U(null,2,5,V,[new p(null,3,[ln,d*(b+1)+k,al,"Ivan",ql,e],null),new p(null,2,[ln,e,al,"Ivan"],null)],null),D(Ec(a)))}return null}}}(a,d,e,f),null,null)}}(f,l,k,h)(mg.c(b))))return T.b(h,d(Ec(f)));f=Ec(f)}else return null}},null,null)}(mg.c(a))}()))}
function Wx(){for(var b=q(new U(null,3,5,V,[100,500,2E3],null)),a=null,c=0,d=0;;)if(d<c){for(var e=a.L(null,d),f=q(new U(null,1,5,V,[1],null)),h=null,k=0,l=0;;)if(l<k){var m=h.L(null,l),n=Gi(m,m,Zf(e,Rx)),u=r(null)?null:fj(J([[t("\n"),t(new p(null,3,[so,"db_with",Sl,e,Yl,m],null))].join("")],0)),y=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d)v(dx,Fq.s?Fq.s():Fq.call(null),n),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),A=W.b(K,function(){return function(a,b,c,d,e,f,
h,k,l,m,n,u,x){return function Yd(y){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n){return function(){for(;;){var a=q(y);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l)v(dx,Fq.s?Fq.s():Fq.call(null),n),l+=1;else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Yd(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=
0;;)if(10>d)v(dx,Fq.s?Fq.s():Fq.call(null),n),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Yd(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x),null,null)}}(f,h,k,l,b,a,c,d,u,y,n,m,e)(mg.c(5))}()),D=he(ve,A),x=Mx(A),L=he(ue,A);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,3,[so,"db_with",Sl,e,Yl,m],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,x,Sj,D,Um,L,Pk,A],null)],0)),"}"],0)):fj(J(["[ min:",
Nx(D),"] [ med:",Nx(x),"] [ max:",Nx(L),"] ms"],0));l+=1}else{var I=q(f);if(I){var Q=I;if(P(Q))x=z(Q),A=B(Q),D=x,x=M(x),f=A,h=D,k=x;else{var Va=E(Q),La=Gi(Va,Va,Zf(e,Rx)),lb=r(null)?null:fj(J([[t("\n"),t(new p(null,3,[so,"db_with",Sl,e,Yl,Va],null))].join("")],0)),na=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d)v(dx,Fq.s?Fq.s():Fq.call(null),La),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),A=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A){return function Ph(D){return new Te(null,
function(a,b,c,d,e,f,h,k,l,m,n){return function(){for(;;){var a=q(D);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l)v(dx,Fq.s?Fq.s():Fq.call(null),n),l+=1;else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Ph(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d)v(dx,Fq.s?Fq.s():Fq.call(null),n),d+=1;
else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Ph(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A),null,null)}}(f,h,k,l,b,a,c,d,lb,na,La,Va,Q,I,e)(mg.c(5))}()),D=he(ve,A),x=Mx(A),L=he(ue,A);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,3,[so,"db_with",Sl,e,Yl,Va],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,x,Sj,D,Um,L,Pk,A],null)],0)),"}"],0)):fj(J(["[ min:",Nx(D),"] [ med:",Nx(x),"] [ max:",Nx(L),
"] ms"],0));f=F(Q);h=null;k=0}l=0}else break}d+=1}else{var pc=q(b);if(pc){var Ka=pc;if(P(Ka))x=z(Ka),A=B(Ka),D=x,x=M(x),b=A,a=D,c=x;else{for(var e=E(Ka),Pa=q(new U(null,1,5,V,[1],null)),ea=null,Xa=0,Ha=0;;)if(Ha<Xa){var Ya=ea.L(null,Ha),ib=Gi(Ya,Ya,Zf(e,Rx)),vb=r(null)?null:fj(J([[t("\n"),t(new p(null,3,[so,"db_with",Sl,e,Yl,Ya],null))].join("")],0)),Ab=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d)v(dx,Fq.s?Fq.s():Fq.call(null),ib),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-
a)/c}}(),A=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A){return function Ph(D){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n){return function(){for(;;){var a=q(D);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l)v(dx,Fq.s?Fq.s():Fq.call(null),n),l+=1;else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Ph(B(a))):Ze(bf(d),null)}E(a);
return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d)v(dx,Fq.s?Fq.s():Fq.call(null),n),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Ph(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A),null,null)}}(Pa,ea,Xa,Ha,b,a,c,d,vb,Ab,ib,Ya,e,Ka,pc)(mg.c(5))}()),D=he(ve,A),x=Mx(A),L=he(ue,A);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,3,[so,"db_with",Sl,e,Yl,Ya],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",
X.h(J([new p(null,4,[Bm,x,Sj,D,Um,L,Pk,A],null)],0)),"}"],0)):fj(J(["[ min:",Nx(D),"] [ med:",Nx(x),"] [ max:",Nx(L),"] ms"],0));Ha+=1}else{var Bb=q(Pa);if(Bb){var fc=Bb;if(P(fc))x=z(fc),A=B(fc),D=x,x=M(x),Pa=A,ea=D,Xa=x;else{var Xb=E(fc),qc=Gi(Xb,Xb,Zf(e,Rx)),Jb=r(null)?null:fj(J([[t("\n"),t(new p(null,3,[so,"db_with",Sl,e,Yl,Xb],null))].join("")],0)),uc=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d)v(dx,Fq.s?Fq.s():Fq.call(null),qc),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-
a)/c}}(),A=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I){return function Qh(L){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n){return function(){for(;;){var a=q(L);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l)v(dx,Fq.s?Fq.s():Fq.call(null),n),l+=1;else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Qh(B(a))):Ze(bf(d),null)}E(a);
return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d)v(dx,Fq.s?Fq.s():Fq.call(null),n),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Qh(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I),null,null)}}(Pa,ea,Xa,Ha,b,a,c,d,Jb,uc,qc,Xb,fc,Bb,e,Ka,pc)(mg.c(5))}()),D=he(ve,A),x=Mx(A),L=he(ue,A);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,3,[so,"db_with",Sl,e,Yl,Xb],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),
"\n  :results",X.h(J([new p(null,4,[Bm,x,Sj,D,Um,L,Pk,A],null)],0)),"}"],0)):fj(J(["[ min:",Nx(D),"] [ med:",Nx(x),"] [ max:",Nx(L),"] ms"],0));Pa=F(fc);ea=null;Xa=0}Ha=0}else break}b=F(Ka);a=null;c=0}d=0}else return null}}fa("datascript.bench.bench_db_with",Wx);
function Xx(){for(var b=q(new U(null,5,5,V,[100,500,2E3,5E3,2E4],null)),a=null,c=0,d=0;;)if(d<c){var e=a.L(null,d),f=W.f(K,Hf.b(Sx,Yf(e)),Rx),h=r(null)?null:fj(J([[t("\n"),t(new p(null,2,[so,"init_db",Sl,e],null))].join("")],0)),k=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d)Tq.c?Tq.c(f):Tq.call(null,f),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),l=W.b(K,function(){return function(a,b,c,d,e,f,h,k){return function ea(l){return new Te(null,function(a,b,c,d,e,f,h){return function(){for(;;){var a=
q(l);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var k=1E3+f,l=10;;){for(var m=0;;)if(10>m)Tq.c?Tq.c(h):Tq.call(null,h),m+=1;else break;m=Z();if(m<k)l=10+l;else{f=(m-f)/l;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),ea(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d)Tq.c?Tq.c(h):Tq.call(null,h),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),ea(Ec(a)))}return null}}}(a,
b,c,d,e,f,h,k),null,null)}}(b,a,c,d,h,k,f,e)(mg.c(5))}()),m=he(ve,l),n=Mx(l),u=he(ue,l);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,2,[so,"init_db",Sl,e],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,n,Sj,m,Um,u,Pk,l],null)],0)),"}"],0)):fj(J(["[ min:",Nx(m),"] [ med:",Nx(n),"] [ max:",Nx(u),"] ms"],0));d+=1}else{var y=q(b);if(y){var A=y;if(P(A))n=z(A),l=B(A),m=n,n=M(n),b=l,a=m,c=n;else{var e=E(A),D=W.f(K,
Hf.b(Sx,Yf(e)),Rx),x=r(null)?null:fj(J([[t("\n"),t(new p(null,2,[so,"init_db",Sl,e],null))].join("")],0)),L=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d)Tq.c?Tq.c(D):Tq.call(null,D),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),l=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m){return function Ha(n){return new Te(null,function(a,b,c,d,e,f,h){return function(){for(;;){var a=q(n);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,
a);var e=d,f;a:{f=Z();for(var k=1E3+f,l=10;;){for(var m=0;;)if(10>m)Tq.c?Tq.c(h):Tq.call(null,h),m+=1;else break;m=Z();if(m<k)l=10+l;else{f=(m-f)/l;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Ha(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d)Tq.c?Tq.c(h):Tq.call(null,h),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Ha(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m),null,null)}}(b,a,c,d,x,L,D,e,A,y)(mg.c(5))}()),m=he(ve,l),n=Mx(l),
u=he(ue,l);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,2,[so,"init_db",Sl,e],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,n,Sj,m,Um,u,Pk,l],null)],0)),"}"],0)):fj(J(["[ min:",Nx(m),"] [ med:",Nx(n),"] [ max:",Nx(u),"] ms"],0));b=F(A);a=null;c=0}d=0}else return null}}fa("datascript.bench.bench_init_db",Xx);
function Yx(){for(var b=q(new U(null,4,5,V,[new U(null,2,5,V,["q1",new U(null,4,5,V,[Ej,to,jk,new U(null,3,5,V,[to,al,"Ivan"],null)],null)],null),new U(null,2,5,V,["q2",new U(null,6,5,V,[Ej,to,Pj,jk,new U(null,3,5,V,[to,al,"Ivan"],null),new U(null,3,5,V,[to,sk,Pj],null)],null)],null),new U(null,2,5,V,["q3",new U(null,7,5,V,[Ej,to,Pj,jk,new U(null,3,5,V,[to,al,"Ivan"],null),new U(null,3,5,V,[to,sk,Pj],null),new U(null,3,5,V,[to,uk,Jk],null)],null)],null),new U(null,2,5,V,["q4",new U(null,9,5,V,[Ej,
to,un,Pj,jk,new U(null,3,5,V,[to,al,"Ivan"],null),new U(null,3,5,V,[to,Zj,un],null),new U(null,3,5,V,[to,sk,Pj],null),new U(null,3,5,V,[to,uk,Jk],null)],null)],null)],null)),a=null,c=0,d=0;;)if(d<c){for(var e=a.L(null,d),f=N(e,0),h=N(e,1),k=q(new U(null,4,5,V,[100,500,2E3,2E4],null)),l=null,m=0,n=0;;)if(n<m){var u=l.L(null,n),y=dx(Fq.s?Fq.s():Fq.call(null),Zf(u,Rx)),A=r(null)?null:fj(J([[t("\n"),t(new p(null,2,[so,f,Sl,u],null))].join("")],0)),D=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=
0;;)if(10>d)Xw.b?Xw.b(h,y):Xw.call(null,h,y),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),x=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A){return function Qg(D){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A){return function(){for(;;){var a=q(D);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l)Xw.b?Xw.b(A,n):Xw.call(null,A,n),l+=1;else break;l=Z();if(l<
h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Qg(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d)Xw.b?Xw.b(A,n):Xw.call(null,A,n),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Qg(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A),null,null)}}(k,l,m,n,b,a,c,d,A,D,y,u,e,f,h)(mg.c(5))}()),L=he(ve,x),I=Mx(x),Q=he(ue,x);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,2,[so,f,Sl,
u],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,I,Sj,L,Um,Q,Pk,x],null)],0)),"}"],0)):fj(J(["[ min:",Nx(L),"] [ med:",Nx(I),"] [ max:",Nx(Q),"] ms"],0));n+=1}else{var Va=q(k);if(Va){var La=Va;if(P(La))I=z(La),x=B(La),L=I,I=M(I),k=x,l=L,m=I;else{var lb=E(La),na=dx(Fq.s?Fq.s():Fq.call(null),Zf(lb,Rx)),pc=r(null)?null:fj(J([[t("\n"),t(new p(null,2,[so,f,Sl,lb],null))].join("")],0)),Ka=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>
d)Xw.b?Xw.b(h,na):Xw.call(null,h,na),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),x=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I){return function Kd(L){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I){return function(){for(;;){var a=q(L);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l)Xw.b?Xw.b(I,n):Xw.call(null,I,n),l+=1;else break;l=Z();if(l<
h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Kd(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d)Xw.b?Xw.b(I,n):Xw.call(null,I,n),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Kd(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I),null,null)}}(k,l,m,n,b,a,c,d,pc,Ka,na,lb,La,Va,e,f,h)(mg.c(5))}()),L=he(ve,x),I=Mx(x),Q=he(ue,x);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,
2,[so,f,Sl,lb],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,I,Sj,L,Um,Q,Pk,x],null)],0)),"}"],0)):fj(J(["[ min:",Nx(L),"] [ med:",Nx(I),"] [ max:",Nx(Q),"] ms"],0));k=F(La);l=null;m=0}n=0}else break}d+=1}else{var Pa=q(b);if(Pa){var ea=Pa;if(P(ea))I=z(ea),x=B(ea),L=I,I=M(I),b=x,a=L,c=I;else{for(var Xa=E(ea),f=N(Xa,0),h=N(Xa,1),Ha=q(new U(null,4,5,V,[100,500,2E3,2E4],null)),Ya=null,ib=0,vb=0;;)if(vb<ib){var Ab=Ya.L(null,vb),Bb=dx(Fq.s?Fq.s():
Fq.call(null),Zf(Ab,Rx)),fc=r(null)?null:fj(J([[t("\n"),t(new p(null,2,[so,f,Sl,Ab],null))].join("")],0)),Xb=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d)Xw.b?Xw.b(h,Bb):Xw.call(null,h,Bb),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),x=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I){return function Kd(L){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A){return function(){for(;;){var a=q(L);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=
0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l)Xw.b?Xw.b(A,n):Xw.call(null,A,n),l+=1;else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Kd(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d)Xw.b?Xw.b(A,n):Xw.call(null,A,n),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Kd(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I),null,null)}}(Ha,Ya,ib,vb,
b,a,c,d,fc,Xb,Bb,Ab,Xa,f,h,ea,Pa)(mg.c(5))}()),L=he(ve,x),I=Mx(x),Q=he(ue,x);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,2,[so,f,Sl,Ab],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,I,Sj,L,Um,Q,Pk,x],null)],0)),"}"],0)):fj(J(["[ min:",Nx(L),"] [ med:",Nx(I),"] [ max:",Nx(Q),"] ms"],0));vb+=1}else{var qc=q(Ha);if(qc){var Jb=qc;if(P(Jb))I=z(Jb),x=B(Jb),L=I,I=M(I),Ha=x,Ya=L,ib=I;else{var uc=E(Jb),ad=dx(Fq.s?
Fq.s():Fq.call(null),Zf(uc,Rx)),De=r(null)?null:fj(J([[t("\n"),t(new p(null,2,[so,f,Sl,uc],null))].join("")],0)),Sd=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d)Xw.b?Xw.b(h,ad):Xw.call(null,h,ad),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),x=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q){return function li(na){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I){return function(){for(;;){var a=q(na);if(a){if(P(a)){var b=z(a),c=M(b),
d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l)Xw.b?Xw.b(I,n):Xw.call(null,I,n),l+=1;else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),li(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d)Xw.b?Xw.b(I,n):Xw.call(null,I,n),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),li(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,
x,y,A,D,I,L,Q),null,null)}}(Ha,Ya,ib,vb,b,a,c,d,De,Sd,ad,uc,Jb,qc,Xa,f,h,ea,Pa)(mg.c(5))}()),L=he(ve,x),I=Mx(x),Q=he(ue,x);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,2,[so,f,Sl,uc],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,I,Sj,L,Um,Q,Pk,x],null)],0)),"}"],0)):fj(J(["[ min:",Nx(L),"] [ med:",Nx(I),"] [ max:",Nx(Q),"] ms"],0));Ha=F(Jb);Ya=null;ib=0}vb=0}else break}b=F(ea);a=null;c=0}d=0}else return null}}
fa("datascript.bench.bench_queries",Yx);
function dy(){for(var b=q(new U(null,2,5,V,[new U(null,2,5,V,["p1",new U(null,9,5,V,[Ej,to,km,Fo,Qm,Wl,jk,new U(null,3,5,V,[to,Io,km],null),new U(null,1,5,V,[Ne(Dl,km,5E4)],null)],null)],null),new U(null,2,5,V,["p2",new U(null,9,5,V,[Ej,to,km,Fo,Qm,Wl,jk,new U(null,3,5,V,[to,Io,km],null),new U(null,1,5,V,[Ne(Dl,km,Wl)],null)],null)],null)],null)),a=null,c=0,d=0;;)if(d<c){for(var e=a.L(null,d),f=N(e,0),h=N(e,1),k=q(new U(null,1,5,V,[2E4],null)),l=null,m=0,n=0;;)if(n<m){var u=l.L(null,n),y=dx(Fq.s?
Fq.s():Fq.call(null),Zf(u,Rx)),A=r(null)?null:fj(J([[t("\n"),t(new p(null,2,[so,f,Sl,u],null))].join("")],0)),D=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d)Xw.f?Xw.f(h,y,5E4):Xw.call(null,h,y,5E4),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),x=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A){return function Qg(D){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A){return function(){for(;;){var a=q(D);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=
0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l)Xw.f?Xw.f(A,n,5E4):Xw.call(null,A,n,5E4),l+=1;else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Qg(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d)Xw.f?Xw.f(A,n,5E4):Xw.call(null,A,n,5E4),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Qg(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A),null,null)}}(k,
l,m,n,b,a,c,d,A,D,y,u,e,f,h)(mg.c(5))}()),L=he(ve,x),I=Mx(x),Q=he(ue,x);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,2,[so,f,Sl,u],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,I,Sj,L,Um,Q,Pk,x],null)],0)),"}"],0)):fj(J(["[ min:",Nx(L),"] [ med:",Nx(I),"] [ max:",Nx(Q),"] ms"],0));n+=1}else{var Va=q(k);if(Va){var La=Va;if(P(La))I=z(La),x=B(La),L=I,I=M(I),k=x,l=L,m=I;else{var lb=E(La),na=dx(Fq.s?Fq.s():Fq.call(null),
Zf(lb,Rx)),pc=r(null)?null:fj(J([[t("\n"),t(new p(null,2,[so,f,Sl,lb],null))].join("")],0)),Ka=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d)Xw.f?Xw.f(h,na,5E4):Xw.call(null,h,na,5E4),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),x=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I){return function Kd(L){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I){return function(){for(;;){var a=q(L);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=
0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l)Xw.f?Xw.f(I,n,5E4):Xw.call(null,I,n,5E4),l+=1;else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Kd(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d)Xw.f?Xw.f(I,n,5E4):Xw.call(null,I,n,5E4),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Kd(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I),null,null)}}(k,
l,m,n,b,a,c,d,pc,Ka,na,lb,La,Va,e,f,h)(mg.c(5))}()),L=he(ve,x),I=Mx(x),Q=he(ue,x);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,2,[so,f,Sl,lb],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,I,Sj,L,Um,Q,Pk,x],null)],0)),"}"],0)):fj(J(["[ min:",Nx(L),"] [ med:",Nx(I),"] [ max:",Nx(Q),"] ms"],0));k=F(La);l=null;m=0}n=0}else break}d+=1}else{var Pa=q(b);if(Pa){var ea=Pa;if(P(ea))I=z(ea),x=B(ea),L=I,I=M(I),b=x,a=L,
c=I;else{for(var Xa=E(ea),f=N(Xa,0),h=N(Xa,1),Ha=q(new U(null,1,5,V,[2E4],null)),Ya=null,ib=0,vb=0;;)if(vb<ib){var Ab=Ya.L(null,vb),Bb=dx(Fq.s?Fq.s():Fq.call(null),Zf(Ab,Rx)),fc=r(null)?null:fj(J([[t("\n"),t(new p(null,2,[so,f,Sl,Ab],null))].join("")],0)),Xb=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d)Xw.f?Xw.f(h,Bb,5E4):Xw.call(null,h,Bb,5E4),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),x=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I){return function Kd(L){return new Te(null,
function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A){return function(){for(;;){var a=q(L);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l)Xw.f?Xw.f(A,n,5E4):Xw.call(null,A,n,5E4),l+=1;else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Kd(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d)Xw.f?Xw.f(A,n,5E4):Xw.call(null,
A,n,5E4),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Kd(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I),null,null)}}(Ha,Ya,ib,vb,b,a,c,d,fc,Xb,Bb,Ab,Xa,f,h,ea,Pa)(mg.c(5))}()),L=he(ve,x),I=Mx(x),Q=he(ue,x);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,2,[so,f,Sl,Ab],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,I,Sj,L,Um,Q,Pk,x],null)],0)),"}"],0)):fj(J(["[ min:",Nx(L),"] [ med:",Nx(I),
"] [ max:",Nx(Q),"] ms"],0));vb+=1}else{var qc=q(Ha);if(qc){var Jb=qc;if(P(Jb))I=z(Jb),x=B(Jb),L=I,I=M(I),Ha=x,Ya=L,ib=I;else{var uc=E(Jb),ad=dx(Fq.s?Fq.s():Fq.call(null),Zf(uc,Rx)),De=r(null)?null:fj(J([[t("\n"),t(new p(null,2,[so,f,Sl,uc],null))].join("")],0)),Sd=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d)Xw.f?Xw.f(h,ad,5E4):Xw.call(null,h,ad,5E4),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),x=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,
Q){return function li(na){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I){return function(){for(;;){var a=q(na);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l)Xw.f?Xw.f(I,n,5E4):Xw.call(null,I,n,5E4),l+=1;else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),li(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=
0;;)if(10>d)Xw.f?Xw.f(I,n,5E4):Xw.call(null,I,n,5E4),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),li(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q),null,null)}}(Ha,Ya,ib,vb,b,a,c,d,De,Sd,ad,uc,Jb,qc,Xa,f,h,ea,Pa)(mg.c(5))}()),L=he(ve,x),I=Mx(x),Q=he(ue,x);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,2,[so,f,Sl,uc],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,I,Sj,L,Um,Q,Pk,x],
null)],0)),"}"],0)):fj(J(["[ min:",Nx(L),"] [ med:",Nx(I),"] [ max:",Nx(Q),"] ms"],0));Ha=F(Jb);Ya=null;ib=0}vb=0}else break}b=F(ea);a=null;c=0}d=0}else return null}}fa("datascript.bench.bench_predicates",dy);
function ey(){for(var b=q(new U(null,7,5,V,[new U(null,2,5,V,["wide 3\u00d73",Tx(3,3)],null),new U(null,2,5,V,["wide 5\u00d73",Tx(5,3)],null),new U(null,2,5,V,["wide 7\u00d73",Tx(7,3)],null),new U(null,2,5,V,["wide 4\u00d76",Tx(4,6)],null),new U(null,2,5,V,["long 10\u00d73",Vx(10,3)],null),new U(null,2,5,V,["long 30\u00d73",Vx(30,3)],null),new U(null,2,5,V,["long 30\u00d75",Vx(30,5)],null)],null)),a=null,c=0,d=0;;)if(d<c){var e=a.L(null,d),f=N(e,0),h=N(e,1),k=r(null)?null:fj(J([[t("\n"),t(new p(null,
2,[so,"rules",Fn,f],null))].join("")],0)),l=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d){var e=new U(null,8,5,V,[Ej,to,Jo,Fo,Qm,Pl,jk,Ne(rm,to,Jo)],null),f=h,k=new U(null,2,5,V,[new U(null,2,5,V,[Ne(rm,kn,Gn),new U(null,3,5,V,[kn,ql,Gn],null)],null),new U(null,3,5,V,[Ne(rm,kn,Gn),new U(null,3,5,V,[kn,ql,ro],null),Ne(rm,ro,Gn)],null)],null);Xw.f?Xw.f(e,f,k):Xw.call(null,e,f,k);d+=1}else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),m=W.b(K,function(){return function(a,b,c,d,e,
f,h,k,l){return function Ha(m){return new Te(null,function(a,b,c,d,e,f,h,k,l){return function(){for(;;){var a=q(m);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var m=0;;)if(10>m){var n=new U(null,8,5,V,[Ej,to,Jo,Fo,Qm,Pl,jk,Ne(rm,to,Jo)],null),u=l,x=new U(null,2,5,V,[new U(null,2,5,V,[Ne(rm,kn,Gn),new U(null,3,5,V,[kn,ql,Gn],null)],null),new U(null,3,5,V,[Ne(rm,kn,Gn),new U(null,3,5,V,[kn,ql,ro],null),Ne(rm,
ro,Gn)],null)],null);Xw.f?Xw.f(n,u,x):Xw.call(null,n,u,x);m+=1}else break;m=Z();if(m<h)k=10+k;else{f=(m-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Ha(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d){var e=new U(null,8,5,V,[Ej,to,Jo,Fo,Qm,Pl,jk,Ne(rm,to,Jo)],null),f=l,h=new U(null,2,5,V,[new U(null,2,5,V,[Ne(rm,kn,Gn),new U(null,3,5,V,[kn,ql,Gn],null)],null),new U(null,3,5,V,[Ne(rm,kn,Gn),new U(null,3,5,V,[kn,ql,ro],null),Ne(rm,ro,Gn)],
null)],null);Xw.f?Xw.f(e,f,h):Xw.call(null,e,f,h);d+=1}else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Ha(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l),null,null)}}(b,a,c,d,k,l,e,f,h)(mg.c(5))}()),n=he(ve,m),u=Mx(m),y=he(ue,m);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,2,[so,"rules",Fn,f],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,u,Sj,n,Um,y,Pk,m],null)],0)),"}"],0)):fj(J(["[ min:",Nx(n),"] [ med:",
Nx(u),"] [ max:",Nx(y),"] ms"],0));d+=1}else{var A=q(b);if(A){var D=A;if(P(D))u=z(D),m=B(D),n=u,u=M(u),b=m,a=n,c=u;else{var x=E(D),f=N(x,0),h=N(x,1),L=r(null)?null:fj(J([[t("\n"),t(new p(null,2,[so,"rules",Fn,f],null))].join("")],0)),I=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d){var e=new U(null,8,5,V,[Ej,to,Jo,Fo,Qm,Pl,jk,Ne(rm,to,Jo)],null),f=h,k=new U(null,2,5,V,[new U(null,2,5,V,[Ne(rm,kn,Gn),new U(null,3,5,V,[kn,ql,Gn],null)],null),new U(null,3,5,V,[Ne(rm,kn,Gn),new U(null,
3,5,V,[kn,ql,ro],null),Ne(rm,ro,Gn)],null)],null);Xw.f?Xw.f(e,f,k):Xw.call(null,e,f,k);d+=1}else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),m=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n){return function ib(u){return new Te(null,function(a,b,c,d,e,f,h,k,l){return function(){for(;;){var a=q(u);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var m=0;;)if(10>m){var n=new U(null,8,5,V,[Ej,to,Jo,Fo,
Qm,Pl,jk,Ne(rm,to,Jo)],null),u=l,x=new U(null,2,5,V,[new U(null,2,5,V,[Ne(rm,kn,Gn),new U(null,3,5,V,[kn,ql,Gn],null)],null),new U(null,3,5,V,[Ne(rm,kn,Gn),new U(null,3,5,V,[kn,ql,ro],null),Ne(rm,ro,Gn)],null)],null);Xw.f?Xw.f(n,u,x):Xw.call(null,n,u,x);m+=1}else break;m=Z();if(m<h)k=10+k;else{f=(m-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),ib(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d){var e=new U(null,8,5,V,[Ej,to,Jo,Fo,Qm,Pl,
jk,Ne(rm,to,Jo)],null),f=l,h=new U(null,2,5,V,[new U(null,2,5,V,[Ne(rm,kn,Gn),new U(null,3,5,V,[kn,ql,Gn],null)],null),new U(null,3,5,V,[Ne(rm,kn,Gn),new U(null,3,5,V,[kn,ql,ro],null),Ne(rm,ro,Gn)],null)],null);Xw.f?Xw.f(e,f,h):Xw.call(null,e,f,h);d+=1}else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),ib(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n),null,null)}}(b,a,c,d,L,I,x,f,h,D,A)(mg.c(5))}()),n=he(ve,m),u=Mx(m),y=he(ue,m);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,
2,[so,"rules",Fn,f],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,u,Sj,n,Um,y,Pk,m],null)],0)),"}"],0)):fj(J(["[ min:",Nx(n),"] [ med:",Nx(u),"] [ max:",Nx(y),"] ms"],0));b=F(D);a=null;c=0}d=0}else return null}}fa("datascript.bench.bench_rules",ey);
function fy(){for(var b=q(new U(null,3,5,V,[new U(null,2,5,V,["sorted-set",Bi()],null),new U(null,2,5,V,["vector",K],null),new U(null,2,5,V,["btset",Rp(Xd)],null)],null)),a=null,c=0,d=0;;)if(d<c){for(var e=a.L(null,d),f=N(e,0),h=N(e,1),k=q(new U(null,3,5,V,[100,500,2E4],null)),l=null,m=0,n=0;;)if(n<m){var u=l.L(null,n),y=fe(mg.c(u)),A=fe(y),D=W.b(h,y),x=r(null)?null:fj(J([[t("\n"),t(new p(null,3,[Kn,f,so,"set-conj",Sl,u],null))].join("")],0)),L=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>
d)W.b(h,y),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),I=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I){return function Nd(L){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I){return function(){for(;;){var a=q(L);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l)W.b(I,n),l+=1;else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?
Ze(bf(d),Nd(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d)W.b(I,n),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Nd(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I),null,null)}}(k,l,m,n,b,a,c,d,x,L,y,A,D,u,e,f,h)(mg.c(5))}()),Q=he(ve,I),Va=Mx(I),La=he(ue,I);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,3,[Kn,f,so,"set-conj",Sl,u],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],
0)),"\n  :results",X.h(J([new p(null,4,[Bm,Va,Sj,Q,Um,La,Pk,I],null)],0)),"}"],0)):fj(J(["[ min:",Nx(Q),"] [ med:",Nx(Va),"] [ max:",Nx(La),"] ms"],0));if(r(Oi(/set/,f))){var lb=r(null)?null:fj(J([[t("\n"),t(new p(null,3,[Kn,f,so,"set-disj",Sl,u],null))].join("")],0)),na=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d)v(zd,D,A),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),pc=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I){return function Nd(L){return new Te(null,
function(a,b,c,d,e,f,h,k,l,m,n,u,x){return function(){for(;;){var a=q(L);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l)v(zd,x,u),l+=1;else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Nd(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d)v(zd,x,u),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-
a)/c}}(),Nd(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I),null,null)}}(k,l,m,n,b,a,c,d,lb,na,y,A,D,u,e,f,h)(mg.c(5))}()),Ka=he(ve,pc),Pa=Mx(pc),ea=he(ue,pc);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,3,[Kn,f,so,"set-disj",Sl,u],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,Pa,Sj,Ka,Um,ea,Pk,pc],null)],0)),"}"],0)):fj(J(["[ min:",Nx(Ka),"] [ med:",Nx(Pa),"] [ max:",Nx(ea),"] ms"],0));var Xa=r(null)?
null:fj(J([[t("\n"),t(new p(null,3,[Kn,f,so,"set-lookup",Sl,u],null))].join("")],0)),Ha=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d){for(var e=q(A),f=null,h=0,k=0;;)if(k<h){var l=f.L(null,k);Qd(D,l);k+=1}else if(e=q(e))f=e,P(f)?(e=z(f),k=B(f),f=e,h=M(e),e=k):(e=E(f),Qd(D,e),e=F(f),f=null,h=0),k=0;else break;d+=1}else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Ya=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I){return function Nd(L){return new Te(null,function(a,
b,c,d,e,f,h,k,l,m,n,u,x){return function(){for(;;){var a=q(L);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l){for(var m=q(u),n=null,y=0,A=0;;)if(A<y){var D=n.L(null,A);Qd(x,D);A+=1}else if(m=q(m))n=m,P(n)?(m=z(n),A=B(n),n=m,y=M(m),m=A):(m=E(n),Qd(x,m),m=F(n),n=null,y=0),A=0;else break;l+=1}else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Nd(B(a))):
Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d){for(var e=q(u),f=null,h=0,k=0;;)if(k<h){var l=f.L(null,k);Qd(x,l);k+=1}else if(e=q(e))f=e,P(f)?(e=z(f),k=B(f),f=e,h=M(e),e=k):(e=E(f),Qd(x,e),e=F(f),f=null,h=0),k=0;else break;d+=1}else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Nd(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I),null,null)}}(k,l,m,n,b,a,c,d,Xa,Ha,y,A,D,u,e,f,h)(mg.c(5))}()),ib=he(ve,Ya),vb=Mx(Ya),Ab=he(ue,Ya);r(null)?fj(J(["{ :context",
X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,3,[Kn,f,so,"set-lookup",Sl,u],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,vb,Sj,ib,Um,Ab,Pk,Ya],null)],0)),"}"],0)):fj(J(["[ min:",Nx(ib),"] [ med:",Nx(vb),"] [ max:",Nx(Ab),"] ms"],0))}var Bb=r(null)?null:fj(J([[t("\n"),t(new p(null,3,[Kn,f,so,"set-iterate",Sl,u],null))].join("")],0)),fc=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d){for(var e=q(D),f=null,h=0,k=0;;)if(k<
h){var l=f.L(null,k);1+l;k+=1}else if(e=q(e))f=e,P(f)?(e=z(f),k=B(f),f=e,h=M(e),e=k):(e=E(f),1+e,e=F(f),f=null,h=0),k=0;else break;d+=1}else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Xb=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I){return function Nd(L){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n,u,x){return function(){for(;;){var a=q(L);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=
10;;){for(var l=0;;)if(10>l){for(var m=q(x),n=null,u=0,y=0;;)if(y<u){var A=n.L(null,y);1+A;y+=1}else if(m=q(m))n=m,P(n)?(m=z(n),y=B(n),n=m,u=M(m),m=y):(m=E(n),1+m,m=F(n),n=null,u=0),y=0;else break;l+=1}else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Nd(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d){for(var e=q(x),f=null,h=0,k=0;;)if(k<h){var l=f.L(null,k);1+l;k+=1}else if(e=q(e))f=e,P(f)?(e=z(f),
k=B(f),f=e,h=M(e),e=k):(e=E(f),1+e,e=F(f),f=null,h=0),k=0;else break;d+=1}else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Nd(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I),null,null)}}(k,l,m,n,b,a,c,d,Bb,fc,y,A,D,u,e,f,h)(mg.c(5))}()),qc=he(ve,Xb),Jb=Mx(Xb),uc=he(ue,Xb);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,3,[Kn,f,so,"set-iterate",Sl,u],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,
Jb,Sj,qc,Um,uc,Pk,Xb],null)],0)),"}"],0)):fj(J(["[ min:",Nx(qc),"] [ med:",Nx(Jb),"] [ max:",Nx(uc),"] ms"],0));var ad=r(null)?null:fj(J([[t("\n"),t(new p(null,3,[Kn,f,so,"set-reduce",Sl,u],null))].join("")],0)),De=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d)v(le,0,D),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Sd=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I){return function Nd(L){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n,u,x){return function(){for(;;){var a=
q(L);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l)v(le,0,x),l+=1;else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Nd(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d)v(le,0,x),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Nd(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,
I),null,null)}}(k,l,m,n,b,a,c,d,ad,De,y,A,D,u,e,f,h)(mg.c(5))}()),pd=he(ve,Sd),Xj=Mx(Sd),af=he(ue,Sd);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,3,[Kn,f,so,"set-reduce",Sl,u],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,Xj,Sj,pd,Um,af,Pk,Sd],null)],0)),"}"],0)):fj(J(["[ min:",Nx(pd),"] [ med:",Nx(Xj),"] [ max:",Nx(af),"] ms"],0));n+=1}else{var Oh=q(k);if(Oh){var mf=Oh;if(P(mf))var Ak=z(mf),Hw=B(mf),Iw=Ak,
Jw=M(Ak),k=Hw,l=Iw,m=Jw;else{var id=E(mf),Pg=fe(mg.c(id)),Yd=fe(Pg),nf=W.b(h,Pg),Ph=r(null)?null:fj(J([[t("\n"),t(new p(null,3,[Kn,f,so,"set-conj",Sl,id],null))].join("")],0)),Kw=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d)W.b(h,Pg),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Qh=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q){return function Gb(ea){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,xt){return function(){for(;;){var a=
q(ea);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l)W.b(xt,n),l+=1;else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Gb(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d)W.b(xt,n),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Gb(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,
I,L,Q),null,null)}}(k,l,m,n,b,a,c,d,Ph,Kw,Pg,Yd,nf,id,mf,Oh,e,f,h)(mg.c(5))}()),Qg=he(ve,Qh),Vr=Mx(Qh),Kd=he(ue,Qh);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,3,[Kn,f,so,"set-conj",Sl,id],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,Vr,Sj,Qg,Um,Kd,Pk,Qh],null)],0)),"}"],0)):fj(J(["[ min:",Nx(Qg),"] [ med:",Nx(Vr),"] [ max:",Nx(Kd),"] ms"],0));if(r(Oi(/set/,f))){var Zx=r(null)?null:fj(J([[t("\n"),t(new p(null,
3,[Kn,f,so,"set-disj",Sl,id],null))].join("")],0)),li=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d)v(zd,nf,Yd),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),wm=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q){return function Gb(ea){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n,u,x){return function(){for(;;){var a=q(ea);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+
f,k=10;;){for(var l=0;;)if(10>l)v(zd,x,u),l+=1;else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Gb(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d)v(zd,x,u),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Gb(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q),null,null)}}(k,l,m,n,b,a,c,d,Zx,li,Pg,Yd,nf,id,mf,Oh,e,f,h)(mg.c(5))}()),Ss=he(ve,wm),Ts=Mx(wm),Us=he(ue,wm);r(null)?fj(J(["{ :context",
X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,3,[Kn,f,so,"set-disj",Sl,id],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,Ts,Sj,Ss,Um,Us,Pk,wm],null)],0)),"}"],0)):fj(J(["[ min:",Nx(Ss),"] [ med:",Nx(Ts),"] [ max:",Nx(Us),"] ms"],0));var $x=r(null)?null:fj(J([[t("\n"),t(new p(null,3,[Kn,f,so,"set-lookup",Sl,id],null))].join("")],0)),ay=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d){for(var e=q(Yd),f=null,h=0,k=0;;)if(k<
h){var l=f.L(null,k);Qd(nf,l);k+=1}else if(e=q(e))f=e,P(f)?(e=z(f),k=B(f),f=e,h=M(e),e=k):(e=E(f),Qd(nf,e),e=F(f),f=null,h=0),k=0;else break;d+=1}else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),xm=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q){return function Gb(ea){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n,u,x){return function(){for(;;){var a=q(ea);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=
1E3+f,k=10;;){for(var l=0;;)if(10>l){for(var m=q(u),n=null,y=0,A=0;;)if(A<y){var D=n.L(null,A);Qd(x,D);A+=1}else if(m=q(m))n=m,P(n)?(m=z(n),A=B(n),n=m,y=M(m),m=A):(m=E(n),Qd(x,m),m=F(n),n=null,y=0),A=0;else break;l+=1}else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Gb(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d){for(var e=q(u),f=null,h=0,k=0;;)if(k<h){var l=f.L(null,k);Qd(x,l);k+=1}else if(e=q(e))f=
e,P(f)?(e=z(f),k=B(f),f=e,h=M(e),e=k):(e=E(f),Qd(x,e),e=F(f),f=null,h=0),k=0;else break;d+=1}else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Gb(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q),null,null)}}(k,l,m,n,b,a,c,d,$x,ay,Pg,Yd,nf,id,mf,Oh,e,f,h)(mg.c(5))}()),Vs=he(ve,xm),Ws=Mx(xm),Xs=he(ue,xm);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,3,[Kn,f,so,"set-lookup",Sl,id],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",
X.h(J([new p(null,4,[Bm,Ws,Sj,Vs,Um,Xs,Pk,xm],null)],0)),"}"],0)):fj(J(["[ min:",Nx(Vs),"] [ med:",Nx(Ws),"] [ max:",Nx(Xs),"] ms"],0))}var by=r(null)?null:fj(J([[t("\n"),t(new p(null,3,[Kn,f,so,"set-iterate",Sl,id],null))].join("")],0)),cy=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d){for(var e=q(nf),f=null,h=0,k=0;;)if(k<h){var l=f.L(null,k);1+l;k+=1}else if(e=q(e))f=e,P(f)?(e=z(f),k=B(f),f=e,h=M(e),e=k):(e=E(f),1+e,e=F(f),f=null,h=0),k=0;else break;d+=1}else break;d=Z();if(d<
b)c=10+c;else return(d-a)/c}}(),ym=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q){return function Gb(ea){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n,u,x){return function(){for(;;){var a=q(ea);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l){for(var m=q(x),n=null,u=0,y=0;;)if(y<u){var A=n.L(null,y);1+A;y+=1}else if(m=q(m))n=m,P(n)?(m=z(n),y=B(n),n=m,u=M(m),m=y):
(m=E(n),1+m,m=F(n),n=null,u=0),y=0;else break;l+=1}else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Gb(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d){for(var e=q(x),f=null,h=0,k=0;;)if(k<h){var l=f.L(null,k);1+l;k+=1}else if(e=q(e))f=e,P(f)?(e=z(f),k=B(f),f=e,h=M(e),e=k):(e=E(f),1+e,e=F(f),f=null,h=0),k=0;else break;d+=1}else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Gb(Ec(a)))}return null}}}(a,
b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q),null,null)}}(k,l,m,n,b,a,c,d,by,cy,Pg,Yd,nf,id,mf,Oh,e,f,h)(mg.c(5))}()),Ys=he(ve,ym),Zs=Mx(ym),$s=he(ue,ym);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,3,[Kn,f,so,"set-iterate",Sl,id],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,Zs,Sj,Ys,Um,$s,Pk,ym],null)],0)),"}"],0)):fj(J(["[ min:",Nx(Ys),"] [ med:",Nx(Zs),"] [ max:",Nx($s),"] ms"],0));var ty=r(null)?null:fj(J([[t("\n"),
t(new p(null,3,[Kn,f,so,"set-reduce",Sl,id],null))].join("")],0)),uy=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d)v(le,0,nf),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Em=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q){return function Gb(ea){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n,u,x){return function(){for(;;){var a=q(ea);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();
for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l)v(le,0,x),l+=1;else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Gb(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d)v(le,0,x),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Gb(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q),null,null)}}(k,l,m,n,b,a,c,d,ty,uy,Pg,Yd,nf,id,mf,Oh,e,f,h)(mg.c(5))}()),qt=he(ve,Em),rt=Mx(Em),st=he(ue,Em);
r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,3,[Kn,f,so,"set-reduce",Sl,id],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,rt,Sj,qt,Um,st,Pk,Em],null)],0)),"}"],0)):fj(J(["[ min:",Nx(qt),"] [ med:",Nx(rt),"] [ max:",Nx(st),"] ms"],0));k=F(mf);l=null;m=0}n=0}else break}d+=1}else{var Ae=q(b);if(Ae){var xd=Ae;if(P(xd))var tt=z(xd),vy=B(xd),wy=tt,xy=M(tt),b=vy,a=wy,c=xy;else{for(var Be=E(xd),f=N(Be,0),h=N(Be,1),
ce=q(new U(null,3,5,V,[100,500,2E4],null)),de=null,ee=0,yd=0;;)if(yd<ee){var kd=de.L(null,yd),dh=fe(mg.c(kd)),pi=fe(dh),wf=W.b(h,dh),yy=r(null)?null:fj(J([[t("\n"),t(new p(null,3,[Kn,f,so,"set-conj",Sl,kd],null))].join("")],0)),zy=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d)W.b(h,dh),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Fm=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q){return function Gb(ea){return new Te(null,function(a,b,c,d,e,f,
h,k,l,m,n,u,x,y,A,D,I){return function(){for(;;){var a=q(ea);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l)W.b(I,n),l+=1;else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Gb(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d)W.b(I,n),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Gb(Ec(a)))}return null}}}(a,
b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q),null,null)}}(ce,de,ee,yd,b,a,c,d,yy,zy,dh,pi,wf,kd,Be,f,h,xd,Ae)(mg.c(5))}()),yt=he(ve,Fm),zt=Mx(Fm),At=he(ue,Fm);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,3,[Kn,f,so,"set-conj",Sl,kd],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,zt,Sj,yt,Um,At,Pk,Fm],null)],0)),"}"],0)):fj(J(["[ min:",Nx(yt),"] [ med:",Nx(zt),"] [ max:",Nx(At),"] ms"],0));if(r(Oi(/set/,f))){var Ay=
r(null)?null:fj(J([[t("\n"),t(new p(null,3,[Kn,f,so,"set-disj",Sl,kd],null))].join("")],0)),By=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d)v(zd,wf,pi),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Gm=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q){return function Gb(ea){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n,u,x){return function(){for(;;){var a=q(ea);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,
a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l)v(zd,x,u),l+=1;else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Gb(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d)v(zd,x,u),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Gb(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q),null,null)}}(ce,de,ee,yd,b,a,c,d,Ay,By,dh,pi,wf,kd,Be,f,h,xd,Ae)(mg.c(5))}()),Bt=he(ve,
Gm),Ct=Mx(Gm),Dt=he(ue,Gm);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,3,[Kn,f,so,"set-disj",Sl,kd],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,Ct,Sj,Bt,Um,Dt,Pk,Gm],null)],0)),"}"],0)):fj(J(["[ min:",Nx(Bt),"] [ med:",Nx(Ct),"] [ max:",Nx(Dt),"] ms"],0));var Cy=r(null)?null:fj(J([[t("\n"),t(new p(null,3,[Kn,f,so,"set-lookup",Sl,kd],null))].join("")],0)),Dy=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=
0;;)if(10>d){for(var e=q(pi),f=null,h=0,k=0;;)if(k<h){var l=f.L(null,k);Qd(wf,l);k+=1}else if(e=q(e))f=e,P(f)?(e=z(f),k=B(f),f=e,h=M(e),e=k):(e=E(f),Qd(wf,e),e=F(f),f=null,h=0),k=0;else break;d+=1}else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Hm=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q){return function Gb(ea){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n,u,x){return function(){for(;;){var a=q(ea);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=
0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l){for(var m=q(u),n=null,y=0,A=0;;)if(A<y){var D=n.L(null,A);Qd(x,D);A+=1}else if(m=q(m))n=m,P(n)?(m=z(n),A=B(n),n=m,y=M(m),m=A):(m=E(n),Qd(x,m),m=F(n),n=null,y=0),A=0;else break;l+=1}else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Gb(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d){for(var e=q(u),f=null,h=0,k=0;;)if(k<
h){var l=f.L(null,k);Qd(x,l);k+=1}else if(e=q(e))f=e,P(f)?(e=z(f),k=B(f),f=e,h=M(e),e=k):(e=E(f),Qd(x,e),e=F(f),f=null,h=0),k=0;else break;d+=1}else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Gb(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q),null,null)}}(ce,de,ee,yd,b,a,c,d,Cy,Dy,dh,pi,wf,kd,Be,f,h,xd,Ae)(mg.c(5))}()),Et=he(ve,Hm),Ft=Mx(Hm),Gt=he(ue,Hm);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,3,[Kn,f,so,"set-lookup",Sl,kd],null)],0)),"\n  :env    ",
X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,Ft,Sj,Et,Um,Gt,Pk,Hm],null)],0)),"}"],0)):fj(J(["[ min:",Nx(Et),"] [ med:",Nx(Ft),"] [ max:",Nx(Gt),"] ms"],0))}var Ey=r(null)?null:fj(J([[t("\n"),t(new p(null,3,[Kn,f,so,"set-iterate",Sl,kd],null))].join("")],0)),Fy=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d){for(var e=q(wf),f=null,h=0,k=0;;)if(k<h){var l=f.L(null,k);1+l;k+=1}else if(e=q(e))f=e,P(f)?(e=z(f),k=B(f),f=e,h=M(e),e=k):(e=E(f),1+e,e=F(f),
f=null,h=0),k=0;else break;d+=1}else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Im=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q){return function Gb(ea){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n,u,x){return function(){for(;;){var a=q(ea);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l){for(var m=q(x),n=null,u=0,y=0;;)if(y<u){var A=n.L(null,y);1+A;y+=1}else if(m=
q(m))n=m,P(n)?(m=z(n),y=B(n),n=m,u=M(m),m=y):(m=E(n),1+m,m=F(n),n=null,u=0),y=0;else break;l+=1}else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Gb(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d){for(var e=q(x),f=null,h=0,k=0;;)if(k<h){var l=f.L(null,k);1+l;k+=1}else if(e=q(e))f=e,P(f)?(e=z(f),k=B(f),f=e,h=M(e),e=k):(e=E(f),1+e,e=F(f),f=null,h=0),k=0;else break;d+=1}else break;d=Z();if(d<b)c=10+c;else return(d-
a)/c}}(),Gb(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q),null,null)}}(ce,de,ee,yd,b,a,c,d,Ey,Fy,dh,pi,wf,kd,Be,f,h,xd,Ae)(mg.c(5))}()),Ht=he(ve,Im),It=Mx(Im),Jt=he(ue,Im);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,3,[Kn,f,so,"set-iterate",Sl,kd],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,It,Sj,Ht,Um,Jt,Pk,Im],null)],0)),"}"],0)):fj(J(["[ min:",Nx(Ht),"] [ med:",Nx(It),"] [ max:",Nx(Jt),
"] ms"],0));var Gy=r(null)?null:fj(J([[t("\n"),t(new p(null,3,[Kn,f,so,"set-reduce",Sl,kd],null))].join("")],0)),Hy=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d)v(le,0,wf),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Jm=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q){return function Gb(ea){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n,u,x){return function(){for(;;){var a=q(ea);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=
0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l)v(le,0,x),l+=1;else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Gb(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d)v(le,0,x),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Gb(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q),null,null)}}(ce,de,ee,yd,b,a,c,d,Gy,Hy,dh,pi,wf,kd,Be,f,h,xd,Ae)(mg.c(5))}()),
Kt=he(ve,Jm),Lt=Mx(Jm),Mt=he(ue,Jm);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,3,[Kn,f,so,"set-reduce",Sl,kd],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,Lt,Sj,Kt,Um,Mt,Pk,Jm],null)],0)),"}"],0)):fj(J(["[ min:",Nx(Kt),"] [ med:",Nx(Lt),"] [ max:",Nx(Mt),"] ms"],0));yd+=1}else{var qi=q(ce);if(qi){var xf=qi;if(P(xf))var Nt=z(xf),Iy=B(xf),Jy=Nt,Ky=M(Nt),ce=Iy,de=Jy,ee=Ky;else{var ld=E(xf),eh=fe(mg.c(ld)),
ri=fe(eh),yf=W.b(h,eh),Ly=r(null)?null:fj(J([[t("\n"),t(new p(null,3,[Kn,f,so,"set-conj",Sl,ld],null))].join("")],0)),My=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d)W.b(h,eh),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Km=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q,ea,na){return function Od(Ha){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q){return function(){for(;;){var a=q(Ha);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);
return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l)W.b(Q,n),l+=1;else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Od(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d)W.b(Q,n),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Od(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q,ea,na),null,null)}}(ce,de,ee,yd,b,a,c,d,Ly,
My,eh,ri,yf,ld,xf,qi,Be,f,h,xd,Ae)(mg.c(5))}()),Ot=he(ve,Km),Pt=Mx(Km),Qt=he(ue,Km);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,3,[Kn,f,so,"set-conj",Sl,ld],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,Pt,Sj,Ot,Um,Qt,Pk,Km],null)],0)),"}"],0)):fj(J(["[ min:",Nx(Ot),"] [ med:",Nx(Pt),"] [ max:",Nx(Qt),"] ms"],0));if(r(Oi(/set/,f))){var Ny=r(null)?null:fj(J([[t("\n"),t(new p(null,3,[Kn,f,so,"set-disj",Sl,ld],
null))].join("")],0)),Oy=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d)v(zd,yf,ri),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Lm=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q,ea,na){return function Od(Ha){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n,u,x){return function(){for(;;){var a=q(Ha);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>
l)v(zd,x,u),l+=1;else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Od(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d)v(zd,x,u),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Od(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q,ea,na),null,null)}}(ce,de,ee,yd,b,a,c,d,Ny,Oy,eh,ri,yf,ld,xf,qi,Be,f,h,xd,Ae)(mg.c(5))}()),Rt=he(ve,Lm),St=Mx(Lm),Tt=he(ue,Lm);r(null)?fj(J(["{ :context",
X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,3,[Kn,f,so,"set-disj",Sl,ld],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,St,Sj,Rt,Um,Tt,Pk,Lm],null)],0)),"}"],0)):fj(J(["[ min:",Nx(Rt),"] [ med:",Nx(St),"] [ max:",Nx(Tt),"] ms"],0));var Py=r(null)?null:fj(J([[t("\n"),t(new p(null,3,[Kn,f,so,"set-lookup",Sl,ld],null))].join("")],0)),Qy=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d){for(var e=q(ri),f=null,h=0,k=0;;)if(k<
h){var l=f.L(null,k);Qd(yf,l);k+=1}else if(e=q(e))f=e,P(f)?(e=z(f),k=B(f),f=e,h=M(e),e=k):(e=E(f),Qd(yf,e),e=F(f),f=null,h=0),k=0;else break;d+=1}else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Mm=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q,ea,na){return function Od(Ha){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n,u,x){return function(){for(;;){var a=q(Ha);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=
Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l){for(var m=q(u),n=null,y=0,A=0;;)if(A<y){var D=n.L(null,A);Qd(x,D);A+=1}else if(m=q(m))n=m,P(n)?(m=z(n),A=B(n),n=m,y=M(m),m=A):(m=E(n),Qd(x,m),m=F(n),n=null,y=0),A=0;else break;l+=1}else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Od(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d){for(var e=q(u),f=null,h=0,k=0;;)if(k<h){var l=f.L(null,k);Qd(x,l);k+=
1}else if(e=q(e))f=e,P(f)?(e=z(f),k=B(f),f=e,h=M(e),e=k):(e=E(f),Qd(x,e),e=F(f),f=null,h=0),k=0;else break;d+=1}else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Od(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q,ea,na),null,null)}}(ce,de,ee,yd,b,a,c,d,Py,Qy,eh,ri,yf,ld,xf,qi,Be,f,h,xd,Ae)(mg.c(5))}()),Ut=he(ve,Mm),Vt=Mx(Mm),Wt=he(ue,Mm);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,3,[Kn,f,so,"set-lookup",Sl,ld],null)],0)),"\n  :env    ",X.h(J([new p(null,
1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,Vt,Sj,Ut,Um,Wt,Pk,Mm],null)],0)),"}"],0)):fj(J(["[ min:",Nx(Ut),"] [ med:",Nx(Vt),"] [ max:",Nx(Wt),"] ms"],0))}var Ry=r(null)?null:fj(J([[t("\n"),t(new p(null,3,[Kn,f,so,"set-iterate",Sl,ld],null))].join("")],0)),Sy=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d){for(var e=q(yf),f=null,h=0,k=0;;)if(k<h){var l=f.L(null,k);1+l;k+=1}else if(e=q(e))f=e,P(f)?(e=z(f),k=B(f),f=e,h=M(e),e=k):(e=E(f),1+e,e=F(f),f=null,h=0),k=0;
else break;d+=1}else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Nm=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q,ea,na){return function Od(Ha){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n,u,x){return function(){for(;;){var a=q(Ha);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l){for(var m=q(x),n=null,u=0,y=0;;)if(y<u){var A=n.L(null,y);1+A;y+=1}else if(m=q(m))n=
m,P(n)?(m=z(n),y=B(n),n=m,u=M(m),m=y):(m=E(n),1+m,m=F(n),n=null,u=0),y=0;else break;l+=1}else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Od(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d){for(var e=q(x),f=null,h=0,k=0;;)if(k<h){var l=f.L(null,k);1+l;k+=1}else if(e=q(e))f=e,P(f)?(e=z(f),k=B(f),f=e,h=M(e),e=k):(e=E(f),1+e,e=F(f),f=null,h=0),k=0;else break;d+=1}else break;d=Z();if(d<b)c=10+c;else return(d-
a)/c}}(),Od(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q,ea,na),null,null)}}(ce,de,ee,yd,b,a,c,d,Ry,Sy,eh,ri,yf,ld,xf,qi,Be,f,h,xd,Ae)(mg.c(5))}()),Xt=he(ve,Nm),Yt=Mx(Nm),Zt=he(ue,Nm);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,3,[Kn,f,so,"set-iterate",Sl,ld],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,Yt,Sj,Xt,Um,Zt,Pk,Nm],null)],0)),"}"],0)):fj(J(["[ min:",Nx(Xt),"] [ med:",Nx(Yt),"] [ max:",
Nx(Zt),"] ms"],0));var Ty=r(null)?null:fj(J([[t("\n"),t(new p(null,3,[Kn,f,so,"set-reduce",Sl,ld],null))].join("")],0)),Uy=function(){for(var a=Z(),b=500+a,c=10;;){for(var d=0;;)if(10>d)v(le,0,yf),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Om=W.b(K,function(){return function(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q,ea,na){return function Od(Ha){return new Te(null,function(a,b,c,d,e,f,h,k,l,m,n,u,x){return function(){for(;;){var a=q(Ha);if(a){if(P(a)){var b=z(a),c=M(b),d=Xe(c);return function(){for(var a=
0;;)if(a<c){w.b(b,a);var e=d,f;a:{f=Z();for(var h=1E3+f,k=10;;){for(var l=0;;)if(10>l)v(le,0,x),l+=1;else break;l=Z();if(l<h)k=10+k;else{f=(l-f)/k;break a}}}e.add(f);a+=1}else return!0}()?Ze(bf(d),Od(B(a))):Ze(bf(d),null)}E(a);return bd(function(){for(var a=Z(),b=1E3+a,c=10;;){for(var d=0;;)if(10>d)v(le,0,x),d+=1;else break;d=Z();if(d<b)c=10+c;else return(d-a)/c}}(),Od(Ec(a)))}return null}}}(a,b,c,d,e,f,h,k,l,m,n,u,x,y,A,D,I,L,Q,ea,na),null,null)}}(ce,de,ee,yd,b,a,c,d,Ty,Uy,eh,ri,yf,ld,xf,qi,Be,f,
h,xd,Ae)(mg.c(5))}()),$t=he(ve,Om),au=Mx(Om),bu=he(ue,Om);r(null)?fj(J(["{ :context",X.h(J([null],0)),"\n  :spec   ",X.h(J([new p(null,3,[Kn,f,so,"set-reduce",Sl,ld],null)],0)),"\n  :env    ",X.h(J([new p(null,1,[cm,Ox()],null)],0)),"\n  :results",X.h(J([new p(null,4,[Bm,au,Sj,$t,Um,bu,Pk,Om],null)],0)),"}"],0)):fj(J(["[ min:",Nx($t),"] [ med:",Nx(au),"] [ max:",Nx(bu),"] ms"],0));ce=F(xf);de=null;ee=0}yd=0}else break}b=F(xd);a=null;c=0}d=0}else return null}}fa("datascript.bench.bench_btset",fy);
fa("datascript.bench.bench_all",function(){Wx();Xx();Yx();dy();ey();return fy()});function gy(b){return"string"===typeof b&&G.b(Fe.f(b,0,1),":")?Re.c(Fe.b(b,1)):b}function hy(b){return ie(function(a,b,d){return O.f(a,b,Tp(gy,d))},Ud,qj(b))}
function iy(b){if(Ed(b))return O.f(td.b(b,":db/id"),ln,b.c?b.c(":db/id"):b.call(null,":db/id"));if(G.b(E(b),":db.fn/call")){var a=N(b,0),c=N(b,1),d=Ee(b,2);return T.b(new U(null,2,5,V,[Ll,function(a,b,c){return function(){function a(c){var d=null;if(0<arguments.length){for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new za(e,0)}return b.call(this,d)}function b(a){a=lf(c,a);return jy.c?jy.c(a):jy.call(null,a)}a.A=0;a.H=function(a){a=q(a);return b(a)};a.h=b;return a}()}(b,
a,c,d)],null),d)}return Dd(b)?(a=N(b,0),b=Ee(b,1),T.b(new U(null,1,5,V,[gy(a)],null),b)):null}function jy(b){return Xf.b(iy,qj(b))}function ky(b){if(Ea(b)){var a=b[0],c=b[1],d=b[2],e=function(){var a=b[3];return a?a:536870912}(),f=function(){var a=b[4];return a?a:!0}();return fq.W?fq.W(a,c,d,e,f):fq.call(null,a,c,d,e,f)}a=b.e;c=b.a;d=b.v;e=function(){var a=b.tx;return a?a:536870912}();f=function(){var a=b.added;return a?a:!0}();return fq.W?fq.W(a,c,d,e,f):fq.call(null,a,c,d,e,f)}
function ly(b){return nj(Tp(function(a){return a instanceof R?""+t(a):a},b))}var my=function my(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return my.h(0<c.length?new za(c.slice(0),0):null)};fa("datascript.js.empty_db",my);my.h=function(b){b=N(b,0);b=hy(b);return Fq.c?Fq.c(b):Fq.call(null,b)};my.A=0;my.H=function(b){return my.h(q(b))};
var ny=function ny(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return ny.h(arguments[0],1<c.length?new za(c.slice(1),0):null)};fa("datascript.js.init_db",ny);ny.h=function(b,a){var c=N(a,0),d=Xf.b(ky,b),c=hy(c);return Tq.b?Tq.b(d,c):Tq.call(null,d,c)};ny.A=1;ny.H=function(b){var a=E(b);b=F(b);return ny.h(a,b)};
var oy=function oy(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return oy.h(arguments[0],1<c.length?new za(c.slice(1),0):null)};fa("datascript.js.q",oy);oy.h=function(b,a){var c=iv(b),c=of(Xw,c,a);return nj(c)};oy.A=1;oy.H=function(b){var a=E(b);b=F(b);return oy.h(a,b)};fa("datascript.js.pull",function(b,a,c){a=iv(a);c=qj(c);b=uu.f?uu.f(b,a,c):uu.call(null,b,a,c);return ly(b)});
fa("datascript.js.pull_many",function(b,a,c){a=iv(a);c=qj(c);b=vu.f?vu.f(b,a,c):vu.call(null,b,a,c);return ly(b)});fa("datascript.js.db_with",function(b,a){return dx(b,jy(a))});fa("datascript.js.entity",function(b,a){var c=qj(a);return sv.b?sv.b(b,c):sv.call(null,b,c)});fa("datascript.js.touch",yv);fa("datascript.js.entity_db",$w);fa("datascript.js.filter",bx);fa("datascript.js.is_filtered",ax);
var py=function py(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return py.h(0<c.length?new za(c.slice(0),0):null)};fa("datascript.js.create_conn",py);py.h=function(b){b=N(b,0);return ix.c(hy(b))};py.A=0;py.H=function(b){return py.h(q(b))};fa("datascript.js.conn_from_db",gx);
var qy=function qy(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return qy.c(arguments[0]);case 2:return qy.b(arguments[0],arguments[1]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};fa("datascript.js.conn_from_datoms",qy);qy.c=function(b){b=ny(b);return gx.c?gx.c(b):gx.call(null,b)};qy.b=function(b,a){var c=ny.h(b,J([a],0));return gx.c?gx.c(c):gx.call(null,c)};qy.A=2;
fa("datascript.js.db",function(b){return H.c?H.c(b):H.call(null,b)});var ry=function ry(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return ry.h(arguments[0],arguments[1],2<c.length?new za(c.slice(2),0):null)};fa("datascript.js.transact",ry);
ry.h=function(b,a,c){c=N(c,0);a=jy(a);a=jx(b,a,c);c=em.c(a);for(var d=Lk.c(a),e=Aa(fm.c(a)),f=Ij.c(a),h={},f=q(f),k=null,l=0,m=0;;)if(m<l){var n=k.L(null,m),u=N(n,0),n=N(n,1);h[""+t(u)]=n;m+=1}else if(f=q(f))P(f)?(l=z(f),f=B(f),k=l,l=M(l)):(l=E(f),k=N(l,0),l=N(l,1),h[""+t(k)]=l,f=F(f),k=null,l=0),m=0;else break;a={db_before:c,db_after:d,tx_data:e,tempids:h,tx_meta:Rn.c(a)};b=lo.c(wd(b));b=H.c?H.c(b):H.call(null,b);b=q(b);c=null;for(e=d=0;;)if(e<d)h=c.L(null,e),N(h,0),h=N(h,1),h.c?h.c(a):h.call(null,
a),e+=1;else if(b=q(b))P(b)?(d=z(b),b=B(b),c=d,d=M(d)):(c=E(b),N(c,0),c=N(c,1),c.c?c.c(a):c.call(null,a),b=F(b),c=null,d=0),e=0;else break;return a};ry.A=2;ry.H=function(b){var a=E(b),c=F(b);b=E(c);c=F(c);return ry.h(a,b,c)};var sy=function sy(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return sy.h(arguments[0],arguments[1],2<c.length?new za(c.slice(2),0):null)};fa("datascript.js.reset_conn",sy);
sy.h=function(b,a,c){var d=N(c,0);c={db_before:H.c?H.c(b):H.call(null,b),db_after:a,tx_data:Aa(T.b(Xf.b(function(){return function(a){return O.f(a,Tk,!1)}}(c,d),ex.b(H.c?H.c(b):H.call(null,b),Ul)),ex.b(a,Ul))),tx_meta:d};Pf.b?Pf.b(b,a):Pf.call(null,b,a);for(var d=q(function(){var a=lo.c(wd(b));return H.c?H.c(a):H.call(null,a)}()),e=null,f=0,h=0;;)if(h<f){var k=e.L(null,h);N(k,0);k=N(k,1);k.c?k.c(c):k.call(null,c);h+=1}else if(d=q(d))P(d)?(f=z(d),d=B(d),e=f,f=M(f)):(e=E(d),N(e,0),e=N(e,1),e.c?e.c(c):
e.call(null,c),d=F(d),e=null,f=0),h=0;else break;return a};sy.A=2;sy.H=function(b){var a=E(b),c=F(b);b=E(c);c=F(c);return sy.h(a,b,c)};fa("datascript.js.listen",mx);fa("datascript.js.unlisten",nx);fa("datascript.js.resolve_tempid",function(b,a){return b[""+t(a)]});var Vy=function Vy(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Vy.h(arguments[0],arguments[1],2<c.length?new za(c.slice(2),0):null)};fa("datascript.js.datoms",Vy);
Vy.h=function(b,a,c){return Aa(pf(ex,b,gy(a),c))};Vy.A=2;Vy.H=function(b){var a=E(b),c=F(b);b=E(c);c=F(c);return Vy.h(a,b,c)};var Wy=function Wy(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Wy.h(arguments[0],arguments[1],2<c.length?new za(c.slice(2),0):null)};fa("datascript.js.seek_datoms",Wy);Wy.h=function(b,a,c){return Aa(pf(fx,b,gy(a),c))};Wy.A=2;Wy.H=function(b){var a=E(b),c=F(b);b=E(c);c=F(c);return Wy.h(a,b,c)};
fa("datascript.js.index_range",function(b,a,c,d){return Aa(wq(b,a,c,d))});fa("datascript.js.squuid",function(){return""+t(Kx.s())});fa("datascript.js.squuid_time_millis",function(b){return Lx(new wj(b,null))});ni();
        ;return this.datascript.js;

    }.call({});

});
